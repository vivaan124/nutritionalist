var G={exports:{}},Ce={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var kA=Object.getOwnPropertySymbols,e$=Object.prototype.hasOwnProperty,t$=Object.prototype.propertyIsEnumerable;function n$(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r$(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var QO=r$()?Object.assign:function(e,t){for(var n,r=n$(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var a in n)e$.call(n,a)&&(r[a]=n[a]);if(kA){i=kA(n);for(var l=0;l<i.length;l++)t$.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT=QO,pl=60103,YO=60106;Ce.Fragment=60107;Ce.StrictMode=60108;Ce.Profiler=60114;var XO=60109,JO=60110,ZO=60112;Ce.Suspense=60113;var ex=60115,tx=60116;if(typeof Symbol=="function"&&Symbol.for){var Lr=Symbol.for;pl=Lr("react.element"),YO=Lr("react.portal"),Ce.Fragment=Lr("react.fragment"),Ce.StrictMode=Lr("react.strict_mode"),Ce.Profiler=Lr("react.profiler"),XO=Lr("react.provider"),JO=Lr("react.context"),ZO=Lr("react.forward_ref"),Ce.Suspense=Lr("react.suspense"),ex=Lr("react.memo"),tx=Lr("react.lazy")}var AA=typeof Symbol=="function"&&Symbol.iterator;function i$(e){return e===null||typeof e!="object"?null:(e=AA&&e[AA]||e["@@iterator"],typeof e=="function"?e:null)}function ch(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rx={};function vl(e,t,n){this.props=e,this.context=t,this.refs=rx,this.updater=n||nx}vl.prototype.isReactComponent={};vl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(ch(85));this.updater.enqueueSetState(this,e,t,"setState")};vl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ix(){}ix.prototype=vl.prototype;function gT(e,t,n){this.props=e,this.context=t,this.refs=rx,this.updater=n||nx}var mT=gT.prototype=new ix;mT.constructor=gT;vT(mT,vl.prototype);mT.isPureReactComponent=!0;var yT={current:null},ox=Object.prototype.hasOwnProperty,sx={key:!0,ref:!0,__self:!0,__source:!0};function ax(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)ox.call(t,r)&&!sx.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:pl,type:e,key:s,ref:a,props:i,_owner:yT.current}}function o$(e,t){return{$$typeof:pl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _T(e){return typeof e=="object"&&e!==null&&e.$$typeof===pl}function s$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var NA=/\/+/g;function f_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s$(""+e.key):t.toString(36)}function kp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case pl:case YO:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+f_(a,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(NA,"$&/")+"/"),kp(i,t,n,"",function(h){return h})):i!=null&&(_T(i)&&(i=o$(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(NA,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+f_(s,l);a+=kp(s,t,n,c,i)}else if(c=i$(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+f_(s,l++),a+=kp(s,t,n,c,i);else if(s==="object")throw t=""+e,Error(ch(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function Zd(e,t,n){if(e==null)return e;var r=[],i=0;return kp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function a$(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var ux={current:null};function Gi(){var e=ux.current;if(e===null)throw Error(ch(321));return e}var u$={ReactCurrentDispatcher:ux,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:yT,IsSomeRendererActing:{current:!1},assign:vT};Ce.Children={map:Zd,forEach:function(e,t,n){Zd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zd(e,function(){t++}),t},toArray:function(e){return Zd(e,function(t){return t})||[]},only:function(e){if(!_T(e))throw Error(ch(143));return e}};Ce.Component=vl;Ce.PureComponent=gT;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u$;Ce.cloneElement=function(e,t,n){if(e==null)throw Error(ch(267,e));var r=vT({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=yT.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ox.call(t,c)&&!sx.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:pl,type:e.type,key:i,ref:s,props:r,_owner:a}};Ce.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:JO,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:XO,_context:e},e.Consumer=e};Ce.createElement=ax;Ce.createFactory=function(e){var t=ax.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:ZO,render:e}};Ce.isValidElement=_T;Ce.lazy=function(e){return{$$typeof:tx,_payload:{_status:-1,_result:e},_init:a$}};Ce.memo=function(e,t){return{$$typeof:ex,type:e,compare:t===void 0?null:t}};Ce.useCallback=function(e,t){return Gi().useCallback(e,t)};Ce.useContext=function(e,t){return Gi().useContext(e,t)};Ce.useDebugValue=function(){};Ce.useEffect=function(e,t){return Gi().useEffect(e,t)};Ce.useImperativeHandle=function(e,t,n){return Gi().useImperativeHandle(e,t,n)};Ce.useLayoutEffect=function(e,t){return Gi().useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return Gi().useMemo(e,t)};Ce.useReducer=function(e,t,n){return Gi().useReducer(e,t,n)};Ce.useRef=function(e){return Gi().useRef(e)};Ce.useState=function(e){return Gi().useState(e)};Ce.version="17.0.2";G.exports=Ce;var _te=G.exports,wT={exports:{}},Cr={},lx={exports:{}},cx={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var c=null,h=null,p=function(){if(c!==null)try{var W=e.unstable_now();c(!0,W),c=null}catch(re){throw setTimeout(p,0),re}};t=function(W){c!==null?setTimeout(t,0,W):(c=W,setTimeout(p,0))},n=function(W,re){h=setTimeout(W,re)},r=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var g=window.setTimeout,m=window.clearTimeout;if(typeof console!="undefined"){var y=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof y!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var E=!1,S=null,w=-1,T=5,I=0;e.unstable_shouldYield=function(){return e.unstable_now()>=I},i=function(){},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<W?Math.floor(1e3/W):5};var k=new MessageChannel,P=k.port2;k.port1.onmessage=function(){if(S!==null){var W=e.unstable_now();I=W+T;try{S(!0,W)?P.postMessage(null):(E=!1,S=null)}catch(re){throw P.postMessage(null),re}}else E=!1},t=function(W){S=W,E||(E=!0,P.postMessage(null))},n=function(W,re){w=g(function(){W(e.unstable_now())},re)},r=function(){m(w),w=-1}}function x(W,re){var se=W.length;W.push(re);e:for(;;){var je=se-1>>>1,qe=W[je];if(qe!==void 0&&0<L(qe,re))W[je]=re,W[se]=qe,se=je;else break e}}function O(W){return W=W[0],W===void 0?null:W}function F(W){var re=W[0];if(re!==void 0){var se=W.pop();if(se!==re){W[0]=se;e:for(var je=0,qe=W.length;je<qe;){var Pn=2*(je+1)-1,Qr=W[Pn],xe=Pn+1,eo=W[xe];if(Qr!==void 0&&0>L(Qr,se))eo!==void 0&&0>L(eo,Qr)?(W[je]=eo,W[xe]=se,je=xe):(W[je]=Qr,W[Pn]=se,je=Pn);else if(eo!==void 0&&0>L(eo,se))W[je]=eo,W[xe]=se,je=xe;else break e}}return re}return null}function L(W,re){var se=W.sortIndex-re.sortIndex;return se!==0?se:W.id-re.id}var M=[],A=[],ge=1,pe=null,ke=3,lt=!1,it=!1,Ze=!1;function Rn(W){for(var re=O(A);re!==null;){if(re.callback===null)F(A);else if(re.startTime<=W)F(A),re.sortIndex=re.expirationTime,x(M,re);else break;re=O(A)}}function et(W){if(Ze=!1,Rn(W),!it)if(O(M)!==null)it=!0,t(bi);else{var re=O(A);re!==null&&n(et,re.startTime-W)}}function bi(W,re){it=!1,Ze&&(Ze=!1,r()),lt=!0;var se=ke;try{for(Rn(re),pe=O(M);pe!==null&&(!(pe.expirationTime>re)||W&&!e.unstable_shouldYield());){var je=pe.callback;if(typeof je=="function"){pe.callback=null,ke=pe.priorityLevel;var qe=je(pe.expirationTime<=re);re=e.unstable_now(),typeof qe=="function"?pe.callback=qe:pe===O(M)&&F(M),Rn(re)}else F(M);pe=O(M)}if(pe!==null)var Pn=!0;else{var Qr=O(A);Qr!==null&&n(et,Qr.startTime-re),Pn=!1}return Pn}finally{pe=null,ke=se,lt=!1}}var ar=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){it||lt||(it=!0,t(bi))},e.unstable_getCurrentPriorityLevel=function(){return ke},e.unstable_getFirstCallbackNode=function(){return O(M)},e.unstable_next=function(W){switch(ke){case 1:case 2:case 3:var re=3;break;default:re=ke}var se=ke;ke=re;try{return W()}finally{ke=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=ar,e.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var se=ke;ke=W;try{return re()}finally{ke=se}},e.unstable_scheduleCallback=function(W,re,se){var je=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?je+se:je):se=je,W){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=se+qe,W={id:ge++,callback:re,priorityLevel:W,startTime:se,expirationTime:qe,sortIndex:-1},se>je?(W.sortIndex=se,x(A,W),O(M)===null&&W===O(A)&&(Ze?r():Ze=!0,n(et,se-je))):(W.sortIndex=qe,x(M,W),it||lt||(it=!0,t(bi))),W},e.unstable_wrapCallback=function(W){var re=ke;return function(){var se=ke;ke=re;try{return W.apply(this,arguments)}finally{ke=se}}}})(cx);lx.exports=cx;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg=G.exports,Je=QO,Ut=lx.exports;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!lg)throw Error(q(227));var fx=new Set,Tf={};function ma(e,t){ju(e,t),ju(e+"Capture",t)}function ju(e,t){for(Tf[e]=t,e=0;e<t.length;e++)fx.add(t[e])}var qi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),l$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RA=Object.prototype.hasOwnProperty,PA={},OA={};function c$(e){return RA.call(OA,e)?!0:RA.call(PA,e)?!1:l$.test(e)?OA[e]=!0:(PA[e]=!0,!1)}function f$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function h$(e,t,n,r){if(t===null||typeof t=="undefined"||f$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xt[e]=new Nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xt[t]=new Nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xt[e]=new Nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xt[e]=new Nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xt[e]=new Nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xt[e]=new Nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xt[e]=new Nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xt[e]=new Nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xt[e]=new Nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ET=/[\-:]([a-z])/g;function TT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ET,TT);Xt[t]=new Nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ET,TT);Xt[t]=new Nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ET,TT);Xt[t]=new Nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xt[e]=new Nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xt[e]=new Nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function bT(e,t,n,r){var i=Xt.hasOwnProperty(t)?Xt[t]:null,s=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");s||(h$(t,n,i,r)&&(n=null),r||i===null?c$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ya=lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bc=60103,Ds=60106,mo=60107,IT=60108,Gc=60114,ST=60109,CT=60110,cg=60112,Qc=60113,Gp=60120,fg=60115,kT=60116,AT=60121,NT=60128,hx=60129,RT=60130,_w=60131;if(typeof Symbol=="function"&&Symbol.for){var Rt=Symbol.for;Bc=Rt("react.element"),Ds=Rt("react.portal"),mo=Rt("react.fragment"),IT=Rt("react.strict_mode"),Gc=Rt("react.profiler"),ST=Rt("react.provider"),CT=Rt("react.context"),cg=Rt("react.forward_ref"),Qc=Rt("react.suspense"),Gp=Rt("react.suspense_list"),fg=Rt("react.memo"),kT=Rt("react.lazy"),AT=Rt("react.block"),Rt("react.scope"),NT=Rt("react.opaque.id"),hx=Rt("react.debug_trace_mode"),RT=Rt("react.offscreen"),_w=Rt("react.legacy_hidden")}var xA=typeof Symbol=="function"&&Symbol.iterator;function Ec(e){return e===null||typeof e!="object"?null:(e=xA&&e[xA]||e["@@iterator"],typeof e=="function"?e:null)}var h_;function $c(e){if(h_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);h_=t&&t[1]||""}return`
`+h_+e}var d_=!1;function ep(e,t){if(!e||d_)return"";d_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=l);break}}}finally{d_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$c(e):""}function d$(e){switch(e.tag){case 5:return $c(e.type);case 16:return $c("Lazy");case 13:return $c("Suspense");case 19:return $c("SuspenseList");case 0:case 2:case 15:return e=ep(e.type,!1),e;case 11:return e=ep(e.type.render,!1),e;case 22:return e=ep(e.type._render,!1),e;case 1:return e=ep(e.type,!0),e;default:return""}}function Tu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mo:return"Fragment";case Ds:return"Portal";case Gc:return"Profiler";case IT:return"StrictMode";case Qc:return"Suspense";case Gp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CT:return(e.displayName||"Context")+".Consumer";case ST:return(e._context.displayName||"Context")+".Provider";case cg:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case fg:return Tu(e.type);case AT:return Tu(e._render);case kT:t=e._payload,e=e._init;try{return Tu(e(t))}catch{}}return null}function Vo(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function dx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p$(e){var t=dx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tp(e){e._valueTracker||(e._valueTracker=p$(e))}function px(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qp(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function ww(e,t){var n=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function DA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vx(e,t){t=t.checked,t!=null&&bT(e,"checked",t,!1)}function Ew(e,t){vx(e,t);var n=Vo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tw(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tw(e,t.type,Vo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function LA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Tw(e,t,n){(t!=="number"||Qp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function v$(e){var t="";return lg.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function bw(e,t){return e=Je({children:void 0},t),(t=v$(t.children))&&(e.children=t),e}function bu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Iw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function MA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vo(n)}}function gx(e,t){var n=Vo(t.value),r=Vo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function FA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Sw={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function mx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var np,yx=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==Sw.svg||"innerHTML"in e)e.innerHTML=t;else{for(np=np||document.createElement("div"),np.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=np.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yc={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g$=["Webkit","ms","Moz","O"];Object.keys(Yc).forEach(function(e){g$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yc[t]=Yc[e]})});function _x(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yc.hasOwnProperty(e)&&Yc[e]?(""+t).trim():t+"px"}function wx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_x(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var m$=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kw(e,t){if(t){if(m$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Aw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function PT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nw=null,Iu=null,Su=null;function UA(e){if(e=hh(e)){if(typeof Nw!="function")throw Error(q(280));var t=e.stateNode;t&&(t=mg(t),Nw(e.stateNode,e.type,t))}}function Ex(e){Iu?Su?Su.push(e):Su=[e]:Iu=e}function Tx(){if(Iu){var e=Iu,t=Su;if(Su=Iu=null,UA(e),t)for(e=0;e<t.length;e++)UA(t[e])}}function OT(e,t){return e(t)}function bx(e,t,n,r,i){return e(t,n,r,i)}function xT(){}var Ix=OT,Ls=!1,p_=!1;function DT(){(Iu!==null||Su!==null)&&(xT(),Tx())}function y$(e,t,n){if(p_)return e(t,n);p_=!0;try{return Ix(e,t,n)}finally{p_=!1,DT()}}function If(e,t){var n=e.stateNode;if(n===null)return null;var r=mg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Rw=!1;if(qi)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){Rw=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{Rw=!1}function _$(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var Xc=!1,Yp=null,Xp=!1,Pw=null,w$={onError:function(e){Xc=!0,Yp=e}};function E$(e,t,n,r,i,s,a,l,c){Xc=!1,Yp=null,_$.apply(w$,arguments)}function T$(e,t,n,r,i,s,a,l,c){if(E$.apply(this,arguments),Xc){if(Xc){var h=Yp;Xc=!1,Yp=null}else throw Error(q(198));Xp||(Xp=!0,Pw=h)}}function _a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jA(e){if(_a(e)!==e)throw Error(q(188))}function b$(e){var t=e.alternate;if(!t){if(t=_a(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jA(i),e;if(s===r)return jA(i),t;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Cx(e){if(e=b$(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function VA(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var kx,LT,Ax,Nx,Ow=!1,oi=[],ko=null,Ao=null,No=null,Sf=new Map,Cf=new Map,bc=[],BA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xw(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function $A(e,t){switch(e){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Sf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cf.delete(t.pointerId)}}function Ic(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e=xw(t,n,r,i,s),t!==null&&(t=hh(t),t!==null&&LT(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function I$(e,t,n,r,i){switch(t){case"focusin":return ko=Ic(ko,e,t,n,r,i),!0;case"dragenter":return Ao=Ic(Ao,e,t,n,r,i),!0;case"mouseover":return No=Ic(No,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sf.set(s,Ic(Sf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cf.set(s,Ic(Cf.get(s)||null,e,t,n,r,i)),!0}return!1}function S$(e){var t=Ms(e.target);if(t!==null){var n=_a(t);if(n!==null){if(t=n.tag,t===13){if(t=Sx(n),t!==null){e.blockedOn=t,Nx(e.lanePriority,function(){Ut.unstable_runWithPriority(e.priority,function(){Ax(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ap(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=hh(n),t!==null&&LT(t),e.blockedOn=n,!1;t.shift()}return!0}function qA(e,t,n){Ap(e)&&n.delete(t)}function C$(){for(Ow=!1;0<oi.length;){var e=oi[0];if(e.blockedOn!==null){e=hh(e.blockedOn),e!==null&&kx(e);break}for(var t=e.targetContainers;0<t.length;){var n=jT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&oi.shift()}ko!==null&&Ap(ko)&&(ko=null),Ao!==null&&Ap(Ao)&&(Ao=null),No!==null&&Ap(No)&&(No=null),Sf.forEach(qA),Cf.forEach(qA)}function Sc(e,t){e.blockedOn===t&&(e.blockedOn=null,Ow||(Ow=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,C$)))}function Rx(e){function t(i){return Sc(i,e)}if(0<oi.length){Sc(oi[0],e);for(var n=1;n<oi.length;n++){var r=oi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ko!==null&&Sc(ko,e),Ao!==null&&Sc(Ao,e),No!==null&&Sc(No,e),Sf.forEach(t),Cf.forEach(t),n=0;n<bc.length;n++)r=bc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bc.length&&(n=bc[0],n.blockedOn===null);)S$(n),n.blockedOn===null&&bc.shift()}function rp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pu={animationend:rp("Animation","AnimationEnd"),animationiteration:rp("Animation","AnimationIteration"),animationstart:rp("Animation","AnimationStart"),transitionend:rp("Transition","TransitionEnd")},v_={},Px={};qi&&(Px=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function hg(e){if(v_[e])return v_[e];if(!pu[e])return e;var t=pu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Px)return v_[e]=t[n];return e}var Ox=hg("animationend"),xx=hg("animationiteration"),Dx=hg("animationstart"),Lx=hg("transitionend"),Mx=new Map,MT=new Map,k$=["abort","abort",Ox,"animationEnd",xx,"animationIteration",Dx,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lx,"transitionEnd","waiting","waiting"];function FT(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),MT.set(r,t),Mx.set(r,i),ma(i,[r])}}var A$=Ut.unstable_now;A$();var Be=8;function lu(e){if((1&e)!==0)return Be=15,1;if((2&e)!==0)return Be=14,2;if((4&e)!==0)return Be=13,4;var t=24&e;return t!==0?(Be=12,t):(e&32)!==0?(Be=11,32):(t=192&e,t!==0?(Be=10,t):(e&256)!==0?(Be=9,256):(t=3584&e,t!==0?(Be=8,t):(e&4096)!==0?(Be=7,4096):(t=4186112&e,t!==0?(Be=6,t):(t=62914560&e,t!==0?(Be=5,t):e&67108864?(Be=4,67108864):(e&134217728)!==0?(Be=3,134217728):(t=805306368&e,t!==0?(Be=2,t):(1073741824&e)!==0?(Be=1,1073741824):(Be=8,e))))))}function N$(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function R$(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(q(358,e))}}function kf(e,t){var n=e.pendingLanes;if(n===0)return Be=0;var r=0,i=0,s=e.expiredLanes,a=e.suspendedLanes,l=e.pingedLanes;if(s!==0)r=s,i=Be=15;else if(s=n&134217727,s!==0){var c=s&~a;c!==0?(r=lu(c),i=Be):(l&=s,l!==0&&(r=lu(l),i=Be))}else s=n&~a,s!==0?(r=lu(s),i=Be):l!==0&&(r=lu(l),i=Be);if(r===0)return 0;if(r=31-Bo(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&a)===0){if(lu(t),i<=Be)return t;Be=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bo(t),i=1<<n,r|=e[n],t&=~i;return r}function Fx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jp(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=cu(24&~t),e===0?Jp(10,t):e;case 10:return e=cu(192&~t),e===0?Jp(8,t):e;case 8:return e=cu(3584&~t),e===0&&(e=cu(4186112&~t),e===0&&(e=512)),e;case 2:return t=cu(805306368&~t),t===0&&(t=268435456),t}throw Error(q(358,e))}function cu(e){return e&-e}function g_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dg(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-Bo(t),e[t]=n}var Bo=Math.clz32?Math.clz32:x$,P$=Math.log,O$=Math.LN2;function x$(e){return e===0?32:31-(P$(e)/O$|0)|0}var D$=Ut.unstable_UserBlockingPriority,L$=Ut.unstable_runWithPriority,Np=!0;function M$(e,t,n,r){Ls||xT();var i=UT,s=Ls;Ls=!0;try{bx(i,e,t,n,r)}finally{(Ls=s)||DT()}}function F$(e,t,n,r){L$(D$,UT.bind(null,e,t,n,r))}function UT(e,t,n,r){if(Np){var i;if((i=(t&4)===0)&&0<oi.length&&-1<BA.indexOf(e))e=xw(null,e,t,n,r),oi.push(e);else{var s=jT(e,t,n,r);if(s===null)i&&$A(e,r);else{if(i){if(-1<BA.indexOf(e)){e=xw(s,e,t,n,r),oi.push(e);return}if(I$(s,e,t,n,r))return;$A(e,r)}Yx(e,t,r,null,n)}}}}function jT(e,t,n,r){var i=PT(r);if(i=Ms(i),i!==null){var s=_a(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=Sx(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Yx(e,t,r,i,n),null}var To=null,VT=null,Rp=null;function Ux(){if(Rp)return Rp;var e,t=VT,n=t.length,r,i="value"in To?To.value:To.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Rp=i.slice(e,1<r?1-r:void 0)}function Pp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ip(){return!0}function zA(){return!1}function sr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ip:zA,this.isPropagationStopped=zA,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ip)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ip)},persist:function(){},isPersistent:ip}),t}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BT=sr(gl),fh=Je({},gl,{view:0,detail:0}),U$=sr(fh),m_,y_,Cc,pg=Je({},fh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$T,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cc&&(Cc&&e.type==="mousemove"?(m_=e.screenX-Cc.screenX,y_=e.screenY-Cc.screenY):y_=m_=0,Cc=e),m_)},movementY:function(e){return"movementY"in e?e.movementY:y_}}),WA=sr(pg),j$=Je({},pg,{dataTransfer:0}),V$=sr(j$),B$=Je({},fh,{relatedTarget:0}),__=sr(B$),$$=Je({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),q$=sr($$),z$=Je({},gl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),W$=sr(z$),H$=Je({},gl,{data:0}),HA=sr(H$),K$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Q$[e])?!!t[e]:!1}function $T(){return Y$}var X$=Je({},fh,{key:function(e){if(e.key){var t=K$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?G$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$T,charCode:function(e){return e.type==="keypress"?Pp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J$=sr(X$),Z$=Je({},pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KA=sr(Z$),eq=Je({},fh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$T}),tq=sr(eq),nq=Je({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),rq=sr(nq),iq=Je({},pg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oq=sr(iq),sq=[9,13,27,32],qT=qi&&"CompositionEvent"in window,Jc=null;qi&&"documentMode"in document&&(Jc=document.documentMode);var aq=qi&&"TextEvent"in window&&!Jc,jx=qi&&(!qT||Jc&&8<Jc&&11>=Jc),GA=String.fromCharCode(32),QA=!1;function Vx(e,t){switch(e){case"keyup":return sq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vu=!1;function uq(e,t){switch(e){case"compositionend":return Bx(t);case"keypress":return t.which!==32?null:(QA=!0,GA);case"textInput":return e=t.data,e===GA&&QA?null:e;default:return null}}function lq(e,t){if(vu)return e==="compositionend"||!qT&&Vx(e,t)?(e=Ux(),Rp=VT=To=null,vu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jx&&t.locale!=="ko"?null:t.data;default:return null}}var cq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cq[e.type]:t==="textarea"}function $x(e,t,n,r){Ex(r),t=Zp(t,"onChange"),0<t.length&&(n=new BT("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zc=null,Af=null;function fq(e){Kx(e,0)}function vg(e){var t=mu(e);if(px(t))return e}function hq(e,t){if(e==="change")return t}var qx=!1;if(qi){var w_;if(qi){var E_="oninput"in document;if(!E_){var XA=document.createElement("div");XA.setAttribute("oninput","return;"),E_=typeof XA.oninput=="function"}w_=E_}else w_=!1;qx=w_&&(!document.documentMode||9<document.documentMode)}function JA(){Zc&&(Zc.detachEvent("onpropertychange",zx),Af=Zc=null)}function zx(e){if(e.propertyName==="value"&&vg(Af)){var t=[];if($x(t,Af,e,PT(e)),e=fq,Ls)e(t);else{Ls=!0;try{OT(e,t)}finally{Ls=!1,DT()}}}}function dq(e,t,n){e==="focusin"?(JA(),Zc=t,Af=n,Zc.attachEvent("onpropertychange",zx)):e==="focusout"&&JA()}function pq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vg(Af)}function vq(e,t){if(e==="click")return vg(t)}function gq(e,t){if(e==="input"||e==="change")return vg(t)}function mq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hr=typeof Object.is=="function"?Object.is:mq,yq=Object.prototype.hasOwnProperty;function Nf(e,t){if(hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!yq.call(t,n[r])||!hr(e[n[r]],t[n[r]]))return!1;return!0}function ZA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eN(e,t){var n=ZA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ZA(n)}}function Wx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tN(){for(var e=window,t=Qp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qp(e.document)}return t}function Dw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _q=qi&&"documentMode"in document&&11>=document.documentMode,gu=null,Lw=null,ef=null,Mw=!1;function nN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mw||gu==null||gu!==Qp(r)||(r=gu,"selectionStart"in r&&Dw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ef&&Nf(ef,r)||(ef=r,r=Zp(Lw,"onSelect"),0<r.length&&(t=new BT("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gu)))}FT("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);FT("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);FT(k$,2);for(var rN="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),T_=0;T_<rN.length;T_++)MT.set(rN[T_],0);ju("onMouseEnter",["mouseout","mouseover"]);ju("onMouseLeave",["mouseout","mouseover"]);ju("onPointerEnter",["pointerout","pointerover"]);ju("onPointerLeave",["pointerout","pointerover"]);ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("cancel close invalid load scroll toggle".split(" ").concat(qc));function iN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,T$(r,t,void 0,e),e.currentTarget=null}function Kx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;iN(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;iN(i,l,h),s=c}}}if(Xp)throw e=Pw,Xp=!1,Pw=null,e}function ze(e,t){var n=Jx(t),r=e+"__bubble";n.has(r)||(Qx(t,e,2,!1),n.add(r))}var oN="_reactListening"+Math.random().toString(36).slice(2);function Gx(e){e[oN]||(e[oN]=!0,fx.forEach(function(t){Hx.has(t)||sN(t,!1,e,null),sN(t,!0,e,null)}))}function sN(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(e==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!t&&Hx.has(e)){if(e!=="scroll")return;i|=2,s=r}var a=Jx(s),l=e+"__"+(t?"capture":"bubble");a.has(l)||(t&&(i|=4),Qx(s,e,i,t),a.add(l))}function Qx(e,t,n,r){var i=MT.get(t);switch(i===void 0?2:i){case 0:i=M$;break;case 1:i=F$;break;default:i=UT}n=i.bind(null,t,n,e),i=void 0,!Rw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yx(e,t,n,r,i){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Ms(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}y$(function(){var h=s,p=PT(n),g=[];e:{var m=Mx.get(e);if(m!==void 0){var y=BT,E=e;switch(e){case"keypress":if(Pp(n)===0)break e;case"keydown":case"keyup":y=J$;break;case"focusin":E="focus",y=__;break;case"focusout":E="blur",y=__;break;case"beforeblur":case"afterblur":y=__;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=WA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=V$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=tq;break;case Ox:case xx:case Dx:y=q$;break;case Lx:y=rq;break;case"scroll":y=U$;break;case"wheel":y=oq;break;case"copy":case"cut":case"paste":y=W$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=KA}var S=(t&4)!==0,w=!S&&e==="scroll",T=S?m!==null?m+"Capture":null:m;S=[];for(var I=h,k;I!==null;){k=I;var P=k.stateNode;if(k.tag===5&&P!==null&&(k=P,T!==null&&(P=If(I,T),P!=null&&S.push(Rf(I,P,k)))),w)break;I=I.return}0<S.length&&(m=new y(m,E,null,n,p),g.push({event:m,listeners:S}))}}if((t&7)===0){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&(t&16)===0&&(E=n.relatedTarget||n.fromElement)&&(Ms(E)||E[ml]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=h,E=E?Ms(E):null,E!==null&&(w=_a(E),E!==w||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=h),y!==E)){if(S=WA,P="onMouseLeave",T="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(S=KA,P="onPointerLeave",T="onPointerEnter",I="pointer"),w=y==null?m:mu(y),k=E==null?m:mu(E),m=new S(P,I+"leave",y,n,p),m.target=w,m.relatedTarget=k,P=null,Ms(p)===h&&(S=new S(T,I+"enter",E,n,p),S.target=k,S.relatedTarget=w,P=S),w=P,y&&E)t:{for(S=y,T=E,I=0,k=S;k;k=iu(k))I++;for(k=0,P=T;P;P=iu(P))k++;for(;0<I-k;)S=iu(S),I--;for(;0<k-I;)T=iu(T),k--;for(;I--;){if(S===T||T!==null&&S===T.alternate)break t;S=iu(S),T=iu(T)}S=null}else S=null;y!==null&&aN(g,m,y,S,!1),E!==null&&w!==null&&aN(g,w,E,S,!0)}}e:{if(m=h?mu(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var x=hq;else if(YA(m))if(qx)x=gq;else{x=pq;var O=dq}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=vq);if(x&&(x=x(e,h))){$x(g,x,n,p);break e}O&&O(e,m,h),e==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Tw(m,"number",m.value)}switch(O=h?mu(h):window,e){case"focusin":(YA(O)||O.contentEditable==="true")&&(gu=O,Lw=h,ef=null);break;case"focusout":ef=Lw=gu=null;break;case"mousedown":Mw=!0;break;case"contextmenu":case"mouseup":case"dragend":Mw=!1,nN(g,n,p);break;case"selectionchange":if(_q)break;case"keydown":case"keyup":nN(g,n,p)}var F;if(qT)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else vu?Vx(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(jx&&n.locale!=="ko"&&(vu||L!=="onCompositionStart"?L==="onCompositionEnd"&&vu&&(F=Ux()):(To=p,VT="value"in To?To.value:To.textContent,vu=!0)),O=Zp(h,L),0<O.length&&(L=new HA(L,e,null,n,p),g.push({event:L,listeners:O}),F?L.data=F:(F=Bx(n),F!==null&&(L.data=F)))),(F=aq?uq(e,n):lq(e,n))&&(h=Zp(h,"onBeforeInput"),0<h.length&&(p=new HA("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=F))}Kx(g,t)})}function Rf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=If(e,n),s!=null&&r.unshift(Rf(e,s,i)),s=If(e,t),s!=null&&r.push(Rf(e,s,i))),e=e.return}return r}function iu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function aN(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=If(n,s),c!=null&&a.unshift(Rf(n,c,l))):i||(c=If(n,s),c!=null&&a.push(Rf(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}function ev(){}var b_=null,I_=null;function Xx(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Fw(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uN=typeof setTimeout=="function"?setTimeout:void 0,wq=typeof clearTimeout=="function"?clearTimeout:void 0;function zT(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Cu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function lN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var S_=0;function Eq(e){return{$$typeof:NT,toString:e,valueOf:e}}var gg=Math.random().toString(36).slice(2),bo="__reactFiber$"+gg,tv="__reactProps$"+gg,ml="__reactContainer$"+gg,cN="__reactEvents$"+gg;function Ms(e){var t=e[bo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ml]||n[bo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lN(e);e!==null;){if(n=e[bo])return n;e=lN(e)}return t}e=n,n=e.parentNode}return null}function hh(e){return e=e[bo]||e[ml],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function mg(e){return e[tv]||null}function Jx(e){var t=e[cN];return t===void 0&&(t=e[cN]=new Set),t}var Uw=[],yu=-1;function Jo(e){return{current:e}}function He(e){0>yu||(e.current=Uw[yu],Uw[yu]=null,yu--)}function ut(e,t){yu++,Uw[yu]=e.current,e.current=t}var $o={},hn=Jo($o),Vn=Jo(!1),ea=$o;function Vu(e,t){var n=e.type.contextTypes;if(!n)return $o;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bn(e){return e=e.childContextTypes,e!=null}function nv(){He(Vn),He(hn)}function fN(e,t,n){if(hn.current!==$o)throw Error(q(168));ut(hn,t),ut(Vn,n)}function Zx(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,Tu(t)||"Unknown",i));return Je({},n,r)}function Op(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$o,ea=hn.current,ut(hn,e),ut(Vn,Vn.current),!0}function hN(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=Zx(e,t,ea),r.__reactInternalMemoizedMergedChildContext=e,He(Vn),He(hn),ut(hn,e)):He(Vn),ut(Vn,n)}var WT=null,Ks=null,Tq=Ut.unstable_runWithPriority,HT=Ut.unstable_scheduleCallback,jw=Ut.unstable_cancelCallback,bq=Ut.unstable_shouldYield,dN=Ut.unstable_requestPaint,Vw=Ut.unstable_now,Iq=Ut.unstable_getCurrentPriorityLevel,yg=Ut.unstable_ImmediatePriority,eD=Ut.unstable_UserBlockingPriority,tD=Ut.unstable_NormalPriority,nD=Ut.unstable_LowPriority,rD=Ut.unstable_IdlePriority,C_={},Sq=dN!==void 0?dN:function(){},Oi=null,xp=null,k_=!1,pN=Vw(),on=1e4>pN?Vw:function(){return Vw()-pN};function Bu(){switch(Iq()){case yg:return 99;case eD:return 98;case tD:return 97;case nD:return 96;case rD:return 95;default:throw Error(q(332))}}function iD(e){switch(e){case 99:return yg;case 98:return eD;case 97:return tD;case 96:return nD;case 95:return rD;default:throw Error(q(332))}}function ta(e,t){return e=iD(e),Tq(e,t)}function Pf(e,t,n){return e=iD(e),HT(e,t,n)}function wi(){if(xp!==null){var e=xp;xp=null,jw(e)}oD()}function oD(){if(!k_&&Oi!==null){k_=!0;var e=0;try{var t=Oi;ta(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),Oi=null}catch(n){throw Oi!==null&&(Oi=Oi.slice(e+1)),HT(yg,wi),n}finally{k_=!1}}}var Cq=ya.ReactCurrentBatchConfig;function Vr(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var rv=Jo(null),iv=null,_u=null,ov=null;function KT(){ov=_u=iv=null}function GT(e){var t=rv.current;He(rv),e.type._context._currentValue=t}function sD(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function ku(e,t){iv=e,ov=_u=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&($r=!0),e.firstContext=null)}function Tr(e,t){if(ov!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(ov=e,t=1073741823),t={context:e,observedBits:t,next:null},_u===null){if(iv===null)throw Error(q(308));_u=t,iv.dependencies={lanes:0,firstContext:t,responders:null}}else _u=_u.next=t;return e._currentValue}var vo=!1;function QT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function aD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function vN(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Of(e,t,n,r){var i=e.updateQueue;vo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=e.alternate;if(p!==null){p=p.updateQueue;var g=p.lastBaseUpdate;g!==a&&(g===null?p.firstBaseUpdate=h:g.next=h,p.lastBaseUpdate=c)}}if(s!==null){g=i.baseState,a=0,p=h=c=null;do{l=s.lane;var m=s.eventTime;if((r&l)===l){p!==null&&(p=p.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,E=s;switch(l=t,m=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){g=y.call(m,g,l);break e}g=y;break e;case 3:y.flags=y.flags&-4097|64;case 0:if(y=E.payload,l=typeof y=="function"?y.call(m,g,l):y,l==null)break e;g=Je({},g,l);break e;case 2:vo=!0}}s.callback!==null&&(e.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else m={eventTime:m,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(h=p=m,c=g):p=p.next=m,a|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);p===null&&(c=g),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,ph|=a,e.lanes=a,e.memoizedState=g}}function gN(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var uD=new lg.Component().refs;function sv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _g={isMounted:function(e){return(e=e._reactInternals)?_a(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nr(),i=Oo(e),s=Ro(r,i);s.payload=t,n!=null&&(s.callback=n),Po(e,s),xo(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nr(),i=Oo(e),s=Ro(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),Po(e,s),xo(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nr(),r=Oo(e),i=Ro(n,r);i.tag=2,t!=null&&(i.callback=t),Po(e,i),xo(e,r,n)}};function mN(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Nf(n,r)||!Nf(i,s):!0}function lD(e,t,n){var r=!1,i=$o,s=t.contextType;return typeof s=="object"&&s!==null?s=Tr(s):(i=Bn(t)?ea:hn.current,r=t.contextTypes,s=(r=r!=null)?Vu(e,i):$o),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_g,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function yN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_g.enqueueReplaceState(t,t.state,null)}function Bw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=uD,QT(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Tr(s):(s=Bn(t)?ea:hn.current,i.context=Vu(e,s)),Of(e,n,i,r),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(sv(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&_g.enqueueReplaceState(i,i.state,null),Of(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var op=Array.isArray;function kc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=r.refs;a===uD&&(a=r.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function sp(e,t){if(e.type!=="textarea")throw Error(q(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function cD(e){function t(w,T){if(e){var I=w.lastEffect;I!==null?(I.nextEffect=T,w.lastEffect=T):w.firstEffect=w.lastEffect=T,T.nextEffect=null,T.flags=8}}function n(w,T){if(!e)return null;for(;T!==null;)t(w,T),T=T.sibling;return null}function r(w,T){for(w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function i(w,T){return w=zo(w,T),w.index=0,w.sibling=null,w}function s(w,T,I){return w.index=I,e?(I=w.alternate,I!==null?(I=I.index,I<T?(w.flags=2,T):I):(w.flags=2,T)):T}function a(w){return e&&w.alternate===null&&(w.flags=2),w}function l(w,T,I,k){return T===null||T.tag!==6?(T=O_(I,w.mode,k),T.return=w,T):(T=i(T,I),T.return=w,T)}function c(w,T,I,k){return T!==null&&T.elementType===I.type?(k=i(T,I.props),k.ref=kc(w,T,I),k.return=w,k):(k=Fp(I.type,I.key,I.props,null,w.mode,k),k.ref=kc(w,T,I),k.return=w,k)}function h(w,T,I,k){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=x_(I,w.mode,k),T.return=w,T):(T=i(T,I.children||[]),T.return=w,T)}function p(w,T,I,k,P){return T===null||T.tag!==7?(T=Pu(I,w.mode,k,P),T.return=w,T):(T=i(T,I),T.return=w,T)}function g(w,T,I){if(typeof T=="string"||typeof T=="number")return T=O_(""+T,w.mode,I),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Bc:return I=Fp(T.type,T.key,T.props,null,w.mode,I),I.ref=kc(w,null,T),I.return=w,I;case Ds:return T=x_(T,w.mode,I),T.return=w,T}if(op(T)||Ec(T))return T=Pu(T,w.mode,I,null),T.return=w,T;sp(w,T)}return null}function m(w,T,I,k){var P=T!==null?T.key:null;if(typeof I=="string"||typeof I=="number")return P!==null?null:l(w,T,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Bc:return I.key===P?I.type===mo?p(w,T,I.props.children,k,P):c(w,T,I,k):null;case Ds:return I.key===P?h(w,T,I,k):null}if(op(I)||Ec(I))return P!==null?null:p(w,T,I,k,null);sp(w,I)}return null}function y(w,T,I,k,P){if(typeof k=="string"||typeof k=="number")return w=w.get(I)||null,l(T,w,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Bc:return w=w.get(k.key===null?I:k.key)||null,k.type===mo?p(T,w,k.props.children,P,k.key):c(T,w,k,P);case Ds:return w=w.get(k.key===null?I:k.key)||null,h(T,w,k,P)}if(op(k)||Ec(k))return w=w.get(I)||null,p(T,w,k,P,null);sp(T,k)}return null}function E(w,T,I,k){for(var P=null,x=null,O=T,F=T=0,L=null;O!==null&&F<I.length;F++){O.index>F?(L=O,O=null):L=O.sibling;var M=m(w,O,I[F],k);if(M===null){O===null&&(O=L);break}e&&O&&M.alternate===null&&t(w,O),T=s(M,T,F),x===null?P=M:x.sibling=M,x=M,O=L}if(F===I.length)return n(w,O),P;if(O===null){for(;F<I.length;F++)O=g(w,I[F],k),O!==null&&(T=s(O,T,F),x===null?P=O:x.sibling=O,x=O);return P}for(O=r(w,O);F<I.length;F++)L=y(O,w,F,I[F],k),L!==null&&(e&&L.alternate!==null&&O.delete(L.key===null?F:L.key),T=s(L,T,F),x===null?P=L:x.sibling=L,x=L);return e&&O.forEach(function(A){return t(w,A)}),P}function S(w,T,I,k){var P=Ec(I);if(typeof P!="function")throw Error(q(150));if(I=P.call(I),I==null)throw Error(q(151));for(var x=P=null,O=T,F=T=0,L=null,M=I.next();O!==null&&!M.done;F++,M=I.next()){O.index>F?(L=O,O=null):L=O.sibling;var A=m(w,O,M.value,k);if(A===null){O===null&&(O=L);break}e&&O&&A.alternate===null&&t(w,O),T=s(A,T,F),x===null?P=A:x.sibling=A,x=A,O=L}if(M.done)return n(w,O),P;if(O===null){for(;!M.done;F++,M=I.next())M=g(w,M.value,k),M!==null&&(T=s(M,T,F),x===null?P=M:x.sibling=M,x=M);return P}for(O=r(w,O);!M.done;F++,M=I.next())M=y(O,w,F,M.value,k),M!==null&&(e&&M.alternate!==null&&O.delete(M.key===null?F:M.key),T=s(M,T,F),x===null?P=M:x.sibling=M,x=M);return e&&O.forEach(function(ge){return t(w,ge)}),P}return function(w,T,I,k){var P=typeof I=="object"&&I!==null&&I.type===mo&&I.key===null;P&&(I=I.props.children);var x=typeof I=="object"&&I!==null;if(x)switch(I.$$typeof){case Bc:e:{for(x=I.key,P=T;P!==null;){if(P.key===x){switch(P.tag){case 7:if(I.type===mo){n(w,P.sibling),T=i(P,I.props.children),T.return=w,w=T;break e}break;default:if(P.elementType===I.type){n(w,P.sibling),T=i(P,I.props),T.ref=kc(w,P,I),T.return=w,w=T;break e}}n(w,P);break}else t(w,P);P=P.sibling}I.type===mo?(T=Pu(I.props.children,w.mode,k,I.key),T.return=w,w=T):(k=Fp(I.type,I.key,I.props,null,w.mode,k),k.ref=kc(w,T,I),k.return=w,w=k)}return a(w);case Ds:e:{for(P=I.key;T!==null;){if(T.key===P)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){n(w,T.sibling),T=i(T,I.children||[]),T.return=w,w=T;break e}else{n(w,T);break}else t(w,T);T=T.sibling}T=x_(I,w.mode,k),T.return=w,w=T}return a(w)}if(typeof I=="string"||typeof I=="number")return I=""+I,T!==null&&T.tag===6?(n(w,T.sibling),T=i(T,I),T.return=w,w=T):(n(w,T),T=O_(I,w.mode,k),T.return=w,w=T),a(w);if(op(I))return E(w,T,I,k);if(Ec(I))return S(w,T,I,k);if(x&&sp(w,I),typeof I=="undefined"&&!P)switch(w.tag){case 1:case 22:case 0:case 11:case 15:throw Error(q(152,Tu(w.type)||"Component"))}return n(w,T)}}var av=cD(!0),fD=cD(!1),dh={},li=Jo(dh),xf=Jo(dh),Df=Jo(dh);function Fs(e){if(e===dh)throw Error(q(174));return e}function $w(e,t){switch(ut(Df,t),ut(xf,e),ut(li,dh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cw(t,e)}He(li),ut(li,t)}function $u(){He(li),He(xf),He(Df)}function _N(e){Fs(Df.current);var t=Fs(li.current),n=Cw(t,e.type);t!==n&&(ut(xf,e),ut(li,n))}function YT(e){xf.current===e&&(He(li),He(xf))}var at=Jo(0);function uv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Di=null,Io=null,ci=!1;function hD(e,t){var n=dr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function wN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function qw(e){if(ci){var t=Io;if(t){var n=t;if(!wN(e,t)){if(t=Cu(n.nextSibling),!t||!wN(e,t)){e.flags=e.flags&-1025|2,ci=!1,Di=e;return}hD(Di,n)}Di=e,Io=Cu(t.firstChild)}else e.flags=e.flags&-1025|2,ci=!1,Di=e}}function EN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Di=e}function ap(e){if(e!==Di)return!1;if(!ci)return EN(e),ci=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Fw(t,e.memoizedProps))for(t=Io;t;)hD(e,t),t=Cu(t.nextSibling);if(EN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Io=Cu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Io=null}}else Io=Di?Cu(e.stateNode.nextSibling):null;return!0}function A_(){Io=Di=null,ci=!1}var Au=[];function XT(){for(var e=0;e<Au.length;e++)Au[e]._workInProgressVersionPrimary=null;Au.length=0}var tf=ya.ReactCurrentDispatcher,_r=ya.ReactCurrentBatchConfig,Lf=0,pt=null,tn=null,$t=null,lv=!1,nf=!1;function Fn(){throw Error(q(321))}function JT(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function ZT(e,t,n,r,i,s){if(Lf=s,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tf.current=e===null||e.memoizedState===null?Aq:Nq,e=n(r,i),nf){s=0;do{if(nf=!1,!(25>s))throw Error(q(301));s+=1,$t=tn=null,t.updateQueue=null,tf.current=Rq,e=n(r,i)}while(nf)}if(tf.current=dv,t=tn!==null&&tn.next!==null,Lf=0,$t=tn=pt=null,lv=!1,t)throw Error(q(300));return e}function Us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?pt.memoizedState=$t=e:$t=$t.next=e,$t}function wa(){if(tn===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=tn.next;var t=$t===null?pt.memoizedState:$t.next;if(t!==null)$t=t,tn=e;else{if(e===null)throw Error(q(310));tn=e,e={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},$t===null?pt.memoizedState=$t=e:$t=$t.next=e}return $t}function si(e,t){return typeof t=="function"?t(e):t}function Ac(e){var t=wa(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=tn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=a=s=null,c=i;do{var h=c.lane;if((Lf&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var p={lane:h,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(a=l=p,s=r):l=l.next=p,pt.lanes|=h,ph|=h}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,hr(r,t.memoizedState)||($r=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Nc(e){var t=wa(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);hr(s,t.memoizedState)||($r=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function TN(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(Lf&e)===e)&&(t._workInProgressVersionPrimary=r,Au.push(t))),e)return n(t._source);throw Au.push(t),Error(q(350))}function dD(e,t,n,r){var i=Cn;if(i===null)throw Error(q(349));var s=t._getVersion,a=s(t._source),l=tf.current,c=l.useState(function(){return TN(i,t,n)}),h=c[1],p=c[0];c=$t;var g=e.memoizedState,m=g.refs,y=m.getSnapshot,E=g.source;g=g.subscribe;var S=pt;return e.memoizedState={refs:m,source:t,subscribe:r},l.useEffect(function(){m.getSnapshot=n,m.setSnapshot=h;var w=s(t._source);if(!hr(a,w)){w=n(t._source),hr(p,w)||(h(w),w=Oo(S),i.mutableReadLanes|=w&i.pendingLanes),w=i.mutableReadLanes,i.entangledLanes|=w;for(var T=i.entanglements,I=w;0<I;){var k=31-Bo(I),P=1<<k;T[k]|=w,I&=~P}}},[n,t,r]),l.useEffect(function(){return r(t._source,function(){var w=m.getSnapshot,T=m.setSnapshot;try{T(w(t._source));var I=Oo(S);i.mutableReadLanes|=I&i.pendingLanes}catch(k){T(function(){throw k})}})},[t,r]),hr(y,n)&&hr(E,t)&&hr(g,r)||(e={pending:null,dispatch:null,lastRenderedReducer:si,lastRenderedState:p},e.dispatch=h=nb.bind(null,pt,e),c.queue=e,c.baseQueue=null,p=TN(i,t,n),c.memoizedState=c.baseState=p),p}function pD(e,t,n){var r=wa();return dD(r,e,t,n)}function Rc(e){var t=Us();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:si,lastRenderedState:e},e=e.dispatch=nb.bind(null,pt,e),[t.memoizedState,e]}function cv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null},pt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bN(e){var t=Us();return e={current:e},t.memoizedState=e}function fv(){return wa().memoizedState}function zw(e,t,n,r){var i=Us();pt.flags|=e,i.memoizedState=cv(1|t,n,void 0,r===void 0?null:r)}function eb(e,t,n,r){var i=wa();r=r===void 0?null:r;var s=void 0;if(tn!==null){var a=tn.memoizedState;if(s=a.destroy,r!==null&&JT(r,a.deps)){cv(t,n,s,r);return}}pt.flags|=e,i.memoizedState=cv(1|t,n,s,r)}function IN(e,t){return zw(516,4,e,t)}function hv(e,t){return eb(516,4,e,t)}function vD(e,t){return eb(4,2,e,t)}function gD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mD(e,t,n){return n=n!=null?n.concat([e]):null,eb(4,2,gD.bind(null,t,e),n)}function tb(){}function yD(e,t){var n=wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&JT(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _D(e,t){var n=wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&JT(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kq(e,t){var n=Bu();ta(98>n?98:n,function(){e(!0)}),ta(97<n?97:n,function(){var r=_r.transition;_r.transition=1;try{e(!1),t()}finally{_r.transition=r}})}function nb(e,t,n){var r=nr(),i=Oo(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s,a=e.alternate,e===pt||a!==null&&a===pt)nf=lv=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,n);if(s.eagerReducer=a,s.eagerState=c,hr(c,l))return}catch{}finally{}xo(e,i,r)}}var dv={readContext:Tr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useOpaqueIdentifier:Fn,unstable_isNewReconciler:!1},Aq={readContext:Tr,useCallback:function(e,t){return Us().memoizedState=[e,t===void 0?null:t],e},useContext:Tr,useEffect:IN,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zw(4,2,gD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zw(4,2,e,t)},useMemo:function(e,t){var n=Us();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Us();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=nb.bind(null,pt,e),[r.memoizedState,e]},useRef:bN,useState:Rc,useDebugValue:tb,useDeferredValue:function(e){var t=Rc(e),n=t[0],r=t[1];return IN(function(){var i=_r.transition;_r.transition=1;try{r(e)}finally{_r.transition=i}},[e]),n},useTransition:function(){var e=Rc(!1),t=e[0];return e=kq.bind(null,e[1]),bN(e),[e,t]},useMutableSource:function(e,t,n){var r=Us();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},dD(r,e,t,n)},useOpaqueIdentifier:function(){if(ci){var e=!1,t=Eq(function(){throw e||(e=!0,n("r:"+(S_++).toString(36))),Error(q(355))}),n=Rc(t)[1];return(pt.mode&2)===0&&(pt.flags|=516,cv(5,function(){n("r:"+(S_++).toString(36))},void 0,null)),t}return t="r:"+(S_++).toString(36),Rc(t),t},unstable_isNewReconciler:!1},Nq={readContext:Tr,useCallback:yD,useContext:Tr,useEffect:hv,useImperativeHandle:mD,useLayoutEffect:vD,useMemo:_D,useReducer:Ac,useRef:fv,useState:function(){return Ac(si)},useDebugValue:tb,useDeferredValue:function(e){var t=Ac(si),n=t[0],r=t[1];return hv(function(){var i=_r.transition;_r.transition=1;try{r(e)}finally{_r.transition=i}},[e]),n},useTransition:function(){var e=Ac(si)[0];return[fv().current,e]},useMutableSource:pD,useOpaqueIdentifier:function(){return Ac(si)[0]},unstable_isNewReconciler:!1},Rq={readContext:Tr,useCallback:yD,useContext:Tr,useEffect:hv,useImperativeHandle:mD,useLayoutEffect:vD,useMemo:_D,useReducer:Nc,useRef:fv,useState:function(){return Nc(si)},useDebugValue:tb,useDeferredValue:function(e){var t=Nc(si),n=t[0],r=t[1];return hv(function(){var i=_r.transition;_r.transition=1;try{r(e)}finally{_r.transition=i}},[e]),n},useTransition:function(){var e=Nc(si)[0];return[fv().current,e]},useMutableSource:pD,useOpaqueIdentifier:function(){return Nc(si)[0]},unstable_isNewReconciler:!1},Pq=ya.ReactCurrentOwner,$r=!1;function Un(e,t,n,r){t.child=e===null?fD(t,null,n,r):av(t,e.child,n,r)}function SN(e,t,n,r,i){n=n.render;var s=t.ref;return ku(t,i),r=ZT(e,t,n,r,s,i),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Li(e,t,i)):(t.flags|=1,Un(e,t,r,i),t.child)}function CN(e,t,n,r,i,s){if(e===null){var a=n.type;return typeof a=="function"&&!ub(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,wD(e,t,a,r,i,s)):(e=Fp(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,(i&s)===0&&(i=a.memoizedProps,n=n.compare,n=n!==null?n:Nf,n(i,r)&&e.ref===t.ref)?Li(e,t,s):(t.flags|=1,e=zo(a,r),e.ref=t.ref,e.return=t,t.child=e)}function wD(e,t,n,r,i,s){if(e!==null&&Nf(e.memoizedProps,r)&&e.ref===t.ref)if($r=!1,(s&i)!==0)(e.flags&16384)!==0&&($r=!0);else return t.lanes=e.lanes,Li(e,t,s);return Ww(e,t,n,r,s)}function N_(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},lp(t,n);else if((n&1073741824)!==0)t.memoizedState={baseLanes:0},lp(t,s!==null?s.baseLanes:n);else return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},lp(t,e),null;else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,lp(t,r);return Un(e,t,i,n),t.child}function ED(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function Ww(e,t,n,r,i){var s=Bn(n)?ea:hn.current;return s=Vu(t,s),ku(t,i),n=ZT(e,t,n,r,s,i),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Li(e,t,i)):(t.flags|=1,Un(e,t,n,i),t.child)}function kN(e,t,n,r,i){if(Bn(n)){var s=!0;Op(t)}else s=!1;if(ku(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),lD(t,n,r),Bw(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Tr(h):(h=Bn(n)?ea:hn.current,h=Vu(t,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&yN(t,a,r,h),vo=!1;var m=t.memoizedState;a.state=m,Of(t,r,a,i),c=t.memoizedState,l!==r||m!==c||Vn.current||vo?(typeof p=="function"&&(sv(t,n,p,r),c=t.memoizedState),(l=vo||mN(t,n,l,r,m,c,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{a=t.stateNode,aD(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:Vr(t.type,l),a.props=h,g=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Tr(c):(c=Bn(n)?ea:hn.current,c=Vu(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||m!==c)&&yN(t,a,r,c),vo=!1,m=t.memoizedState,a.state=m,Of(t,r,a,i);var E=t.memoizedState;l!==g||m!==E||Vn.current||vo?(typeof y=="function"&&(sv(t,n,y,r),E=t.memoizedState),(h=vo||mN(t,n,h,r,m,E,c))?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=E),a.props=r,a.state=E,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=256),r=!1)}return Hw(e,t,n,r,s,i)}function Hw(e,t,n,r,i,s){ED(e,t);var a=(t.flags&64)!==0;if(!r&&!a)return i&&hN(t,n,!1),Li(e,t,s);r=t.stateNode,Pq.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=av(t,e.child,null,s),t.child=av(t,null,l,s)):Un(e,t,l,s),t.memoizedState=r.state,i&&hN(t,n,!0),t.child}function AN(e){var t=e.stateNode;t.pendingContext?fN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fN(e,t.context,!1),$w(e,t.containerInfo)}var up={dehydrated:null,retryLane:0};function NN(e,t,n){var r=t.pendingProps,i=at.current,s=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),ut(at,i&1),e===null?(r.fallback!==void 0&&qw(t),e=r.children,i=r.fallback,s?(e=RN(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=up,e):typeof r.unstable_expectedLoadTime=="number"?(e=RN(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=up,t.lanes=33554432,e):(n=lb({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?s?(r=ON(e,t,r.children,r.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=up,r):(n=PN(e,t,r.children,n),t.memoizedState=null,n):s?(r=ON(e,t,r.children,r.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=up,r):(n=PN(e,t,r.children,n),t.memoizedState=null,n)}function RN(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=t):s=lb(t,i,0,null),n=Pu(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function PN(e,t,n,r){var i=e.child;return e=i.sibling,n=zo(i,{mode:"visible",children:n}),(t.mode&2)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ON(e,t,n,r,i){var s=t.mode,a=e.child;e=a.sibling;var l={mode:"hidden",children:n};return(s&2)===0&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,a=n.lastEffect,a!==null?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zo(a,l),e!==null?r=zo(e,r):(r=Pu(r,s,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function xN(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sD(e.return,t)}function R_(e,t,n,r,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=s)}function DN(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Un(e,t,r.children,n),r=at.current,(r&2)!==0)r=r&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xN(e,n);else if(e.tag===19)xN(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(at,r),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&uv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),R_(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&uv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}R_(t,!0,n,null,s,t.lastEffect);break;case"together":R_(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Li(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ph|=t.lanes,(n&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=zo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var TD,Kw,bD,ID;TD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kw=function(){};bD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Fs(li.current);var s=null;switch(n){case"input":i=ww(e,i),r=ww(e,r),s=[];break;case"option":i=bw(e,i),r=bw(e,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=Iw(e,i),r=Iw(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ev)}kw(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Tf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Tf.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&ze("scroll",e),s||l===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===NT?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};ID=function(e,t,n,r){n!==r&&(t.flags|=4)};function Pc(e,t){if(!ci)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oq(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Bn(t.type)&&nv(),null;case 3:return $u(),He(Vn),He(hn),XT(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ap(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Kw(t),null;case 5:YT(t);var i=Fs(Df.current);if(n=t.type,e!==null&&t.stateNode!=null)bD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(q(166));return null}if(e=Fs(li.current),ap(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[bo]=t,r[tv]=s,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(e=0;e<qc.length;e++)ze(qc[e],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":DA(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":MA(r,s),ze("invalid",r)}kw(n,s),e=null;for(var a in s)s.hasOwnProperty(a)&&(i=s[a],a==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):Tf.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&ze("scroll",r));switch(n){case"input":tp(r),LA(r,s,!0);break;case"textarea":tp(r),FA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ev)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===Sw.html&&(e=mx(n)),e===Sw.html?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[bo]=t,e[tv]=r,TD(e,t,!1,!1),t.stateNode=e,a=Aw(n,r),n){case"dialog":ze("cancel",e),ze("close",e),i=r;break;case"iframe":case"object":case"embed":ze("load",e),i=r;break;case"video":case"audio":for(i=0;i<qc.length;i++)ze(qc[i],e);i=r;break;case"source":ze("error",e),i=r;break;case"img":case"image":case"link":ze("error",e),ze("load",e),i=r;break;case"details":ze("toggle",e),i=r;break;case"input":DA(e,r),i=ww(e,r),ze("invalid",e);break;case"option":i=bw(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),ze("invalid",e);break;case"textarea":MA(e,r),i=Iw(e,r),ze("invalid",e);break;default:i=r}kw(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?wx(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yx(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&bf(e,c):typeof c=="number"&&bf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ze("scroll",e):c!=null&&bT(e,s,c,a))}switch(n){case"input":tp(e),LA(e,r,!1);break;case"textarea":tp(e),FA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?bu(e,!!r.multiple,s,!1):r.defaultValue!=null&&bu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ev)}Xx(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)ID(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));n=Fs(Df.current),Fs(li.current),ap(t)?(r=t.stateNode,n=t.memoizedProps,r[bo]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bo]=t,t.stateNode=r)}return null;case 13:return He(at),r=t.memoizedState,(t.flags&64)!==0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&ap(t):n=e.memoizedState!==null,r&&!n&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(at.current&1)!==0?zt===0&&(zt=3):((zt===0||zt===3)&&(zt=4),Cn===null||(ph&134217727)===0&&(_l&134217727)===0||Nu(Cn,un))),(r||n)&&(t.flags|=4),null);case 4:return $u(),Kw(t),e===null&&Gx(t.stateNode.containerInfo),null;case 10:return GT(t),null;case 17:return Bn(t.type)&&nv(),null;case 19:if(He(at),r=t.memoizedState,r===null)return null;if(s=(t.flags&64)!==0,a=r.rendering,a===null)if(s)Pc(r,!1);else{if(zt!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(a=uv(e),a!==null){for(t.flags|=64,Pc(r,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ut(at,at.current&1|2),t.child}e=e.sibling}r.tail!==null&&on()>Zw&&(t.flags|=64,s=!0,Pc(r,!1),t.lanes=33554432)}else{if(!s)if(e=uv(a),e!==null){if(t.flags|=64,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Pc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!ci)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*on()-r.renderingStartTime>Zw&&n!==1073741824&&(t.flags|=64,s=!0,Pc(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(n=r.last,n!==null?n.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=on(),n.sibling=null,t=at.current,ut(at,s?t&1|2:t&1),n):null;case 23:case 24:return ab(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(q(156,t.tag))}function xq(e){switch(e.tag){case 1:Bn(e.type)&&nv();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if($u(),He(Vn),He(hn),XT(),t=e.flags,(t&64)!==0)throw Error(q(285));return e.flags=t&-4097|64,e;case 5:return YT(e),null;case 13:return He(at),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return He(at),null;case 4:return $u(),null;case 10:return GT(e),null;case 23:case 24:return ab(),null;default:return null}}function rb(e,t){try{var n="",r=t;do n+=d$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i}}function Gw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dq=typeof WeakMap=="function"?WeakMap:Map;function SD(e,t,n){n=Ro(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vv||(vv=!0,eE=r),Gw(e,t)},n}function CD(e,t,n){n=Ro(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return Gw(e,t),r(i)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this),Gw(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}var Lq=typeof WeakSet=="function"?WeakSet:Set;function LN(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Do(e,n)}else t.current=null}function Mq(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Vr(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&zT(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(q(163))}function Fq(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(LD(n,e),Wq(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Vr(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&gN(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}gN(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&Xx(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Rx(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(q(163))}function MN(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=_x("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function FN(e,t){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(WT,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)LD(t,n);else{r=t;try{i()}catch(s){Do(r,s)}}n=n.next}while(n!==e)}break;case 1:if(LN(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){Do(t,s)}break;case 5:LN(t);break;case 4:kD(e,t)}}function UN(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function jN(e){return e.tag===5||e.tag===3||e.tag===4}function VN(e){e:{for(var t=e.return;t!==null;){if(jN(t))break e;t=t.return}throw Error(q(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(q(161))}n.flags&16&&(bf(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||jN(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Qw(e,n,t):Yw(e,n,t)}function Qw(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ev));else if(r!==4&&(e=e.child,e!==null))for(Qw(e,t,n),e=e.sibling;e!==null;)Qw(e,t,n),e=e.sibling}function Yw(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yw(e,t,n),e=e.sibling;e!==null;)Yw(e,t,n),e=e.sibling}function kD(e,t){for(var n=t,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(q(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var a=e,l=n,c=l;;)if(FN(a,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(a=i,l=n.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(FN(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function P_(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,s!==null){for(n[tv]=r,e==="input"&&r.type==="radio"&&r.name!=null&&vx(n,r),Aw(e,i),t=Aw(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];a==="style"?wx(n,l):a==="dangerouslySetInnerHTML"?yx(n,l):a==="children"?bf(n,l):bT(n,a,l,t)}switch(e){case"input":Ew(n,r);break;case"textarea":gx(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?bu(n,!!r.multiple,s,!1):e!==!!r.multiple&&(r.defaultValue!=null?bu(n,!!r.multiple,r.defaultValue,!0):bu(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(q(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,Rx(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(sb=on(),MN(t.child,!0)),BN(t);return;case 19:BN(t);return;case 17:return;case 23:case 24:MN(t,t.memoizedState!==null);return}throw Error(q(163))}function BN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Lq),t.forEach(function(r){var i=Gq.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Uq(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var jq=Math.ceil,pv=ya.ReactCurrentDispatcher,ib=ya.ReactCurrentOwner,le=0,Cn=null,St=null,un=0,na=0,Xw=Jo(0),zt=0,wg=null,yl=0,ph=0,_l=0,ob=0,Jw=null,sb=0,Zw=1/0;function wl(){Zw=on()+500}var Y=null,vv=!1,eE=null,ai=null,qo=!1,rf=null,zc=90,tE=[],nE=[],ji=null,of=0,rE=null,Dp=-1,xi=0,Lp=0,sf=null,Mp=!1;function nr(){return(le&48)!==0?on():Dp!==-1?Dp:Dp=on()}function Oo(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return Bu()===99?1:2;if(xi===0&&(xi=yl),Cq.transition!==0){Lp!==0&&(Lp=Jw!==null?Jw.pendingLanes:0),e=xi;var t=4186112&~Lp;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Bu(),(le&4)!==0&&e===98?e=Jp(12,xi):(e=N$(e),e=Jp(e,xi)),e}function xo(e,t,n){if(50<of)throw of=0,rE=null,Error(q(185));if(e=Eg(e,t),e===null)return null;dg(e,t,n),e===Cn&&(_l|=t,zt===4&&Nu(e,un));var r=Bu();t===1?(le&8)!==0&&(le&48)===0?iE(e):(br(e,n),le===0&&(wl(),wi())):((le&4)===0||r!==98&&r!==99||(ji===null?ji=new Set([e]):ji.add(e)),br(e,n)),Jw=e}function Eg(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function br(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Bo(a),c=1<<l,h=s[l];if(h===-1){if((c&r)===0||(c&i)!==0){h=t,lu(c);var p=Be;s[l]=10<=p?h+250:6<=p?h+5e3:-1}}else h<=t&&(e.expiredLanes|=c);a&=~c}if(r=kf(e,e===Cn?un:0),t=Be,r===0)n!==null&&(n!==C_&&jw(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==C_&&jw(n)}t===15?(n=iE.bind(null,e),Oi===null?(Oi=[n],xp=HT(yg,oD)):Oi.push(n),n=C_):t===14?n=Pf(99,iE.bind(null,e)):(n=R$(t),n=Pf(n,AD.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function AD(e){if(Dp=-1,Lp=xi=0,(le&48)!==0)throw Error(q(327));var t=e.callbackNode;if(Zo()&&e.callbackNode!==t)return null;var n=kf(e,e===Cn?un:0);if(n===0)return null;var r=n,i=le;le|=16;var s=OD();(Cn!==e||un!==r)&&(wl(),Ru(e,r));do try{$q();break}catch(l){PD(e,l)}while(1);if(KT(),pv.current=s,le=i,St!==null?r=0:(Cn=null,un=0,r=zt),(yl&_l)!==0)Ru(e,0);else if(r!==0){if(r===2&&(le|=64,e.hydrate&&(e.hydrate=!1,zT(e.containerInfo)),n=Fx(e),n!==0&&(r=Wc(e,n))),r===1)throw t=wg,Ru(e,0),Nu(e,n),br(e,on()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(q(345));case 2:As(e);break;case 3:if(Nu(e,n),(n&62914560)===n&&(r=sb+500-on(),10<r)){if(kf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){nr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=uN(As.bind(null,e),r);break}As(e);break;case 4:if(Nu(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Bo(n);s=1<<a,a=r[a],a>i&&(i=a),n&=~s}if(n=i,n=on()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jq(n/1960))-n,10<n){e.timeoutHandle=uN(As.bind(null,e),n);break}As(e);break;case 5:As(e);break;default:throw Error(q(329))}}return br(e,on()),e.callbackNode===t?AD.bind(null,e):null}function Nu(e,t){for(t&=~ob,t&=~_l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bo(t),r=1<<n;e[n]=-1,t&=~r}}function iE(e){if((le&48)!==0)throw Error(q(327));if(Zo(),e===Cn&&(e.expiredLanes&un)!==0){var t=un,n=Wc(e,t);(yl&_l)!==0&&(t=kf(e,t),n=Wc(e,t))}else t=kf(e,0),n=Wc(e,t);if(e.tag!==0&&n===2&&(le|=64,e.hydrate&&(e.hydrate=!1,zT(e.containerInfo)),t=Fx(e),t!==0&&(n=Wc(e,t))),n===1)throw n=wg,Ru(e,0),Nu(e,t),br(e,on()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,As(e),br(e,on()),null}function Vq(){if(ji!==null){var e=ji;ji=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,br(t,on())})}wi()}function ND(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(wl(),wi())}}function RD(e,t){var n=le;le&=-2,le|=8;try{return e(t)}finally{le=n,le===0&&(wl(),wi())}}function lp(e,t){ut(Xw,na),na|=t,yl|=t}function ab(){na=Xw.current,He(Xw)}function Ru(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wq(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&nv();break;case 3:$u(),He(Vn),He(hn),XT();break;case 5:YT(r);break;case 4:$u();break;case 13:He(at);break;case 19:He(at);break;case 10:GT(r);break;case 23:case 24:ab()}n=n.return}Cn=e,St=zo(e.current,null),un=na=yl=t,zt=0,wg=null,ob=_l=ph=0}function PD(e,t){do{var n=St;try{if(KT(),tf.current=dv,lv){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lv=!1}if(Lf=0,$t=tn=pt=null,nf=!1,ib.current=null,n===null||n.return===null){zt=1,wg=t,St=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=un,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c;if((l.mode&2)===0){var p=l.alternate;p?(l.updateQueue=p.updateQueue,l.memoizedState=p.memoizedState,l.lanes=p.lanes):(l.updateQueue=null,l.memoizedState=null)}var g=(at.current&1)!==0,m=a;do{var y;if(y=m.tag===13){var E=m.memoizedState;if(E!==null)y=E.dehydrated!==null;else{var S=m.memoizedProps;y=S.fallback===void 0?!1:S.unstable_avoidThisFallback!==!0?!0:!g}}if(y){var w=m.updateQueue;if(w===null){var T=new Set;T.add(h),m.updateQueue=T}else w.add(h);if((m.mode&2)===0){if(m.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var I=Ro(-1,1);I.tag=2,Po(l,I)}l.lanes|=1;break e}c=void 0,l=t;var k=s.pingCache;if(k===null?(k=s.pingCache=new Dq,c=new Set,k.set(h,c)):(c=k.get(h),c===void 0&&(c=new Set,k.set(h,c))),!c.has(l)){c.add(l);var P=Kq.bind(null,s,h,l);h.then(P,P)}m.flags|=4096,m.lanes=t;break e}m=m.return}while(m!==null);c=Error((Tu(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}zt!==5&&(zt=2),c=rb(c,l),m=a;do{switch(m.tag){case 3:s=c,m.flags|=4096,t&=-t,m.lanes|=t;var x=SD(m,s,t);vN(m,x);break e;case 1:s=c;var O=m.type,F=m.stateNode;if((m.flags&64)===0&&(typeof O.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(ai===null||!ai.has(F)))){m.flags|=4096,t&=-t,m.lanes|=t;var L=CD(m,s,t);vN(m,L);break e}}m=m.return}while(m!==null)}DD(n)}catch(M){t=M,St===n&&n!==null&&(St=n=n.return);continue}break}while(1)}function OD(){var e=pv.current;return pv.current=dv,e===null?dv:e}function Wc(e,t){var n=le;le|=16;var r=OD();Cn===e&&un===t||Ru(e,t);do try{Bq();break}catch(i){PD(e,i)}while(1);if(KT(),le=n,pv.current=r,St!==null)throw Error(q(261));return Cn=null,un=0,zt}function Bq(){for(;St!==null;)xD(St)}function $q(){for(;St!==null&&!bq();)xD(St)}function xD(e){var t=MD(e.alternate,e,na);e.memoizedProps=e.pendingProps,t===null?DD(e):St=t,ib.current=null}function DD(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&2048)===0){if(n=Oq(n,t,na),n!==null){St=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||(na&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=xq(t),n!==null){n.flags&=2047,St=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);zt===0&&(zt=5)}function As(e){var t=Bu();return ta(99,qq.bind(null,e,t)),null}function qq(e,t){do Zo();while(rf!==null);if((le&48)!==0)throw Error(q(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var c=31-Bo(s),h=1<<c;i[c]=0,a[c]=-1,l[c]=-1,s&=~h}if(ji!==null&&(r&24)===0&&ji.has(e)&&ji.delete(e),e===Cn&&(St=Cn=null,un=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=le,le|=32,ib.current=null,b_=Np,a=tN(),Dw(a)){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(h=l.getSelection&&l.getSelection())&&h.rangeCount!==0){l=h.anchorNode,s=h.anchorOffset,c=h.focusNode,h=h.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var p=0,g=-1,m=-1,y=0,E=0,S=a,w=null;t:for(;;){for(var T;S!==l||s!==0&&S.nodeType!==3||(g=p+s),S!==c||h!==0&&S.nodeType!==3||(m=p+h),S.nodeType===3&&(p+=S.nodeValue.length),(T=S.firstChild)!==null;)w=S,S=T;for(;;){if(S===a)break t;if(w===l&&++y===s&&(g=p),w===c&&++E===h&&(m=p),(T=S.nextSibling)!==null)break;S=w,w=S.parentNode}S=T}l=g===-1||m===-1?null:{start:g,end:m}}else l=null;l=l||{start:0,end:0}}else l=null;I_={focusedElem:a,selectionRange:l},Np=!1,sf=null,Mp=!1,Y=r;do try{zq()}catch(M){if(Y===null)throw Error(q(330));Do(Y,M),Y=Y.nextEffect}while(Y!==null);sf=null,Y=r;do try{for(a=e;Y!==null;){var I=Y.flags;if(I&16&&bf(Y.stateNode,""),I&128){var k=Y.alternate;if(k!==null){var P=k.ref;P!==null&&(typeof P=="function"?P(null):P.current=null)}}switch(I&1038){case 2:VN(Y),Y.flags&=-3;break;case 6:VN(Y),Y.flags&=-3,P_(Y.alternate,Y);break;case 1024:Y.flags&=-1025;break;case 1028:Y.flags&=-1025,P_(Y.alternate,Y);break;case 4:P_(Y.alternate,Y);break;case 8:l=Y,kD(a,l);var x=l.alternate;UN(l),x!==null&&UN(x)}Y=Y.nextEffect}}catch(M){if(Y===null)throw Error(q(330));Do(Y,M),Y=Y.nextEffect}while(Y!==null);if(P=I_,k=tN(),I=P.focusedElem,a=P.selectionRange,k!==I&&I&&I.ownerDocument&&Wx(I.ownerDocument.documentElement,I)){for(a!==null&&Dw(I)&&(k=a.start,P=a.end,P===void 0&&(P=k),"selectionStart"in I?(I.selectionStart=k,I.selectionEnd=Math.min(P,I.value.length)):(P=(k=I.ownerDocument||document)&&k.defaultView||window,P.getSelection&&(P=P.getSelection(),l=I.textContent.length,x=Math.min(a.start,l),a=a.end===void 0?x:Math.min(a.end,l),!P.extend&&x>a&&(l=a,a=x,x=l),l=eN(I,x),s=eN(I,a),l&&s&&(P.rangeCount!==1||P.anchorNode!==l.node||P.anchorOffset!==l.offset||P.focusNode!==s.node||P.focusOffset!==s.offset)&&(k=k.createRange(),k.setStart(l.node,l.offset),P.removeAllRanges(),x>a?(P.addRange(k),P.extend(s.node,s.offset)):(k.setEnd(s.node,s.offset),P.addRange(k)))))),k=[],P=I;P=P.parentNode;)P.nodeType===1&&k.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<k.length;I++)P=k[I],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}Np=!!b_,I_=b_=null,e.current=n,Y=r;do try{for(I=e;Y!==null;){var O=Y.flags;if(O&36&&Fq(I,Y.alternate,Y),O&128){k=void 0;var F=Y.ref;if(F!==null){var L=Y.stateNode;switch(Y.tag){case 5:k=L;break;default:k=L}typeof F=="function"?F(k):F.current=k}}Y=Y.nextEffect}}catch(M){if(Y===null)throw Error(q(330));Do(Y,M),Y=Y.nextEffect}while(Y!==null);Y=null,Sq(),le=i}else e.current=n;if(qo)qo=!1,rf=e,zc=t;else for(Y=r;Y!==null;)t=Y.nextEffect,Y.nextEffect=null,Y.flags&8&&(O=Y,O.sibling=null,O.stateNode=null),Y=t;if(r=e.pendingLanes,r===0&&(ai=null),r===1?e===rE?of++:(of=0,rE=e):of=0,n=n.stateNode,Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(WT,n,void 0,(n.current.flags&64)===64)}catch{}if(br(e,on()),vv)throw vv=!1,e=eE,eE=null,e;return(le&8)!==0||wi(),null}function zq(){for(;Y!==null;){var e=Y.alternate;Mp||sf===null||((Y.flags&8)!==0?VA(Y,sf)&&(Mp=!0):Y.tag===13&&Uq(e,Y)&&VA(Y,sf)&&(Mp=!0));var t=Y.flags;(t&256)!==0&&Mq(e,Y),(t&512)===0||qo||(qo=!0,Pf(97,function(){return Zo(),null})),Y=Y.nextEffect}}function Zo(){if(zc!==90){var e=97<zc?97:zc;return zc=90,ta(e,Hq)}return!1}function Wq(e,t){tE.push(t,e),qo||(qo=!0,Pf(97,function(){return Zo(),null}))}function LD(e,t){nE.push(t,e),qo||(qo=!0,Pf(97,function(){return Zo(),null}))}function Hq(){if(rf===null)return!1;var e=rf;if(rf=null,(le&48)!==0)throw Error(q(331));var t=le;le|=32;var n=nE;nE=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(c){if(s===null)throw Error(q(330));Do(s,c)}}for(n=tE,tE=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(s===null)throw Error(q(330));Do(s,c)}}for(l=e.current.firstEffect;l!==null;)e=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=e;return le=t,wi(),!0}function $N(e,t,n){t=rb(n,t),t=SD(e,t,1),Po(e,t),t=nr(),e=Eg(e,1),e!==null&&(dg(e,1,t),br(e,t))}function Do(e,t){if(e.tag===3)$N(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){$N(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){e=rb(t,e);var i=CD(n,e,1);if(Po(n,i),i=nr(),n=Eg(n,1),n!==null)dg(n,1,i),br(n,i);else if(typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function Kq(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nr(),e.pingedLanes|=e.suspendedLanes&n,Cn===e&&(un&n)===n&&(zt===4||zt===3&&(un&62914560)===un&&500>on()-sb?Ru(e,0):ob|=n),br(e,t)}function Gq(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=Bu()===99?1:2:(xi===0&&(xi=yl),t=cu(62914560&~xi),t===0&&(t=4194304))),n=nr(),e=Eg(e,t),e!==null&&(dg(e,t,n),br(e,n))}var MD;MD=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Vn.current)$r=!0;else if((n&r)!==0)$r=(e.flags&16384)!==0;else{switch($r=!1,t.tag){case 3:AN(t),A_();break;case 5:_N(t);break;case 1:Bn(t.type)&&Op(t);break;case 4:$w(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ut(rv,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return(n&t.child.childLanes)!==0?NN(e,t,n):(ut(at,at.current&1),t=Li(e,t,n),t!==null?t.sibling:null);ut(at,at.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&64)!==0){if(r)return DN(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(at,at.current),r)break;return null;case 23:case 24:return t.lanes=0,N_(e,t,n)}return Li(e,t,n)}else $r=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Vu(t,hn.current),ku(t,n),i=ZT(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bn(r)){var s=!0;Op(t)}else s=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,QT(t);var a=r.getDerivedStateFromProps;typeof a=="function"&&sv(t,r,a,e),i.updater=_g,t.stateNode=i,i._reactInternals=t,Bw(t,r,e,n),t=Hw(null,t,r,!0,s,n)}else t.tag=0,Un(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=Yq(i),e=Vr(i,e),s){case 0:t=Ww(null,t,i,e,n);break e;case 1:t=kN(null,t,i,e,n);break e;case 11:t=SN(null,t,i,e,n);break e;case 14:t=CN(null,t,i,Vr(i.type,e),r,n);break e}throw Error(q(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vr(r,i),Ww(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vr(r,i),kN(e,t,r,i,n);case 3:if(AN(t),r=t.updateQueue,e===null||r===null)throw Error(q(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,aD(e,t),Of(t,r,null,n),r=t.memoizedState.element,r===i)A_(),t=Li(e,t,n);else{if(i=t.stateNode,(s=i.hydrate)&&(Io=Cu(t.stateNode.containerInfo.firstChild),Di=t,s=ci=!0),s){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)s=e[i],s._workInProgressVersionPrimary=e[i+1],Au.push(s);for(n=fD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Un(e,t,r,n),A_();t=t.child}return t;case 5:return _N(t),e===null&&qw(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Fw(r,i)?a=null:s!==null&&Fw(r,s)&&(t.flags|=16),ED(e,t),Un(e,t,a,n),t.child;case 6:return e===null&&qw(t),null;case 13:return NN(e,t,n);case 4:return $w(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=av(t,null,r,n):Un(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vr(r,i),SN(e,t,r,i,n);case 7:return Un(e,t,t.pendingProps,n),t.child;case 8:return Un(e,t,t.pendingProps.children,n),t.child;case 12:return Un(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(ut(rv,l._currentValue),l._currentValue=s,a!==null)if(l=a.value,s=hr(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(a.children===i.children&&!Vn.current){t=Li(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var h=c.firstContext;h!==null;){if(h.context===r&&(h.observedBits&s)!==0){l.tag===1&&(h=Ro(-1,n&-n),h.tag=2,Po(l,h)),l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),sD(l.return,n),c.lanes|=n;break}h=h.next}}else a=l.tag===10&&l.type===t.type?null:l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Un(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps,r=s.children,ku(t,n),i=Tr(i,s.unstable_observedBits),r=r(i),t.flags|=1,Un(e,t,r,n),t.child;case 14:return i=t.type,s=Vr(i,t.pendingProps),s=Vr(i.type,s),CN(e,t,i,s,r,n);case 15:return wD(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vr(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Bn(r)?(e=!0,Op(t)):e=!1,ku(t,n),lD(t,r,i),Bw(t,r,i,n),Hw(null,t,r,!0,e,n);case 19:return DN(e,t,n);case 23:return N_(e,t,n);case 24:return N_(e,t,n)}throw Error(q(156,t.tag))};function Qq(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,n,r){return new Qq(e,t,n,r)}function ub(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yq(e){if(typeof e=="function")return ub(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cg)return 11;if(e===fg)return 14}return 2}function zo(e,t){var n=e.alternate;return n===null?(n=dr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fp(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")ub(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case mo:return Pu(n.children,i,s,t);case hx:a=8,i|=16;break;case IT:a=8,i|=1;break;case Gc:return e=dr(12,n,t,i|8),e.elementType=Gc,e.type=Gc,e.lanes=s,e;case Qc:return e=dr(13,n,t,i),e.type=Qc,e.elementType=Qc,e.lanes=s,e;case Gp:return e=dr(19,n,t,i),e.elementType=Gp,e.lanes=s,e;case RT:return lb(n,i,s,t);case _w:return e=dr(24,n,t,i),e.elementType=_w,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ST:a=10;break e;case CT:a=9;break e;case cg:a=11;break e;case fg:a=14;break e;case kT:a=16,r=null;break e;case AT:a=22;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=dr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Pu(e,t,n,r){return e=dr(7,e,r,t),e.lanes=n,e}function lb(e,t,n,r){return e=dr(23,e,r,t),e.elementType=RT,e.lanes=n,e}function O_(e,t,n){return e=dr(6,e,null,t),e.lanes=n,e}function x_(e,t,n){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xq(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=g_(0),this.expirationTimes=g_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g_(0),this.mutableSourceEagerHydrationData=null}function Jq(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gv(e,t,n,r){var i=t.current,s=nr(),a=Oo(i);e:if(n){n=n._reactInternals;t:{if(_a(n)!==n||n.tag!==1)throw Error(q(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Bn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(q(171))}if(n.tag===1){var c=n.type;if(Bn(c)){n=Zx(n,c,l);break e}}n=l}else n=$o;return t.context===null?t.context=n:t.pendingContext=n,t=Ro(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),Po(i,t),xo(i,a,s),a}function D_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cb(e,t){qN(e,t),(e=e.alternate)&&qN(e,t)}function Zq(){return null}function fb(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new Xq(e,t,n!=null&&n.hydrate===!0),t=dr(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,QT(t),e[ml]=n.current,Gx(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}fb.prototype.render=function(e){gv(e,this._internalRoot,null,null)};fb.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;gv(null,e,null,function(){t[ml]=null})};function vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function e6(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new fb(e,0,t?{hydrate:!0}:void 0)}function Tg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var h=D_(a);l.call(h)}}gv(t,a,e,i)}else{if(s=n._reactRootContainer=e6(n,r),a=s._internalRoot,typeof i=="function"){var c=i;i=function(){var h=D_(a);c.call(h)}}RD(function(){gv(t,a,e,i)})}return D_(a)}kx=function(e){if(e.tag===13){var t=nr();xo(e,4,t),cb(e,4)}};LT=function(e){if(e.tag===13){var t=nr();xo(e,67108864,t),cb(e,67108864)}};Ax=function(e){if(e.tag===13){var t=nr(),n=Oo(e);xo(e,n,t),cb(e,n)}};Nx=function(e,t){return t()};Nw=function(e,t,n){switch(t){case"input":if(Ew(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mg(r);if(!i)throw Error(q(90));px(r),Ew(r,i)}}}break;case"textarea":gx(e,n);break;case"select":t=n.value,t!=null&&bu(e,!!n.multiple,t,!1)}};OT=ND;bx=function(e,t,n,r,i){var s=le;le|=4;try{return ta(98,e.bind(null,t,n,r,i))}finally{le=s,le===0&&(wl(),wi())}};xT=function(){(le&49)===0&&(Vq(),Zo())};Ix=function(e,t){var n=le;le|=2;try{return e(t)}finally{le=n,le===0&&(wl(),wi())}};function FD(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vh(t))throw Error(q(200));return Jq(e,t,null,n)}var t6={Events:[hh,mu,mg,Ex,Tx,Zo,{current:!1}]},Oc={findFiberByHostInstance:Ms,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},n6={bundleType:Oc.bundleType,version:Oc.version,rendererPackageName:Oc.rendererPackageName,rendererConfig:Oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cx(e),e===null?null:e.stateNode},findFiberByHostInstance:Oc.findFiberByHostInstance||Zq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{WT=cp.inject(n6),Ks=cp}catch{}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t6;Cr.createPortal=FD;Cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):Error(q(268,Object.keys(e)));return e=Cx(t),e=e===null?null:e.stateNode,e};Cr.flushSync=function(e,t){var n=le;if((n&48)!==0)return e(t);le|=1;try{if(e)return ta(99,e.bind(null,t))}finally{le=n,wi()}};Cr.hydrate=function(e,t,n){if(!vh(t))throw Error(q(200));return Tg(null,e,t,!0,n)};Cr.render=function(e,t,n){if(!vh(t))throw Error(q(200));return Tg(null,e,t,!1,n)};Cr.unmountComponentAtNode=function(e){if(!vh(e))throw Error(q(40));return e._reactRootContainer?(RD(function(){Tg(null,null,e,!1,function(){e._reactRootContainer=null,e[ml]=null})}),!0):!1};Cr.unstable_batchedUpdates=ND;Cr.unstable_createPortal=function(e,t){return FD(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Cr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vh(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Tg(e,t,n,!1,r)};Cr.version="17.0.2";function UD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UD)}catch(e){console.error(e)}}UD(),wT.exports=Cr;var wte=wT.exports;function mv(){return mv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mv.apply(this,arguments)}var js;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(js||(js={}));var zN=function(e){return e},WN="beforeunload",r6="popstate";function i6(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,i=r.history;function s(){var F=r.location,L=F.pathname,M=F.search,A=F.hash,ge=i.state||{};return[ge.idx,zN({pathname:L,search:M,hash:A,state:ge.usr||null,key:ge.key||"default"})]}var a=null;function l(){if(a)y.call(a),a=null;else{var F=js.Pop,L=s(),M=L[0],A=L[1];if(y.length){if(M!=null){var ge=p-M;ge&&(a={action:F,location:A,retry:function(){x(ge*-1)}},x(ge))}}else I(F)}}r.addEventListener(r6,l);var c=js.Pop,h=s(),p=h[0],g=h[1],m=KN(),y=KN();p==null&&(p=0,i.replaceState(mv({},i.state,{idx:p}),""));function E(F){return typeof F=="string"?F:s6(F)}function S(F,L){return L===void 0&&(L=null),zN(mv({pathname:g.pathname,hash:"",search:""},typeof F=="string"?bg(F):F,{state:L,key:o6()}))}function w(F,L){return[{usr:F.state,key:F.key,idx:L},E(F)]}function T(F,L,M){return!y.length||(y.call({action:F,location:L,retry:M}),!1)}function I(F){c=F;var L=s();p=L[0],g=L[1],m.call({action:c,location:g})}function k(F,L){var M=js.Push,A=S(F,L);function ge(){k(F,L)}if(T(M,A,ge)){var pe=w(A,p+1),ke=pe[0],lt=pe[1];try{i.pushState(ke,"",lt)}catch{r.location.assign(lt)}I(M)}}function P(F,L){var M=js.Replace,A=S(F,L);function ge(){P(F,L)}if(T(M,A,ge)){var pe=w(A,p),ke=pe[0],lt=pe[1];i.replaceState(ke,"",lt),I(M)}}function x(F){i.go(F)}var O={get action(){return c},get location(){return g},createHref:E,push:k,replace:P,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(L){return m.push(L)},block:function(L){var M=y.push(L);return y.length===1&&r.addEventListener(WN,HN),function(){M(),y.length||r.removeEventListener(WN,HN)}}};return O}function HN(e){e.preventDefault(),e.returnValue=""}function KN(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function o6(){return Math.random().toString(36).substr(2,8)}function s6(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,i=r===void 0?"":r,s=e.hash,a=s===void 0?"":s;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function bg(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}/**
 * React Router v6.2.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wo(e,t){if(!e)throw new Error(t)}const a6=G.exports.createContext(null),hb=G.exports.createContext(null),jD=G.exports.createContext({outlet:null,matches:[]});function u6(e){Wo(!1)}function l6(e){let{basename:t="/",children:n=null,location:r,navigationType:i=js.Pop,navigator:s,static:a=!1}=e;db()&&Wo(!1);let l=$D(t),c=G.exports.useMemo(()=>({basename:l,navigator:s,static:a}),[l,s,a]);typeof r=="string"&&(r=bg(r));let{pathname:h="/",search:p="",hash:g="",state:m=null,key:y="default"}=r,E=G.exports.useMemo(()=>{let S=BD(h,l);return S==null?null:{pathname:S,search:p,hash:g,state:m,key:y}},[l,h,p,g,m,y]);return E==null?null:G.exports.createElement(a6.Provider,{value:c},G.exports.createElement(hb.Provider,{children:n,value:{location:E,navigationType:i}}))}function Ete(e){let{children:t,location:n}=e;return f6(oE(t),n)}function db(){return G.exports.useContext(hb)!=null}function c6(){return db()||Wo(!1),G.exports.useContext(hb).location}function f6(e,t){db()||Wo(!1);let{matches:n}=G.exports.useContext(jD),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let a=c6(),l;if(t){var c;let m=typeof t=="string"?bg(t):t;s==="/"||((c=m.pathname)==null?void 0:c.startsWith(s))||Wo(!1),l=m}else l=a;let h=l.pathname||"/",p=s==="/"?h:h.slice(s.length)||"/",g=h6(e,{pathname:p});return b6(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},i,m.params),pathname:Ou([s,m.pathname]),pathnameBase:m.pathnameBase==="/"?s:Ou([s,m.pathnameBase])})),n)}function oE(e){let t=[];return G.exports.Children.forEach(e,n=>{if(!G.exports.isValidElement(n))return;if(n.type===G.exports.Fragment){t.push.apply(t,oE(n.props.children));return}n.type!==u6&&Wo(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=oE(n.props.children)),t.push(r)}),t}function h6(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?bg(t):t,i=BD(r.pathname||"/",n);if(i==null)return null;let s=VD(e);d6(s);let a=null;for(let l=0;a==null&&l<s.length;++l)a=T6(s[l],i);return a}function VD(e,t,n,r){return t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=""),e.forEach((i,s)=>{let a={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||Wo(!1),a.relativePath=a.relativePath.slice(r.length));let l=Ou([r,a.relativePath]),c=n.concat(a);i.children&&i.children.length>0&&(i.index===!0&&Wo(!1),VD(i.children,t,c,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:w6(l,i.index),routesMeta:c})}),t}function d6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:E6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const p6=/^:\w+$/,v6=3,g6=2,m6=1,y6=10,_6=-2,GN=e=>e==="*";function w6(e,t){let n=e.split("/"),r=n.length;return n.some(GN)&&(r+=_6),t&&(r+=g6),n.filter(i=>!GN(i)).reduce((i,s)=>i+(p6.test(s)?v6:s===""?m6:y6),r)}function E6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function T6(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=I6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!p)return null;Object.assign(r,p.params);let g=l.route;s.push({params:r,pathname:Ou([i,p.pathname]),pathnameBase:$D(Ou([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Ou([i,p.pathnameBase]))}return s}function b6(e,t){return t===void 0&&(t=[]),e==null?null:e.reduceRight((n,r,i)=>G.exports.createElement(jD.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,i+1))}}),null)}function I6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=S6(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,g)=>{if(p==="*"){let m=l[g]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return h[p]=C6(l[g]||""),h},{}),pathname:s,pathnameBase:a,pattern:e}}function S6(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(a,l)=>(r.push(l),"([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),r]}function C6(e,t){try{return decodeURIComponent(e)}catch{return e}}function BD(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&n!=="/"?null:e.slice(t.length)||"/"}const Ou=e=>e.join("/").replace(/\/\/+/g,"/"),$D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");/**
 * React Router DOM v6.2.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tte(e){let{basename:t,children:n,window:r}=e,i=G.exports.useRef();i.current==null&&(i.current=i6({window:r}));let s=i.current,[a,l]=G.exports.useState({action:s.action,location:s.location});return G.exports.useLayoutEffect(()=>s.listen(l),[s]),G.exports.createElement(l6,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sE=function(e,t){return sE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},sE(e,t)};function K(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");sE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ie=function(){return ie=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ie.apply(this,arguments)};function R(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(g){a(g)}}function c(p){try{h(r.throw(p))}catch(g){a(g)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ft(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ht(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function ve(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $=function(e,t){if(!e)throw El(t)},El=function(e){return new Error("Firebase Database ("+qD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zD=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},k6=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Ig={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,p=s>>2,g=(s&3)<<4|l>>4,m=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(m=64)),r.push(n[p],n[g],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zD(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):k6(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var p=i<e.length,g=p?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||g==null)throw Error();var m=s<<2|l>>4;if(r.push(m),h!==64){var y=l<<4&240|h>>2;if(r.push(y),g!==64){var E=h<<6&192|g;r.push(E)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},WD=function(e){var t=zD(e);return Ig.encodeByteArray(t,!0)},QN=function(e){return WD(e).replace(/\./g,"")},YN=function(e){try{return Ig.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(e){return Mf(void 0,e)}function Mf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!A6(r)||(e[r]=Mf(e[r],t[r]));return e}function A6(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ie({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[QN(JSON.stringify(n)),QN(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vb(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ra())}function KD(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N6(){return typeof self=="object"&&self.self===self}function gb(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function GD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R6(){return ra().indexOf("Electron/")>=0}function P6(){var e=ra();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function O6(){return ra().indexOf("MSAppHost/")>=0}function QD(){return qD.NODE_ADMIN===!0}function x6(){return!KD()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gh(){return"indexedDB"in self&&indexedDB!=null}function mb(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function YD(){return!(!navigator||!navigator.cookieEnabled)}function D6(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L6="FirebaseError",Tl=function(e){K(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=L6,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Qi.prototype.create),s}return t}(Error),Qi=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?M6(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new Tl(s,c,i);return h},e}();function M6(e,t){return e.replace(F6,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var F6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(e){return JSON.parse(e)}function It(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yb=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=Ff(YN(s[0])||""),n=Ff(YN(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},U6=function(e){var t=yb(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},j6=function(e){var t=yb(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},V6=function(e){var t=yb(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ia(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function aE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function yv(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(p){t.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $6=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,m,i=0;i<80;i++){i<40?i<20?(g=h^l&(c^h),m=1518500249):(g=l^c^h,m=1859775393):i<60?(g=l&c|h&(l|c),m=2400959708):(g=l^c^h,m=3395469782);var s=(a<<5|a>>>27)+g+p+m+r[i]&4294967295;p=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function q6(e,t){var n=new z6(e,t);return n.subscribe.bind(n)}var z6=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W6(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=L_),s.error===void 0&&(s.error=L_),s.complete===void 0&&(s.complete=L_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function W6(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function L_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function $n(e,t){return e+" failed: "+t+" argument "}function Ot(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error($n(e,t)+"must be a valid function.")}function XN(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error($n(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H6=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,$(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Sg=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K6=1e3,G6=2,Q6=4*60*60*1e3,Y6=.5;function uE(e,t,n){t===void 0&&(t=K6),n===void 0&&(n=G6);var r=t*Math.pow(n,e),i=Math.round(Y6*r*(Math.random()-.5)*2);return Math.min(Q6,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e){return e&&e._delegate?e._delegate:e}var dn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XD=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Lt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(J6(t))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}try{for(var i=Ft(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Ht(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});c.resolve(p)}catch{}}}catch(g){n={error:g}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Ns),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ve(ve([],Ht(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Ht(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Ns),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Ns),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=Ft(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var p=Ht(h.value,2),g=p[0],m=p[1],y=this.normalizeInstanceIdentifier(g);a===y&&m.resolve(l)}}catch(E){n={error:E}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(!!s)try{for(var a=Ft(s),l=a.next();!l.done;l=a.next()){var c=l.value;try{c(t,n)}catch{}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:X6(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Ns),this.component?this.component.multipleInstances?t:Ns:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function X6(e){return e===Ns?void 0:e}function J6(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JD=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new XD(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function jr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks,_b=[],we;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(we||(we={}));var ZD={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Z6=we.INFO,ez=(ks={},ks[we.DEBUG]="log",ks[we.VERBOSE]="log",ks[we.INFO]="info",ks[we.WARN]="warn",ks[we.ERROR]="error",ks),tz=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=ez[t];if(s)console[s].apply(console,jr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Ea=function(){function e(t){this.name=t,this._logLevel=Z6,this._logHandler=tz,this._userLogHandler=null,_b.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in we))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?ZD[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,jr([this,we.DEBUG],t)),this._logHandler.apply(this,jr([this,we.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,jr([this,we.VERBOSE],t)),this._logHandler.apply(this,jr([this,we.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,jr([this,we.INFO],t)),this._logHandler.apply(this,jr([this,we.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,jr([this,we.WARN],t)),this._logHandler.apply(this,jr([this,we.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,jr([this,we.ERROR],t)),this._logHandler.apply(this,jr([this,we.ERROR],t))},e}();function nz(e){_b.forEach(function(t){t.setLogLevel(e)})}function rz(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=ZD[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],g=2;g<arguments.length;g++)p[g-2]=arguments[g];var m=p.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l!=null?l:c.logLevel)&&e({level:we[h].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=_b;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co,iz=(co={},co["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",co["bad-app-name"]="Illegal App name: '{$appName}",co["duplicate-app"]="Firebase App named '{$appName}' already exists",co["app-deleted"]="Firebase App named '{$appName}' already deleted",co["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",co["invalid-log-argument"]="First argument to `onLog` must be null or a function.",co),fu=new Qi("app","Firebase",iz),eL="@firebase/app",oz="0.6.30",sz="@firebase/analytics",az="@firebase/app-check",uz="@firebase/auth",lz="@firebase/database",cz="@firebase/functions",fz="@firebase/installations",hz="@firebase/messaging",dz="@firebase/performance",pz="@firebase/remote-config",vz="@firebase/storage",gz="@firebase/firestore",mz="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,_v="[DEFAULT]",yz=(en={},en[eL]="fire-core",en[sz]="fire-analytics",en[az]="fire-app-check",en[uz]="fire-auth",en[lz]="fire-rtdb",en[cz]="fire-fn",en[fz]="fire-iid",en[hz]="fire-fcm",en[dz]="fire-perf",en[pz]="fire-rc",en[vz]="fire-gcs",en[gz]="fire-fst",en["fire-js"]="fire-js",en[mz]="fire-js-all",en);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qu=new Ea("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Up=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=HD(t),this.container=new JD(n.name),this._addComponent(new dn("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=_v),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=_v),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){qu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw fu.create("app-deleted",{appName:this.name_})},e}();Up.prototype.name&&Up.prototype.options||Up.prototype.delete||console.log("dc");var _z="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:nz,onLog:p,apps:null,SDK_VERSION:_z,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:g}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||_v,!rr(t,m))throw fu.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var E=y;y={name:E}}var S=y;S.name===void 0&&(S.name=_v);var w=S.name;if(typeof w!="string"||!w)throw fu.create("bad-app-name",{appName:String(w)});if(rr(t,w))throw fu.create("duplicate-app",{appName:w});var T=new e(m,S,r);return t[w]=T,T}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var y=m.name;if(n.has(y))return qu.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var E=function(I){if(I===void 0&&(I=s()),typeof I[y]!="function")throw fu.create("invalid-app-argument",{appName:y});return I[y]()};m.serviceProps!==void 0&&Mf(E,m.serviceProps),r[y]=E,e.prototype[y]=function(){for(var I=[],k=0;k<arguments.length;k++)I[k]=arguments[k];var P=this._getService.bind(this,y);return P.apply(this,m.multipleInstances?I:[])}}for(var S=0,w=Object.keys(t);S<w.length;S++){var T=w[S];t[T]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,E){var S,w=(S=yz[m])!==null&&S!==void 0?S:m;E&&(w+="-"+E);var T=w.match(/\s|\//),I=y.match(/\s|\//);if(T||I){var k=['Unable to register library "'+w+'" with version "'+y+'":'];T&&k.push('library name "'+w+'" contains illegal characters (whitespace or "/")'),T&&I&&k.push("and"),I&&k.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),qu.warn(k.join(" "));return}c(new dn(w+"-version",function(){return{library:w,version:y}},"VERSION"))}function p(m,y){if(m!==null&&typeof m!="function")throw fu.create("invalid-log-argument");rz(m,y)}function g(m,y){if(y==="serverAuth")return null;var E=y;return E}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(){var e=wz(Up);e.INTERNAL=ie(ie({},e.INTERNAL),{createFirebaseNamespace:tL,extendNamespace:t,createSubscribe:q6,ErrorFactory:Qi,deepExtend:Mf});function t(n){Mf(e,n)}return e}var wb=tL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ez=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(Tz(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function Tz(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(e,t){e.INTERNAL.registerComponent(new dn("platform-logger",function(n){return new Ez(n)},"PRIVATE")),e.registerVersion(eL,oz,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(N6()&&self.firebase!==void 0){qu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var JN=self.firebase.SDK_VERSION;JN&&JN.indexOf("LITE")>=0&&qu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var Iz=wb.initializeApp;wb.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return KD()&&qu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),Iz.apply(void 0,e)};var ee=wb;bz(ee);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var v=o[d];v in f||(f[v]={}),f=f[v]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol!="undefined"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(b){this.b=0,this.c=void 0,this.a=[];var C=this.f();try{b(C.resolve,C.reject)}catch(U){C.reject(U)}}function f(){this.a=null}function d(b){return b instanceof u?b:new u(function(C){C(b)})}if(o)return o;f.prototype.b=function(b){if(this.a==null){this.a=[];var C=this;this.c(function(){C.g()})}this.a.push(b)};var v=r.setTimeout;f.prototype.c=function(b){v(b,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var C=0;C<b.length;++C){var U=b[C];b[C]=null;try{U()}catch(j){this.f(j)}}}this.a=null},f.prototype.f=function(b){this.c(function(){throw b})},u.prototype.f=function(){function b(j){return function(ue){U||(U=!0,j.call(C,ue))}}var C=this,U=!1;return{resolve:b(this.m),reject:b(this.g)}},u.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof u)this.s(b);else{e:switch(typeof b){case"object":var C=b!=null;break e;case"function":C=!0;break e;default:C=!1}C?this.v(b):this.h(b)}},u.prototype.v=function(b){var C=void 0;try{C=b.then}catch(U){this.g(U);return}typeof C=="function"?this.u(C,b):this.h(b)},u.prototype.g=function(b){this.i(2,b)},u.prototype.h=function(b){this.i(1,b)},u.prototype.i=function(b,C){if(this.b!=0)throw Error("Cannot settle("+b+", "+C+"): Promise already settled in state"+this.b);this.b=b,this.c=C,this.l()},u.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)_.b(this.a[b]);this.a=null}};var _=new f;return u.prototype.s=function(b){var C=this.f();b.Ra(C.resolve,C.reject)},u.prototype.u=function(b,C){var U=this.f();try{b.call(C,U.resolve,U.reject)}catch(j){U.reject(j)}},u.prototype.then=function(b,C){function U(Ae,Nt){return typeof Ae=="function"?function(Ni){try{j(Ae(Ni))}catch(c_){ue(c_)}}:Nt}var j,ue,De=new u(function(Ae,Nt){j=Ae,ue=Nt});return this.Ra(U(b,j),U(C,ue)),De},u.prototype.catch=function(b){return this.then(void 0,b)},u.prototype.Ra=function(b,C){function U(){switch(j.b){case 1:b(j.c);break;case 2:C(j.c);break;default:throw Error("Unexpected state: "+j.b)}}var j=this;this.a==null?_.b(U):this.a.push(U)},u.resolve=d,u.reject=function(b){return new u(function(C,U){U(b)})},u.race=function(b){return new u(function(C,U){for(var j=a(b),ue=j.next();!ue.done;ue=j.next())d(ue.value).Ra(C,U)})},u.all=function(b){var C=a(b),U=C.next();return U.done?d([]):new u(function(j,ue){function De(Ni){return function(c_){Ae[Ni]=c_,Nt--,Nt==0&&j(Ae)}}var Ae=[],Nt=0;do Ae.push(void 0),Nt++,d(U.value).Ra(De(Ae.length-1),ue),U=C.next();while(!U.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function g(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function E(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function S(o){return y(o)=="function"}function w(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function T(o){return Object.prototype.hasOwnProperty.call(o,I)&&o[I]||(o[I]=++k)}var I="closure_uid_"+(1e9*Math.random()>>>0),k=0;function P(o,u,f){return o.call.apply(o.bind,arguments)}function x(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),o.apply(u,v)}}return function(){return o.apply(u,arguments)}}function O(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=P:O=x,O.apply(null,arguments)}function F(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function L(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function M(o){return o}function A(o,u,f){this.code=pe+o,this.message=u||ke[o]||"",this.a=f||null}L(A,Error),A.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},A.prototype.toJSON=function(){return this.w()};function ge(o){var u=o&&o.code;return u?new A(u.substring(pe.length),o.message,o.serverResponse):null}var pe="auth/",ke={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},lt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function it(o){for(var u in lt)if(lt[u].id===o)return o=lt[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Ze;Ze=it("__EID__")?"__EID__":void 0;function Rn(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function et(o){if(Error.captureStackTrace)Error.captureStackTrace(this,et);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}L(et,Error),et.prototype.name="CustomError";function bi(o,u){o=o.split("%s");for(var f="",d=o.length-1,v=0;v<d;v++)f+=o[v]+(v<u.length?u[v]:"%s");et.call(this,f+o[d])}L(bi,et),bi.prototype.name="AssertionError";function ar(o,u){throw new bi("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function W(o,u){this.c=o,this.f=u,this.b=0,this.a=null}W.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function re(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function se(){this.b=this.a=null}var je=new W(function(){return new Pn},function(o){o.reset()});se.prototype.add=function(o,u){var f=je.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function qe(){var o=hS,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function Pn(){this.next=this.b=this.a=null}Pn.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},Pn.prototype.reset=function(){this.next=this.b=this.a=null};var Qr=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},xe=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,v=typeof o=="string"?o.split(""):o,_=0;_<d;_++)_ in v&&u.call(f,v[_],_,o)};function eo(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var X4=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],v=0,_=typeof o=="string"?o.split(""):o,b=0;b<f;b++)if(b in _){var C=_[b];u.call(void 0,C,b,o)&&(d[v++]=C)}return d},Yh=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),v=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in v&&(d[_]=u.call(void 0,v[_],_,o));return d},J4=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,v=0;v<f;v++)if(v in d&&u.call(void 0,d[v],v,o))return!0;return!1};function Z4(o){e:{for(var u=xj,f=o.length,d=typeof o=="string"?o.split(""):o,v=0;v<f;v++)if(v in d&&u.call(void 0,d[v],v,o)){u=v;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function Ii(o,u){return 0<=Qr(o,u)}function Xh(o,u){u=Qr(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function Ar(o,u){var f=0;eo(o,function(d,v){u.call(void 0,d,v,o)&&Array.prototype.splice.call(o,v,1).length==1&&f++})}function Lm(o){return Array.prototype.concat.apply([],arguments)}function ss(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var B1=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},e3=/&/g,t3=/</g,n3=/>/g,r3=/"/g,i3=/'/g,o3=/\x00/g,s3=/[\x00&<>"']/;function Ve(o,u){return o.indexOf(u)!=-1}function Mm(o,u){return o<u?-1:o>u?1:0}var Da;e:{var $1=c.navigator;if($1){var q1=$1.userAgent;if(q1){Da=q1;break e}}Da=""}function Et(o){return Ve(Da,o)}function z1(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function as(o){for(var u in o)return!1;return!0}function to(o){var u={},f;for(f in o)u[f]=o[f];return u}var W1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(o,u){for(var f,d,v=1;v<arguments.length;v++){d=arguments[v];for(f in d)o[f]=d[f];for(var _=0;_<W1.length;_++)f=W1[_],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function H1(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||c,d.Element&&d.Location){var v=d;break e}}catch{}v=null}if(v&&typeof v[u]!="undefined"&&(!o||!(o instanceof v[u])&&(o instanceof v.Location||o instanceof v.Element))){if(w(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;ar("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function Yr(o,u){this.a=o===Jh&&u||"",this.b=K1}Yr.prototype.ta=!0,Yr.prototype.sa=function(){return this.a},Yr.prototype.toString=function(){return"Const{"+this.a+"}"};function Fm(o){return o instanceof Yr&&o.constructor===Yr&&o.b===K1?o.a:(ar("expected object of type Const, got '"+o+"'"),"type_error:Const")}var K1={},Jh={},Zh;function G1(){if(Zh===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:M,createScript:M,createScriptURL:M})}catch(f){c.console&&c.console.error(f.message)}Zh=o}else Zh=o}return Zh}function La(o,u){this.a=u===Y1?o:""}La.prototype.ta=!0,La.prototype.sa=function(){return this.a.toString()},La.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Q1(o){return o instanceof La&&o.constructor===La?o.a:(ar("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Um(o,u){var f=Fm(o);if(!u3.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(a3,function(d,v){if(!Object.prototype.hasOwnProperty.call(u,v))throw Error('Found marker, "'+v+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[v],d instanceof Yr?Fm(d):encodeURIComponent(String(d))}),l3(o)}var a3=/%{(\w+)}/g,u3=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Y1={};function l3(o){var u=G1();return o=u?u.createScriptURL(o):o,new La(o,Y1)}function xn(o,u){this.a=u===jl?o:""}xn.prototype.ta=!0,xn.prototype.sa=function(){return this.a.toString()},xn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function ed(o){return o instanceof xn&&o.constructor===xn?o.a:(ar("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var c3=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,f3=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,X1=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function J1(o){if(o instanceof xn)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),X1.test(o))o=new xn(o,jl);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(f3);o=u&&c3.test(u[1])?new xn(o,jl):null}return o}function Z1(o){return o instanceof xn?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),X1.test(o)||(o="about:invalid#zClosurez"),new xn(o,jl))}var jl={},eS=new xn("about:invalid#zClosurez",jl);function Ma(o,u,f){this.a=f===tS?o:""}Ma.prototype.ta=!0,Ma.prototype.sa=function(){return this.a.toString()},Ma.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function h3(o){return o instanceof Ma&&o.constructor===Ma?o.a:(ar("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var tS={};function d3(o,u){H1(o,"HTMLScriptElement"),o.src=Q1(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=g(u.document):(p===null&&(p=g(c.document)),u=p),u&&o.setAttribute("nonce",u)}function nS(o,u,f,d){return o=o instanceof xn?o:Z1(o),u=u||c,f=f instanceof Yr?Fm(f):f||"",u.open(ed(o),f,d,void 0)}function rS(o,u){for(var f=o.split("%s"),d="",v=Array.prototype.slice.call(arguments,1);v.length&&1<f.length;)d+=f.shift()+v.shift();return d+f.join("%s")}function jm(o){return s3.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(e3,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(t3,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(n3,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(r3,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(i3,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(o3,"&#0;"))),o}function Vm(o){return Vm[" "](o),o}Vm[" "]=m;function p3(o,u){var f=y3;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var v3=Et("Opera"),Nr=Et("Trident")||Et("MSIE"),iS=Et("Edge"),g3=iS||Nr,oS=Et("Gecko")&&!(Ve(Da.toLowerCase(),"webkit")&&!Et("Edge"))&&!(Et("Trident")||Et("MSIE"))&&!Et("Edge"),m3=Ve(Da.toLowerCase(),"webkit")&&!Et("Edge");function sS(){var o=c.document;return o?o.documentMode:void 0}var td;e:{var Bm="",$m=function(){var o=Da;if(oS)return/rv:([^\);]+)(\)|;)/.exec(o);if(iS)return/Edge\/([\d\.]+)/.exec(o);if(Nr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(m3)return/WebKit\/(\S+)/.exec(o);if(v3)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if($m&&(Bm=$m?$m[1]:""),Nr){var qm=sS();if(qm!=null&&qm>parseFloat(Bm)){td=String(qm);break e}}td=Bm}var y3={};function aS(o){return p3(o,function(){for(var u=0,f=B1(String(td)).split("."),d=B1(String(o)).split("."),v=Math.max(f.length,d.length),_=0;u==0&&_<v;_++){var b=f[_]||"",C=d[_]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],b[0].length==0&&C[0].length==0)break;u=Mm(b[1].length==0?0:parseInt(b[1],10),C[1].length==0?0:parseInt(C[1],10))||Mm(b[2].length==0,C[2].length==0)||Mm(b[2],C[2]),b=b[3],C=C[3]}while(u==0)}return 0<=u})}var zm;if(c.document&&Nr){var uS=sS();zm=uS||parseInt(td,10)||void 0}else zm=void 0;var no=zm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var _3=!Nr||9<=Number(no);function Vl(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function lS(o,u){z1(u,function(f,d){f&&typeof f=="object"&&f.ta&&(f=f.sa()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:cS.hasOwnProperty(d)?o.setAttribute(cS[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var cS={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function w3(o,u,f){var d=arguments,v=document,_=String(d[0]),b=d[1];if(!_3&&b&&(b.name||b.type)){if(_=["<",_],b.name&&_.push(' name="',jm(b.name),'"'),b.type){_.push(' type="',jm(b.type),'"');var C={};On(C,b),delete C.type,b=C}_.push(">"),_=_.join("")}return _=nd(v,_),b&&(typeof b=="string"?_.className=b:Array.isArray(b)?_.className=b.join(" "):lS(_,b)),2<d.length&&E3(v,_,d),_}function E3(o,u,f){function d(C){C&&u.appendChild(typeof C=="string"?o.createTextNode(C):C)}for(var v=2;v<f.length;v++){var _=f[v];if(!E(_)||w(_)&&0<_.nodeType)d(_);else{e:{if(_&&typeof _.length=="number"){if(w(_)){var b=typeof _.item=="function"||typeof _.item=="string";break e}if(S(_)){b=typeof _.item=="function";break e}}b=!1}xe(b?ss(_):_,d)}}}function nd(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function fS(o){c.setTimeout(function(){throw o},0)}var Wm;function T3(){var o=c.MessageChannel;if(typeof o=="undefined"&&typeof window!="undefined"&&window.postMessage&&window.addEventListener&&!Et("Presto")&&(o=function(){var v=nd(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var _=v.contentWindow;v=_.document,v.open(),v.close();var b="callImmediate"+Math.random(),C=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;v=O(function(U){(C=="*"||U.origin==C)&&U.data==b&&this.port1.onmessage()},this),_.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(b,C)}}}),typeof o!="undefined"&&!Et("Trident")&&!Et("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var v=f.Hb;f.Hb=null,v()}},function(v){d.next={Hb:v},d=d.next,u.port2.postMessage(0)}}return function(v){c.setTimeout(v,0)}}function rd(o,u){id||b3(),Hm||(id(),Hm=!0),hS.add(o,u)}var id;function b3(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);id=function(){o.then(dS)}}else id=function(){var u=dS;!S(c.setImmediate)||c.Window&&c.Window.prototype&&!Et("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Wm||(Wm=T3()),Wm(u)):c.setImmediate(u)}}var Hm=!1,hS=new se;function dS(){for(var o;o=qe();){try{o.a.call(o.b)}catch(u){fS(u)}re(je,o)}Hm=!1}function Ee(o,u){if(this.a=us,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(d){ls(f,Bl,d)},function(d){if(!(d instanceof Fa))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}ls(f,Si,d)})}catch(d){ls(this,Si,d)}}var us=0,Bl=2,Si=3;function pS(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}pS.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var vS=new W(function(){return new pS},function(o){o.reset()});function Km(o,u,f){var d=vS.get();return d.g=o,d.b=u,d.f=f,d}function ne(o){if(o instanceof Ee)return o;var u=new Ee(m);return ls(u,Bl,o),u}function Ke(o){return new Ee(function(u,f){f(o)})}function gS(o,u,f){wS(o,u,f,null)||rd(F(u,o))}function I3(o){return new Ee(function(u,f){var d=o.length,v=[];if(d)for(var _=function(j,ue){d--,v[j]=ue,d==0&&u(v)},b=function(j){f(j)},C=0,U;C<o.length;C++)U=o[C],gS(U,F(_,C),b);else u(v)})}function mS(o){return new Ee(function(u){var f=o.length,d=[];if(f)for(var v=function(C,U,j){f--,d[C]=U?{Qb:!0,value:j}:{Qb:!1,reason:j},f==0&&u(d)},_=0,b;_<o.length;_++)b=o[_],gS(b,F(v,_,!0),F(v,_,!1));else u(d)})}Ee.prototype.then=function(o,u,f){return _S(this,S(o)?o:null,S(u)?u:null,f)},Ee.prototype.$goog_Thenable=!0,e=Ee.prototype,e.oa=function(o,u){return o=Km(o,o,u),o.c=!0,Gm(this,o),this},e.o=function(o,u){return _S(this,null,o,u)},e.cancel=function(o){if(this.a==us){var u=new Fa(o);rd(function(){yS(this,u)},this)}};function yS(o,u){if(o.a==us)if(o.c){var f=o.c;if(f.b){for(var d=0,v=null,_=null,b=f.b;b&&(b.c||(d++,b.a==o&&(v=b),!(v&&1<d)));b=b.next)v||(_=b);v&&(f.a==us&&d==1?yS(f,u):(_?(d=_,d.next==f.f&&(f.f=d),d.next=d.next.next):TS(f),bS(f,v,Si,u)))}o.c=null}else ls(o,Si,u)}function Gm(o,u){o.b||o.a!=Bl&&o.a!=Si||ES(o),o.f?o.f.next=u:o.b=u,o.f=u}function _S(o,u,f,d){var v=Km(null,null,null);return v.a=new Ee(function(_,b){v.g=u?function(C){try{var U=u.call(d,C);_(U)}catch(j){b(j)}}:_,v.b=f?function(C){try{var U=f.call(d,C);U===void 0&&C instanceof Fa?b(C):_(U)}catch(j){b(j)}}:b}),v.a.c=o,Gm(o,v),v.a}e.$c=function(o){this.a=us,ls(this,Bl,o)},e.ad=function(o){this.a=us,ls(this,Si,o)};function ls(o,u,f){o.a==us&&(o===f&&(u=Si,f=new TypeError("Promise cannot resolve to itself")),o.a=1,wS(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,ES(o),u!=Si||f instanceof Fa||C3(o,f)))}function wS(o,u,f,d){if(o instanceof Ee)return Gm(o,Km(u||m,f||null,d)),!0;if(Rn(o))return o.then(u,f,d),!0;if(w(o))try{var v=o.then;if(S(v))return S3(o,v,u,f,d),!0}catch(_){return f.call(d,_),!0}return!1}function S3(o,u,f,d,v){function _(U){C||(C=!0,d.call(v,U))}function b(U){C||(C=!0,f.call(v,U))}var C=!1;try{u.call(o,b,_)}catch(U){_(U)}}function ES(o){o.h||(o.h=!0,rd(o.gc,o))}function TS(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=TS(this);)bS(this,o,this.a,this.i);this.h=!1};function bS(o,u,f,d){if(f==Si&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,IS(u,f,d);else try{u.c?u.g.call(u.f):IS(u,f,d)}catch(v){SS.call(null,v)}re(vS,u)}function IS(o,u,f){u==Bl?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function C3(o,u){o.g=!0,rd(function(){o.g&&SS.call(null,u)})}var SS=fS;function Fa(o){et.call(this,o)}L(Fa,et),Fa.prototype.name="cancel";function od(){this.ya=this.ya,this.pa=this.pa}var k3=0,A3={};od.prototype.ya=!1;function CS(o){if(!o.ya&&(o.ya=!0,o.Da(),k3!=0)){var u=T(o);delete A3[u]}}od.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var N3=Object.freeze||function(o){return o},kS=!Nr||9<=Number(no),R3=Nr&&!aS("9"),P3=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function Dn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Dn.prototype.preventDefault=function(){this.defaultPrevented=!0};function cs(o,u){if(Dn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(oS){e:{try{Vm(u.nodeName);var v=!0;break e}catch{}v=!1}v||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:O3[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}L(cs,Dn);var O3=N3({2:"touch",3:"pen",4:"mouse"});cs.prototype.preventDefault=function(){cs.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,R3)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},cs.prototype.g=function(){return this.a};var $l="closure_listenable_"+(1e6*Math.random()|0),x3=0;function D3(o,u,f,d,v){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Wa=v,this.key=++x3,this.wa=this.Qa=!1}function sd(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function ad(o){this.src=o,this.a={},this.b=0}ad.prototype.add=function(o,u,f,d,v){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var b=Ym(o,u,d,v);return-1<b?(u=o[b],f||(u.Qa=!1)):(u=new D3(u,this.src,_,!!d,v),u.Qa=f,o.push(u)),u};function Qm(o,u){var f=u.type;f in o.a&&Xh(o.a[f],u)&&(sd(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Ym(o,u,f,d){for(var v=0;v<o.length;++v){var _=o[v];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==d)return v}return-1}var Xm="closure_lm_"+(1e6*Math.random()|0),Jm={};function ur(o,u,f,d,v){if(d&&d.once)Zm(o,u,f,d,v);else if(Array.isArray(u))for(var _=0;_<u.length;_++)ur(o,u[_],f,d,v);else f=ty(f),o&&o[$l]?xS(o,u,f,w(d)?!!d.capture:!!d,v):AS(o,u,f,!1,d,v)}function AS(o,u,f,d,v,_){if(!u)throw Error("Invalid event type");var b=w(v)?!!v.capture:!!v,C=ud(o);if(C||(o[Xm]=C=new ad(o)),f=C.add(u,f,d,b,_),!f.proxy)if(d=L3(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)P3||(v=b),v===void 0&&(v=!1),o.addEventListener(u.toString(),d,v);else if(o.attachEvent)o.attachEvent(RS(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function L3(){var o=M3,u=kS?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Zm(o,u,f,d,v){if(Array.isArray(u))for(var _=0;_<u.length;_++)Zm(o,u[_],f,d,v);else f=ty(f),o&&o[$l]?ny(o,u,f,w(d)?!!d.capture:!!d,v):AS(o,u,f,!0,d,v)}function Hn(o,u,f,d,v){if(Array.isArray(u))for(var _=0;_<u.length;_++)Hn(o,u[_],f,d,v);else d=w(d)?!!d.capture:!!d,f=ty(f),o&&o[$l]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Ym(_,f,d,v),-1<f&&(sd(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=ud(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Ym(u,f,d,v)),(f=-1<o?u[o]:null)&&NS(f))}function NS(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[$l])Qm(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(RS(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=ud(u))?(Qm(f,o),f.b==0&&(f.src=null,u[Xm]=null)):sd(o)}}}function RS(o){return o in Jm?Jm[o]:Jm[o]="on"+o}function PS(o,u,f,d){var v=!0;if((o=ud(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=OS(_,d),v=v&&_!==!1)}return v}function OS(o,u){var f=o.listener,d=o.Wa||o.src;return o.Qa&&NS(o),f.call(d,u)}function M3(o,u){if(o.wa)return!0;if(!kS){if(!u)e:{u=["window","event"];for(var f=c,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new cs(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var v=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{v=!0}(v||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],v=u.b;v;v=v.parentNode)d.push(v);for(o=o.type,v=d.length-1;0<=v;v--){u.b=d[v];var _=PS(d[v],o,!0,u);f=f&&_}for(v=0;v<d.length;v++)u.b=d[v],_=PS(d[v],o,!1,u),f=f&&_}return f}return OS(o,new cs(u,this))}function ud(o){return o=o[Xm],o instanceof ad?o:null}var ey="__closure_events_fn_"+(1e9*Math.random()>>>0);function ty(o){return S(o)?o:(o[ey]||(o[ey]=function(u){return o.handleEvent(u)}),o[ey])}function gn(){od.call(this),this.v=new ad(this),this.bc=this,this.hb=null}L(gn,od),gn.prototype[$l]=!0,gn.prototype.addEventListener=function(o,u,f,d){ur(this,o,u,f,d)},gn.prototype.removeEventListener=function(o,u,f,d){Hn(this,o,u,f,d)},gn.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var d=o.type||o;if(typeof o=="string")o=new Dn(o,f);else if(o instanceof Dn)o.target=o.target||f;else{var v=o;o=new Dn(d,f),On(o,v)}if(v=!0,u)for(var _=u.length-1;0<=_;_--){var b=o.b=u[_];v=ld(b,d,!0,o)&&v}if(b=o.b=f,v=ld(b,d,!0,o)&&v,v=ld(b,d,!1,o)&&v,u)for(_=0;_<u.length;_++)b=o.b=u[_],v=ld(b,d,!1,o)&&v;return v},gn.prototype.Da=function(){if(gn.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)sd(f[d]);delete o.a[u],o.b--}}this.hb=null};function xS(o,u,f,d,v){o.v.add(String(u),f,!1,d,v)}function ny(o,u,f,d,v){o.v.add(String(u),f,!0,d,v)}function ld(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var v=!0,_=0;_<u.length;++_){var b=u[_];if(b&&!b.wa&&b.capture==f){var C=b.listener,U=b.Wa||b.src;b.Qa&&Qm(o.v,b),v=C.call(U,d)!==!1&&v}}return v&&!d.defaultPrevented}function ry(o,u,f){if(S(o))f&&(o=O(o,f));else if(o&&typeof o.handleEvent=="function")o=O(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Ua(o){var u=null;return new Ee(function(f,d){u=ry(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function DS(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(E(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function LS(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(E(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function F3(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(E(o)||typeof o=="string")xe(o,u,void 0);else for(var f=LS(o),d=DS(o),v=d.length,_=0;_<v;_++)u.call(void 0,d[_],f&&f[_],o)}function ja(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof ja)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}e=ja.prototype,e.X=function(){iy(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return iy(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function iy(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];fs(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var v={};for(f=u=0;u<o.a.length;)d=o.a[u],fs(v,d)||(o.a[f++]=d,v[d]=1),u++;o.a.length=f}}e.get=function(o,u){return fs(this.b,o)?this.b[o]:u},e.set=function(o,u){fs(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var v=f[d],_=this.get(v);o.call(u,_,v,this)}};function fs(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var MS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function U3(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),v=null;if(0<=d){var _=o[f].substring(0,d);v=o[f].substring(d+1)}else _=o[f];u(_,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function ro(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof ro?(this.i=u!==void 0?u:o.i,ql(this,o.c),this.l=o.l,this.a=o.a,zl(this,o.g),this.f=o.f,oy(this,VS(o.b)),this.h=o.h):o&&(f=String(o).match(MS))?(this.i=!!u,ql(this,f[1]||"",!0),this.l=Wl(f[2]||""),this.a=Wl(f[3]||"",!0),zl(this,f[4]),this.f=Wl(f[5]||"",!0),oy(this,f[6]||"",!0),this.h=Wl(f[7]||"")):(this.i=!!u,this.b=new hs(null,this.i))}ro.prototype.toString=function(){var o=[],u=this.c;u&&o.push(Hl(u,FS,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(Hl(u,FS,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(Hl(f,f.charAt(0)=="/"?B3:V3,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",Hl(f,q3)),o.join("")},ro.prototype.resolve=function(o){var u=new ro(this),f=!!o.c;f?ql(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)zl(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var v=u.f.lastIndexOf("/");v!=-1&&(d=u.f.substr(0,v+1)+d)}if(v=d,v==".."||v==".")d="";else if(Ve(v,"./")||Ve(v,"/.")){d=v.lastIndexOf("/",0)==0,v=v.split("/");for(var _=[],b=0;b<v.length;){var C=v[b++];C=="."?d&&b==v.length&&_.push(""):C==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),d&&b==v.length&&_.push("")):(_.push(C),d=!0)}d=_.join("/")}else d=v}return f?u.f=d:f=o.b.toString()!=="",f?oy(u,VS(o.b)):f=!!o.h,f&&(u.h=o.h),u};function ql(o,u,f){o.c=f?Wl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function zl(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function oy(o,u,f){u instanceof hs?(o.b=u,z3(o.b,o.i)):(f||(u=Hl(u,$3)),o.b=new hs(u,o.i))}function ct(o,u,f){o.b.set(u,f)}function lr(o,u){return o.b.get(u)}function Ln(o){return o instanceof ro?new ro(o):new ro(o,void 0)}function cd(o,u,f,d){var v=new ro(null,void 0);return o&&ql(v,o),u&&(v.a=u),f&&zl(v,f),d&&(v.f=d),v}function Wl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Hl(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,j3),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function j3(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var FS=/[#\/\?@]/g,V3=/[#\?:]/g,B3=/[#\?]/g,$3=/[#\?@]/g,q3=/#/g;function hs(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function io(o){o.a||(o.a=new ja,o.b=0,o.c&&U3(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function US(o){var u=LS(o);if(typeof u=="undefined")throw Error("Keys are undefined");var f=new hs(null,void 0);o=DS(o);for(var d=0;d<u.length;d++){var v=u[d],_=o[d];Array.isArray(_)?jS(f,v,_):f.add(v,_)}return f}e=hs.prototype,e.add=function(o,u){io(this),this.c=null,o=Va(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Xr(o,u){io(o),u=Va(o,u),fs(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,fs(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&iy(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function sy(o,u){return io(o),u=Va(o,u),fs(o.a.b,u)}e.forEach=function(o,u){io(this),this.a.forEach(function(f,d){xe(f,function(v){o.call(u,v,d,this)},this)},this)},e.Y=function(){io(this);for(var o=this.a.X(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var v=o[d],_=0;_<v.length;_++)f.push(u[d]);return f},e.X=function(o){io(this);var u=[];if(typeof o=="string")sy(this,o)&&(u=Lm(u,this.a.get(Va(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=Lm(u,o[f])}return u},e.set=function(o,u){return io(this),this.c=null,o=Va(this,o),sy(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function jS(o,u,f){Xr(o,u),0<f.length&&(o.c=null,o.a.set(Va(o,u),ss(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],v=encodeURIComponent(String(d));d=this.X(d);for(var _=0;_<d.length;_++){var b=v;d[_]!==""&&(b+="="+encodeURIComponent(String(d[_]))),o.push(b)}}return this.c=o.join("&")};function VS(o){var u=new hs;return u.c=o.c,o.a&&(u.a=new ja(o.a),u.b=o.b),u}function Va(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function z3(o,u){u&&!o.f&&(io(o),o.c=null,o.a.forEach(function(f,d){var v=d.toLowerCase();d!=v&&(Xr(this,d),jS(this,v,f))},o)),o.f=u}function BS(o){var u=[];return ay(new W3,o,u),u.join("")}function W3(){}function ay(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var v="",_=0;_<u;_++)f.push(v),ay(o,d[_],f),v=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),v="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(_=u[d],typeof _!="function"&&(f.push(v),qS(d,f),f.push(":"),ay(o,_,f),v=","));f.push("}");return}}switch(typeof u){case"string":qS(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var $S={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},H3=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function qS(o,u){u.push('"',o.replace(H3,function(f){var d=$S[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),$S[f]=d),d}),'"')}function uy(){var o=Vt();return Nr&&!!no&&no==11||/Edge\/\d+/.test(o)}function Kl(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function zS(o,u){u=u||c.window;var f="about:blank";o&&(f=ed(J1(o)||eS)),u.location.href=f}function WS(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<WS(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function K3(){var o=Vt();return o=Ba(o)!=QS?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Nr||!no||9<no}function HS(o){return o=(o||Vt()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function ds(o){o=o||c.window;try{o.close()}catch{}}function KS(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var v=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<v?v:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=Vt().toLowerCase(),d&&(u.target=d,Ve(f,"crios/")&&(u.target="_blank")),Ba(Vt())==fy&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof xn?f:J1(typeof f.href!="undefined"?f.href:String(f))||eS,f=o.target||f.target,v=[];for(b in o)switch(b){case"width":case"height":case"top":case"left":v.push(b+"="+o[b]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(b+"="+(o[b]?1:0))}var b=v.join(",");if((Et("iPhone")&&!Et("iPod")&&!Et("iPad")||Et("iPad")||Et("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(b=nd(document,"A"),H1(b,"HTMLAnchorElement"),u=u instanceof xn?u:Z1(u),b.href=ed(u),b.setAttribute("target",f),o.noreferrer&&b.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),b.dispatchEvent(o),b={}):o.noreferrer?(b=nS("",d,f,b),o=ed(u),b&&(g3&&Ve(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),b.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jm(o)+'">',o=(d=G1())?d.createHTML(o):o,o=new Ma(o,null,tS),d=b.document)&&(d.write(h3(o)),d.close())):(b=nS(u,d,f,b))&&o.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function G3(o){return new Ee(function(u){function f(){Ua(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var Q3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y3=/^[^@]+@[^@]+$/;function fd(){var o=null;return new Ee(function(u){c.document.readyState=="complete"?u():(o=function(){u()},Zm(window,"load",o))}).o(function(u){throw Hn(window,"load",o),u})}function X3(){return ly(void 0)?fd().then(function(){return new Ee(function(o,u){var f=c.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):Ke(Error("Cordova must run in an Android or iOS file scheme."))}function ly(o){return o=o||Vt(),!(qa()!=="file:"&&qa()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function cy(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function Rr(){return typeof c.WorkerGlobalScope!="undefined"&&typeof c.importScripts=="function"}function Jr(){return ee.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ee.INTERNAL.hasOwnProperty("node")?"Node":Rr()?"Worker":"Browser"}function GS(){var o=Jr();return o==="ReactNative"||o==="Node"}function J3(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var fy="Firefox",QS="Chrome";function Ba(o){var u=o.toLowerCase();if(Ve(u,"opera/")||Ve(u,"opr/")||Ve(u,"opios/"))return"Opera";if(Ve(u,"iemobile"))return"IEMobile";if(Ve(u,"msie")||Ve(u,"trident/"))return"IE";if(Ve(u,"edge/"))return"Edge";if(Ve(u,"firefox/"))return fy;if(Ve(u,"silk/"))return"Silk";if(Ve(u,"blackberry"))return"Blackberry";if(Ve(u,"webos"))return"Webos";if(!Ve(u,"safari/")||Ve(u,"chrome/")||Ve(u,"crios/")||Ve(u,"android"))if(!Ve(u,"chrome/")&&!Ve(u,"crios/")||Ve(u,"edge/")){if(Ve(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return QS;else return"Safari";return"Other"}var YS={md:"FirebaseCore-web",od:"FirebaseUI-web"};function $a(o,u){u=u||[];var f=[],d={},v;for(v in YS)d[YS[v]]=!0;for(v=0;v<u.length;v++)typeof d[u[v]]!="undefined"&&(delete d[u[v]],f.push(u[v]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Jr(),f==="Browser"?(d=Vt(),f=Ba(d)):f==="Worker"&&(d=Vt(),f=Ba(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function Vt(){return c.navigator&&c.navigator.userAgent||""}function Ge(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function hy(){try{var o=c.localStorage,u=vs();if(o)return o.setItem(u,"1"),o.removeItem(u),uy()?!!c.indexedDB:!0}catch{return Rr()&&!!c.indexedDB}return!1}function ps(){return(hd()||qa()==="chrome-extension:"||ly())&&!GS()&&hy()&&!Rr()}function hd(){return qa()==="http:"||qa()==="https:"}function qa(){return c.location&&c.location.protocol||null}function Gl(o){return o=o||Vt(),!(HS(o)||Ba(o)==fy)}function Ql(o){return typeof o=="undefined"?null:BS(o)}function XS(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function za(o){if(o!==null)return JSON.parse(o)}function vs(o){return o||Math.floor(1e9*Math.random()).toString()}function JS(o){return o=o||Vt(),!(Ba(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function ZS(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function oo(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=Vt(),u=Jr(),this.b=HS(o)||u==="ReactNative"}oo.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(hd()||qa()==="chrome-extension:"||typeof o.connection!="undefined"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function dy(){var o=c.document;return o&&typeof o.visibilityState!="undefined"?o.visibilityState=="visible":!0}function Z3(){var o=c.document,u=null;return dy()||!o?ne():new Ee(function(f){u=function(){dy()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function Yl(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function eC(){return!(!Ge("fireauth.oauthhelper",c)&&!Ge("fireauth.iframe",c))}function ej(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function tj(){var o=c.navigator;return o&&o.serviceWorker?ne().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ne(null)}var tC={};function py(o){tC[o]||(tC[o]=!0,typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(o))}var vy;try{var gy={};Object.defineProperty(gy,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(gy,"abcd",{configurable:!0,enumerable:!0,value:2}),vy=gy.abcd==2}catch{vy=!1}function J(o,u,f){vy?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function mn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&J(o,f,u[f])}function Zr(o){var u={};return mn(u,o),u}function nj(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function rj(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function my(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)J(u,f,my(o[f]))}return u}function yy(o){var u=o&&(o[Ty]?"phone":null);if(u&&o&&o[Ey]){J(this,"uid",o[Ey]),J(this,"displayName",o[nC]||null);var f=null;o[wy]&&(f=new Date(o[wy]).toUTCString()),J(this,"enrollmentTime",f),J(this,"factorId",u)}else throw new A("internal-error","Internal assert: invalid MultiFactorInfo object")}yy.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function _y(o){try{var u=new Xl(o)}catch{u=null}return u}var nC="displayName",wy="enrolledAt",Ey="mfaEnrollmentId",Ty="phoneInfo";function Xl(o){yy.call(this,o),J(this,"phoneNumber",o[Ty])}L(Xl,yy),Xl.prototype.w=function(){var o=Xl.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function ij(o){var u={},f=o[oj],d=o[aj],v=o[uj];if(o=_y(o[sj]),!v||v!=dd&&v!=Jl&&!f||v==Jl&&!d||v==by&&!o)throw Error("Invalid checkActionCode response!");v==Jl?(u[iC]=f||null,u[oC]=f||null,u[rC]=d):(u[iC]=d||null,u[oC]=d||null,u[rC]=f||null),u[lj]=o||null,J(this,fj,v),J(this,cj,my(u))}var by="REVERT_SECOND_FACTOR_ADDITION",dd="EMAIL_SIGNIN",Jl="VERIFY_AND_CHANGE_EMAIL",oj="email",sj="mfaInfo",aj="newEmail",uj="requestType",rC="email",iC="fromEmail",lj="multiFactorInfo",oC="previousEmail",cj="data",fj="operation";function Iy(o){o=Ln(o);var u=lr(o,sC)||null,f=lr(o,aC)||null,d=lr(o,uC)||null;if(d=d&&vj[d]||null,!u||!f||!d)throw new A("argument-error",sC+", "+aC+"and "+uC+" are required in a valid action code URL.");mn(this,{apiKey:u,operation:d,code:f,continueUrl:lr(o,hj)||null,languageCode:lr(o,dj)||null,tenantId:lr(o,pj)||null})}var sC="apiKey",aC="oobCode",hj="continueUrl",dj="languageCode",uC="mode",pj="tenantId",vj={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:by,signIn:dd,verifyAndChangeEmail:Jl,verifyEmail:"VERIFY_EMAIL"};function lC(o){try{return new Iy(o)}catch{return null}}function pd(o){var u=o[gj];if(typeof u=="undefined")throw new A("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new A("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[cC];if(f&&typeof f=="object"){u=f[vC];var d=f[dC];if(f=f[pC],typeof u=="string"&&u.length){if(this.a=u,typeof d!="undefined"&&typeof d!="boolean")throw new A("argument-error",dC+" property must be a boolean when specified.");if(this.g=!!d,typeof f!="undefined"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new A("argument-error",pC+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u!="undefined")throw new A("argument-error",vC+" property must be a non empty string when specified.");if(typeof d!="undefined"||typeof f!="undefined")throw new A("missing-android-pkg-name")}}else if(typeof f!="undefined")throw new A("argument-error",cC+" property must be a non null object when specified.");if(this.f=null,(u=o[hC])&&typeof u=="object"){if(u=u[gC],typeof u=="string"&&u.length)this.f=u;else if(typeof u!="undefined")throw new A("argument-error",gC+" property must be a non empty string when specified.")}else if(typeof u!="undefined")throw new A("argument-error",hC+" property must be a non null object when specified.");if(u=o[Sy],typeof u!="undefined"&&typeof u!="boolean")throw new A("argument-error",Sy+" property must be a boolean when specified.");if(this.c=!!u,o=o[fC],typeof o!="undefined"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new A("argument-error",fC+" property must be a non empty string when specified.");this.i=o||null}var cC="android",fC="dynamicLinkDomain",Sy="handleCodeInApp",hC="iOS",gj="url",dC="installApp",pC="minimumVersion",vC="packageName",gC="bundleId";function vd(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function mj(o){return Yh(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Zl=null;function yj(o){var u=[];return _j(o,function(f){u.push(f)}),u}function _j(o,u){function f(U){for(;d<o.length;){var j=o.charAt(d++),ue=Zl[j];if(ue!=null)return ue;if(!/^[\s\xa0]*$/.test(j))throw Error("Unknown base64 encoding at char: "+j)}return U}wj();for(var d=0;;){var v=f(-1),_=f(0),b=f(64),C=f(64);if(C===64&&v===-1)break;u(v<<2|_>>4),b!=64&&(u(_<<4&240|b>>2),C!=64&&u(b<<6&192|C))}}function wj(){if(!Zl){Zl={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),v=0;v<d.length;v++){var _=d[v];Zl[_]===void 0&&(Zl[_]=v)}}}function gd(o){var u=mC(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}gd.prototype.T=function(){return this.f},gd.prototype.l=function(){return this.c},gd.prototype.toString=function(){return this.h};function md(o){try{return new gd(o)}catch{return null}}function mC(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=yj(o);for(o=[],f=u=0;u<d.length;){var v=d[u++];if(128>v)o[f++]=String.fromCharCode(v);else if(191<v&&224>v){var _=d[u++];o[f++]=String.fromCharCode((v&31)<<6|_&63)}else if(239<v&&365>v){_=d[u++];var b=d[u++],C=d[u++],U=((v&7)<<18|(_&63)<<12|(b&63)<<6|C&63)-65536;o[f++]=String.fromCharCode(55296+(U>>10)),o[f++]=String.fromCharCode(56320+(U&1023))}else _=d[u++],b=d[u++],o[f++]=String.fromCharCode((v&15)<<12|(_&63)<<6|b&63)}return JSON.parse(o.join(""))}catch{}return null}var yC="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),yd=["client_id","response_type","scope","redirect_uri","state"],Cy={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:yd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:yd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:yd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:yC},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function ky(o){for(var u in Cy)if(Cy[u].fa==o)return Cy[u];return null}function _C(o){var u={};u["facebook.com"]=EC,u["google.com"]=bC,u["github.com"]=TC,u["twitter.com"]=IC;var f=o&&o[wC];try{if(f)return u[f]?new u[f](o):new ei(o);if(typeof o[Ay]!="undefined")return new Ny(o)}catch{}return null}var Ay="idToken",wC="providerId";function Ny(o){var u=o[wC];if(!u&&o[Ay]){var f=md(o[Ay]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser!="undefined"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),J(this,"providerId",u),J(this,"isNewUser",f)}function ei(o){Ny.call(this,o),o=za(o.rawUserInfo||"{}"),J(this,"profile",my(o||{}))}L(ei,Ny);function EC(o){if(ei.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}L(EC,ei);function TC(o){if(ei.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");J(this,"username",this.profile&&this.profile.login||null)}L(TC,ei);function bC(o){if(ei.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}L(bC,ei);function IC(o){if(ei.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");J(this,"username",o.screenName||null)}L(IC,ei);function SC(o){var u=Ln(o),f=lr(u,"link"),d=lr(Ln(f),"link");return u=lr(u,"deep_link_id"),lr(Ln(u),"link")||u||d||f||o}function _d(o,u){if(!o&&!u)throw new A("internal-error","Internal assert: no raw session string available");if(o&&u)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?ec:wd}var ec="enroll",wd="signin";_d.prototype.Ha=function(){return this.a?ne(this.a):ne(this.b)},_d.prototype.w=function(){return this.type==ec?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Wa(){}Wa.prototype.ka=function(){},Wa.prototype.b=function(){},Wa.prototype.c=function(){},Wa.prototype.w=function(){};function Ha(o,u){return o.then(function(f){if(f[xr]){var d=md(f[xr]);if(!d||u!=d.i)throw new A("user-mismatch");return f}throw new A("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==pe+"user-not-found"?new A("user-mismatch"):f})}function gs(o,u){if(u)this.a=u;else throw new A("internal-error","failed to construct a credential");J(this,"providerId",o),J(this,"signInMethod",o)}gs.prototype.ka=function(o){return Zy(o,Ry(this))},gs.prototype.b=function(o,u){var f=Ry(this);return f.idToken=u,e0(o,f)},gs.prototype.c=function(o,u){return Ha(t0(o,Ry(this)),u)};function Ry(o){return{pendingToken:o.a,requestUri:"http://localhost"}}gs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Ej(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new gs(o.providerId,o.pendingToken)}catch{}return null}function Ci(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&J(this,"idToken",u.idToken),u.accessToken&&J(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&J(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)J(this,"accessToken",u.oauthToken),J(this,"secret",u.oauthTokenSecret);else throw new A("internal-error","failed to construct a credential");J(this,"providerId",o),J(this,"signInMethod",f)}Ci.prototype.ka=function(o){return Zy(o,Py(this))},Ci.prototype.b=function(o,u){var f=Py(this);return f.idToken=u,e0(o,f)},Ci.prototype.c=function(o,u){var f=Py(this);return Ha(t0(o,f),u)};function Py(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:US(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Ci.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function Tj(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Ci(o.providerId,u,o.signInMethod)}catch{}}return null}function ms(o,u){this.Qc=u||[],mn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(ky(o)||{}).Ja||null,this.pb=null}ms.prototype.Ka=function(o){return this.Jb=to(o),this};function CC(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');ms.call(this,o,[])}L(CC,ms);function Kn(o){ms.call(this,o,yd),this.a=[]}L(Kn,ms),Kn.prototype.Ca=function(o){return Ii(this.a,o)||this.a.push(o),this},Kn.prototype.Rb=function(){return ss(this.a)},Kn.prototype.credential=function(o,u){var f;if(w(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ci(this.providerId,f,this.providerId)};function ys(){Kn.call(this,"facebook.com")}L(ys,Kn),J(ys,"PROVIDER_ID","facebook.com"),J(ys,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function kC(o){if(!o)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return w(o)&&(u=o.accessToken),new ys().credential({accessToken:u})}function _s(){Kn.call(this,"github.com")}L(_s,Kn),J(_s,"PROVIDER_ID","github.com"),J(_s,"GITHUB_SIGN_IN_METHOD","github.com");function AC(o){if(!o)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return w(o)&&(u=o.accessToken),new _s().credential({accessToken:u})}function ws(){Kn.call(this,"google.com"),this.Ca("profile")}L(ws,Kn),J(ws,"PROVIDER_ID","google.com"),J(ws,"GOOGLE_SIGN_IN_METHOD","google.com");function NC(o,u){var f=o;return w(o)&&(f=o.idToken,u=o.accessToken),new ws().credential({idToken:f,accessToken:u})}function Ka(){ms.call(this,"twitter.com",yC)}L(Ka,ms),J(Ka,"PROVIDER_ID","twitter.com"),J(Ka,"TWITTER_SIGN_IN_METHOD","twitter.com");function RC(o,u){var f=o;if(w(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ci("twitter.com",f,"twitter.com")}function so(o,u,f){this.a=o,this.f=u,J(this,"providerId","password"),J(this,"signInMethod",f===cr.EMAIL_LINK_SIGN_IN_METHOD?cr.EMAIL_LINK_SIGN_IN_METHOD:cr.EMAIL_PASSWORD_SIGN_IN_METHOD)}so.prototype.ka=function(o){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?Te(o,sV,{email:this.a,oobCode:this.f}):Te(o,ik,{email:this.a,password:this.f})},so.prototype.b=function(o,u){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?Te(o,aV,{idToken:u,email:this.a,oobCode:this.f}):Te(o,rk,{idToken:u,email:this.a,password:this.f})},so.prototype.c=function(o,u){return Ha(this.ka(o),u)},so.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function bj(o){return o&&o.email&&o.password?new so(o.email,o.password,o.signInMethod):null}function cr(){mn(this,{providerId:"password",isOAuthProvider:!1})}function PC(o,u){if(u=Oy(u),!u)throw new A("argument-error","Invalid email link!");return new so(o,u.code,cr.EMAIL_LINK_SIGN_IN_METHOD)}function Oy(o){return o=SC(o),(o=lC(o))&&o.operation===dd?o:null}mn(cr,{PROVIDER_ID:"password"}),mn(cr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),mn(cr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ao(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new A("internal-error");this.a=o,J(this,"providerId","phone"),this.fa="phone",J(this,"signInMethod","phone")}ao.prototype.ka=function(o){return o.gb(tc(this))},ao.prototype.b=function(o,u){var f=tc(this);return f.idToken=u,Te(o,kV,f)},ao.prototype.c=function(o,u){var f=tc(this);return f.operation="REAUTH",o=Te(o,AV,f),Ha(o,u)},ao.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function Ij(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return xe(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new ao(u)}return null}function tc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function ki(o){try{this.a=o||ee.auth()}catch{throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}mn(this,{providerId:"phone",isOAuthProvider:!1})}ki.prototype.gb=function(o,u){var f=this.a.a;return ne(u.verify()).then(function(d){if(typeof d!="string")throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var v=w(o)?o.session:null,_=w(o)?o.phoneNumber:o,b;return v&&v.type==ec?b=v.Ha().then(function(C){return Xj(f,{idToken:C,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:d}})}):v&&v.type==wd?b=v.Ha().then(function(C){return Jj(f,{mfaPendingCredential:C,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):b=Yj(f,{phoneNumber:_,recaptchaToken:d}),b.then(function(C){return typeof u.reset=="function"&&u.reset(),C},function(C){throw typeof u.reset=="function"&&u.reset(),C});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function OC(o,u){if(!o)throw new A("missing-verification-id");if(!u)throw new A("missing-verification-code");return new ao({fb:o,eb:u})}mn(ki,{PROVIDER_ID:"phone"}),mn(ki,{PHONE_SIGN_IN_METHOD:"phone"});function xy(o){if(o.temporaryProof&&o.phoneNumber)return new ao({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,v=o&&o.nonce,_=o&&o.oauthIdToken,b=o&&o.pendingToken;try{switch(u){case"google.com":return NC(_,f);case"facebook.com":return kC(f);case"github.com":return AC(f);case"twitter.com":return RC(f,d);default:return f||d||_||b?b?u.indexOf("saml.")==0?new gs(u,b):new Ci(u,{pendingToken:b,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Kn(u).credential({idToken:_,accessToken:f,rawNonce:v}):null}}catch{return null}}function Dy(o){if(!o.isOAuthProvider)throw new A("invalid-oauth-provider")}function Pr(o,u,f,d,v,_,b){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=_||null,this.h=b||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}else throw new A("invalid-auth-event")}Pr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Pr.prototype.T=function(){return this.h},Pr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function xC(o){return o=o||{},o.type?new Pr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&ge(o.error),o.postBody,o.tenantId):null}function Sj(){this.b=null,this.a=[]}var Ly=null;function Cj(o){var u=Ly;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=Ge("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function My(o){var u="unauthorized-domain",f=void 0,d=Ln(o);o=d.a,d=d.c,d=="chrome-extension"?f=rS("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=rS("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",A.call(this,u,f)}L(My,A);function nc(o,u,f){A.call(this,o,f),o=u||{},o.Kb&&J(this,"email",o.Kb),o.ea&&J(this,"phoneNumber",o.ea),o.credential&&J(this,"credential",o.credential),o.$b&&J(this,"tenantId",o.$b)}L(nc,A),nc.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&On(o,u),o},nc.prototype.toJSON=function(){return this.w()};function Ed(o){if(o.code){var u=o.code||"";u.indexOf(pe)==0&&(u=u.substring(pe.length));var f={credential:xy(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new A(u,o.message||void 0);return new nc(u,f,o.message)}return null}function rc(){}rc.prototype.c=null;function DC(o){return o.c||(o.c=o.b())}var Fy;function Td(){}L(Td,rc),Td.prototype.a=function(){var o=LC(this);return o?new ActiveXObject(o):new XMLHttpRequest},Td.prototype.b=function(){var o={};return LC(this)&&(o[0]=!0,o[1]=!0),o};function LC(o){if(!o.f&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Fy=new Td;function bd(){}L(bd,rc),bd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest!="undefined")return new MC;throw Error("Unsupported browser")},bd.prototype.b=function(){return{}};function MC(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=MC.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Uy(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Uy(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Uy(this,1)};function Uy(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function jy(o,u,f){this.reset(o,u,f,void 0,void 0)}jy.prototype.a=null,jy.prototype.reset=function(o,u,f,d,v){delete this.a};function Vy(o){this.f=o,this.b=this.c=this.a=null}function ic(o,u){this.name=o,this.value=u}ic.prototype.toString=function(){return this.name};var FC=new ic("SEVERE",1e3),By=new ic("WARNING",900),kj=new ic("CONFIG",700),Aj=new ic("FINE",500);function UC(o){return o.c?o.c:o.a?UC(o.a):(ar("Root logger has no level set."),null)}Vy.prototype.log=function(o,u,f){if(o.value>=UC(this).value)for(S(u)&&(u=u()),o=new jy(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var $y={},Id=null;function qy(o){Id||(Id=new Vy(""),$y[""]=Id,Id.c=kj);var u;if(!(u=$y[o])){u=new Vy(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=qy(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,$y[o]=u}return u}function fr(o,u){o&&o.log(Aj,u,void 0)}function Sd(o){this.f=o}L(Sd,rc),Sd.prototype.a=function(){return new Cd(this.f)},Sd.prototype.b=function(o){return function(){return o}}({});function Cd(o){gn.call(this),this.u=o,this.h=void 0,this.readyState=zy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=qy("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}L(Cd,gn);var zy=0;e=Cd.prototype,e.open=function(o,u){if(this.readyState!=zy)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,sc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,oc(this)),this.readyState=zy},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,sc(this)),this.a&&(this.readyState=3,sc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream!="undefined"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,jC(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function jC(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?oc(this):sc(this),this.readyState==3&&jC(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,oc(this))},e.sc=function(o){this.a&&(this.response=o,oc(this))},e.Va=function(o){var u=this.i;u&&u.log(By,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&oc(this)};function oc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,sc(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(By,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(By,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function sc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Cd.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function ac(o){gn.call(this),this.headers=new ja,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=VC,this.u=this.S=!1}L(ac,gn);var VC="";ac.prototype.b=qy("goog.net.XhrIo");var Nj=/^https?$/i,Rj=["POST","PUT"];function Pj(o,u,f,d,v){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Fy.a(),o.C=o.D?DC(o.D):DC(Fy),o.a.onreadystatechange=O(o.Wb,o);try{fr(o.b,Ai(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(b){fr(o.b,Ai(o,"Error opening Xhr: "+b.message)),BC(o,b);return}u=d||"";var _=new ja(o.headers);v&&F3(v,function(b,C){_.set(C,b)}),v=Z4(_.Y()),d=c.FormData&&u instanceof c.FormData,!Ii(Rj,f)||v||d||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(b,C){this.a.setRequestHeader(C,b)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{zC(o),0<o.g&&(o.u=Oj(o.a),fr(o.b,Ai(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=O(o.Ma,o)):o.s=ry(o.Ma,o.g,o)),fr(o.b,Ai(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(b){fr(o.b,Ai(o,"Send error: "+b.message)),BC(o,b)}}function Oj(o){return Nr&&aS(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function xj(o){return o.toLowerCase()=="content-type"}e=ac.prototype,e.Ma=function(){typeof l!="undefined"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fr(this.b,Ai(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function BC(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,$C(o),kd(o)}function $C(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(fr(this.b,Ai(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),kd(this,!0)),ac.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?qC(this):this.Jc())},e.Jc=function(){qC(this)};function qC(o){if(o.c&&typeof l!="undefined"){if(o.C[1]&&uc(o)==4&&Ad(o)==2)fr(o.b,Ai(o,"Local request error detected and ignored"));else if(o.i&&uc(o)==4)ry(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),uc(o)==4){fr(o.b,Ai(o,"Request complete")),o.c=!1;try{var u=Ad(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var v;if(v=u===0){var _=String(o.l).match(MS)[1]||null;if(!_&&c.self&&c.self.location){var b=c.self.location.protocol;_=b.substr(0,b.length-1)}v=!Nj.test(_?_.toLowerCase():"")}d=v}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var C=2<uc(o)?o.a.statusText:""}catch(U){fr(o.b,"Can not get status: "+U.message),C=""}o.h=C+" ["+Ad(o)+"]",$C(o)}}finally{kd(o)}}}}function kd(o,u){if(o.a){zC(o);var f=o.a,d=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(v){(o=o.b)&&o.log(FC,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function zC(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function uc(o){return o.a?o.a.readyState:0}function Ad(o){try{return 2<uc(o)?o.a.status:-1}catch{return-1}}function Dj(o){try{return o.a?o.a.responseText:""}catch(u){return fr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case VC:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(FC,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return fr(this.b,"Can not get response: "+u.message),null}};function Ai(o,u){return u+" ["+o.P+" "+o.l+" "+Ad(o)+"]"}function Es(o){var u=Fj;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Es.prototype.cancel=function(o){if(this.a)this.c instanceof Es&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new cc(this),Nd(this),lc(this,!1,o))}},Es.prototype.m=function(o,u){this.i=!1,lc(this,o,u)};function lc(o,u,f){o.a=!0,o.c=f,o.f=!u,HC(o)}function Nd(o){if(o.a){if(!o.v)throw new Rd(o);o.v=!1}}function Lj(o,u){Wy(o,null,u,void 0)}function Wy(o,u,f,d){o.g.push([u,f,d]),o.a&&HC(o)}Es.prototype.then=function(o,u,f){var d,v,_=new Ee(function(b,C){d=b,v=C});return Wy(this,d,function(b){b instanceof cc?_.cancel():v(b)}),_.then(o,u,f)},Es.prototype.$goog_Thenable=!0;function WC(o){return J4(o.g,function(u){return S(u[1])})}function HC(o){if(o.h&&o.a&&WC(o)){var u=o.h,f=Pd[u];f&&(c.clearTimeout(f.a),delete Pd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var v=o.g.shift(),_=v[0],b=v[1];if(v=v[2],_=o.f?b:_)try{var C=_.call(v||o.s,u);C!==void 0&&(o.f=o.f&&(C==u||C instanceof Error),o.c=u=C),(Rn(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(d=!0,o.i=!0)}catch(U){u=U,o.f=!0,WC(o)||(f=!0)}}o.c=u,d&&(C=O(o.m,o,!0),d=O(o.m,o,!1),u instanceof Es?(Wy(u,C,d),u.C=!0):u.then(C,d)),f&&(u=new KC(u),Pd[u.a]=u,o.h=u.a)}function Rd(){et.call(this)}L(Rd,et),Rd.prototype.message="Deferred has already fired",Rd.prototype.name="AlreadyCalledError";function cc(){et.call(this)}L(cc,et),cc.prototype.message="Deferred was canceled",cc.prototype.name="CanceledError";function KC(o){this.a=c.setTimeout(O(this.c,this),0),this.b=o}KC.prototype.c=function(){throw delete Pd[this.a],this.b};var Pd={};function Hy(o){var u={},f=u.document||document,d=Q1(o).toString(),v=nd(document,"SCRIPT"),_={Xb:v,Ma:void 0},b=new Es(_),C=null,U=u.timeout!=null?u.timeout:5e3;return 0<U&&(C=window.setTimeout(function(){Od(v,!0);var j=new Ky(jj,"Timeout reached for loading script "+d);Nd(b),lc(b,!1,j)},U),_.Ma=C),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(Od(v,u.xd||!1,C),Nd(b),lc(b,!0,null))},v.onerror=function(){Od(v,!0,C);var j=new Ky(Uj,"Error while loading script "+d);Nd(b),lc(b,!1,j)},_=u.attributes||{},On(_,{type:"text/javascript",charset:"UTF-8"}),lS(v,_),d3(v,o),Mj(f).appendChild(v),b}function Mj(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function Fj(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Od(o,!0,this.Ma)}}function Od(o,u,f){f!=null&&c.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var Uj=0,jj=1;function Ky(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),et.call(this,f),this.code=o}L(Ky,et);function xd(o){this.f=o}L(xd,rc),xd.prototype.a=function(){return new this.f},xd.prototype.b=function(){return{}};function Or(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||Vj,this.g=to(o.secureTokenHeaders||Bj),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||$j,this.a=to(o.firebaseHeaders||qj),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Jr()=="Node",f=c.XMLHttpRequest||f&&ee.INTERNAL.node&&ee.INTERNAL.node.XMLHttpRequest,!f&&!Rr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Rr()?this.f=new Sd(self):GS()?this.f=new xd(f):this.f=new bd,this.b=null}var Gy,xr="idToken",Vj=new oo(3e4,6e4),Bj={"Content-Type":"application/x-www-form-urlencoded"},$j=new oo(3e4,6e4),qj={"Content-Type":"application/json"};function GC(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function Dd(o,u){u&&(o.l=Qy("https://securetoken.googleapis.com/v1/token",u),o.h=Qy("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Qy("https://identitytoolkit.googleapis.com/v2/",u))}function Qy(o,u){return o=Ln(o),u=Ln(u.url),o.f=o.a+o.f,ql(o,u.c),o.a=u.a,zl(o,u.g),o.toString()}function QC(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Or.prototype.T=function(){return this.b};function YC(o,u,f,d,v,_,b){K3()||Rr()?o=O(o.u,o):(Gy||(Gy=new Ee(function(C,U){Wj(C,U)})),o=O(o.s,o)),o(u,f,d,v,_,b)}Or.prototype.u=function(o,u,f,d,v,_){if(Rr()&&(typeof c.fetch=="undefined"||typeof c.Headers=="undefined"||typeof c.Request=="undefined"))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new ac(this.f);if(_){b.g=Math.max(0,_);var C=setTimeout(function(){b.dispatchEvent("timeout")},_)}xS(b,"complete",function(){C&&clearTimeout(C);var U=null;try{U=JSON.parse(Dj(this))||null}catch{U=null}u&&u(U)}),ny(b,"ready",function(){C&&clearTimeout(C),CS(this)}),ny(b,"timeout",function(){C&&clearTimeout(C),CS(this),u&&u(null)}),Pj(b,o,f,d,v)};var zj=new Yr(Jh,"https://apis.google.com/js/client.js?onload=%{onload}"),XC="__fcb"+Math.floor(1e6*Math.random()).toString();function Wj(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[XC]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Um(zj,{onload:XC});Lj(Hy(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Or.prototype.s=function(o,u,f,d,v){var _=this;Gy.then(function(){window.gapi.client.setApiKey(_.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:v,authType:"none",callback:function(C){window.gapi.auth.setToken(b),u&&u(C)}})}).o(function(b){u&&u({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function Hj(o,u){return new Ee(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?YC(o,o.l+"?key="+encodeURIComponent(o.c),function(v){v?v.error?d(r0(v)):v.access_token&&v.refresh_token?f(v):d(new A("internal-error")):d(new A("network-request-failed"))},"POST",US(u).toString(),o.g,o.m.get()):d(new A("internal-error"))})}function JC(o,u,f,d,v,_,b){var C=Ln(u+f);ct(C,"key",o.c),b&&ct(C,"cb",Date.now().toString());var U=d=="GET";if(U)for(var j in v)v.hasOwnProperty(j)&&ct(C,j,v[j]);return new Ee(function(ue,De){YC(o,C.toString(),function(Ae){Ae?Ae.error?De(r0(Ae,_||{})):ue(Ae):De(new A("network-request-failed"))},d,U?void 0:BS(XS(v)),o.a,o.v.get())})}function Ts(o){if(o=o.email,typeof o!="string"||!Y3.test(o))throw new A("invalid-email")}function ZC(o){"email"in o&&Ts(o)}function Kj(o,u){return Te(o,rV,{identifier:u,continueUri:hd()?Kl():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function Gj(o){return Te(o,vV,{}).then(function(u){return u.authorizedDomains||[]})}function Mn(o){if(!o[xr])throw o.mfaPendingCredential?new A("multi-factor-auth-required",null,to(o)):new A("internal-error")}function Yy(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new A("internal-error")}else{if(!o.sessionInfo)throw new A("missing-verification-id");if(!o.code)throw new A("missing-verification-code")}}Or.prototype.Ab=function(){return Te(this,_V,{})},Or.prototype.Cb=function(o,u){return Te(this,nk,{idToken:o,email:u})},Or.prototype.Db=function(o,u){return Te(this,rk,{idToken:o,password:u})};var Qj={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Or.prototype,e.Eb=function(o,u){var f={idToken:o},d=[];return z1(Qj,function(v,_){var b=u[_];b===null?d.push(v):_ in u&&(f[_]=b)}),d.length&&(f.deleteAttribute=d),Te(this,nk,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},On(o,u),Te(this,pV,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},On(o,u),Te(this,fV,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},On(o,u),Te(this,hV,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},On(o,f),Te(this,dV,o)};function Yj(o,u){return Te(o,yV,u)}e.gb=function(o){return Te(this,CV,o)};function Xj(o,u){return Te(o,wV,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function ek(o){if(!o.phoneVerificationInfo)throw new A("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new A("missing-verification-code")}function Jj(o,u){return Te(o,EV,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function Zj(o,u,f){return Te(o,oV,{idToken:u,deleteProvider:f})}function Xy(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new A("internal-error")}function Jy(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new hs(o.postBody),sy(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function tk(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Ed(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Ed(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Ed(o)):o.errorMessage&&(u=ok(o.errorMessage)),u)throw u;Mn(o)}function Zy(o,u){return u.returnIdpCredential=!0,Te(o,TV,u)}function e0(o,u){return u.returnIdpCredential=!0,Te(o,IV,u)}function t0(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Te(o,bV,u)}function n0(o){if(!o.oobCode)throw new A("invalid-action-code")}e.ob=function(o,u){return Te(this,mV,{oobCode:o,newPassword:u})},e.Sa=function(o){return Te(this,tV,{oobCode:o})},e.kb=function(o){return Te(this,eV,{oobCode:o})};var eV={endpoint:"setAccountInfo",A:n0,Z:"email",B:!0},tV={endpoint:"resetPassword",A:n0,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},B:!0},nV={endpoint:"signupNewUser",A:function(o){if(Ts(o),!o.password)throw new A("weak-password")},G:Mn,V:!0,B:!0},rV={endpoint:"createAuthUri",B:!0},iV={endpoint:"deleteAccount",O:["idToken"]},oV={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new A("internal-error")}},sV={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Ts,G:Mn,V:!0,B:!0},aV={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Ts,G:Mn,V:!0},uV={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ek,G:Mn,B:!0,Na:!0},lV={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ek,G:Mn,B:!0,Na:!0},cV={endpoint:"getAccountInfo"},fV={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new A("internal-error");Ts(o)},Z:"email",B:!0},hV={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new A("internal-error")},Z:"email",B:!0},dV={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},Z:"email",B:!0},pV={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new A("internal-error");Ts(o)},Z:"email",B:!0},vV={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},gV={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new A("internal-error")}},mV={endpoint:"resetPassword",A:n0,Z:"email",B:!0},yV={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},nk={endpoint:"setAccountInfo",O:["idToken"],A:ZC,V:!0},rk={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(ZC(o),!o.password)throw new A("weak-password")},G:Mn,V:!0},_V={endpoint:"signupNewUser",G:Mn,V:!0,B:!0},wV={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new A("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},EV={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},TV={endpoint:"verifyAssertion",A:Xy,Za:Jy,G:tk,V:!0,B:!0},bV={endpoint:"verifyAssertion",A:Xy,Za:Jy,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new A("user-not-found");if(o.errorMessage)throw ok(o.errorMessage);Mn(o)},V:!0,B:!0},IV={endpoint:"verifyAssertion",A:function(o){if(Xy(o),!o.idToken)throw new A("internal-error")},Za:Jy,G:tk,V:!0},SV={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new A("invalid-custom-token")},G:Mn,V:!0,B:!0},ik={endpoint:"verifyPassword",A:function(o){if(Ts(o),!o.password)throw new A("wrong-password")},G:Mn,V:!0,B:!0},CV={endpoint:"verifyPhoneNumber",A:Yy,G:Mn,B:!0},kV={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new A("internal-error");Yy(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Ed(o);Mn(o)}},AV={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Yy,G:Mn,B:!0},NV={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[xr]^!!o.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function Te(o,u,f){if(!rj(f,u.O))return Ke(new A("internal-error"));var d=!!u.Na,v=u.Vb||"POST",_;return ne(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId=="undefined"&&(f.tenantId=o.b),d?JC(o,o.i,u.endpoint,v,f,u.Ib,u.mb||!1):JC(o,o.h,u.endpoint,v,f,u.Ib,u.mb||!1)}).then(function(b){return _=b,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new A("internal-error");return _[u.Z]})}function ok(o){return r0({error:{errors:[{message:o}],code:400,message:o}})}function r0(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new A(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},On(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var v in d)if(f.indexOf(v)===0)return new A(d[v],u);return!u&&o&&(u=Ql(o)),new A("internal-error",u)}function RV(o){this.b=o,this.a=null,this.sb=PV(this)}function PV(o){return FV().then(function(){return new Ee(function(u,f){Ge("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Ge("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function v(){clearTimeout(_),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},MV.get());d.ping(v).then(v,function(){f(Error("Network Error"))})})})})}function OV(o,u){return o.sb.then(function(){return new Ee(function(f){o.a.send(u.type,u,f,Ge("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function xV(o,u){o.sb.then(function(){o.a.register("authEvent",u,Ge("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var DV=new Yr(Jh,"https://apis.google.com/js/api.js?onload=%{onload}"),LV=new oo(3e4,6e4),MV=new oo(5e3,15e3),Ld=null;function FV(){return Ld||(Ld=new Ee(function(o,u){function f(){ZS(),Ge("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){ZS(),u(Error("Network Error"))},timeout:LV.get()})}if(Ge("gapi.iframes.Iframe"))o();else if(Ge("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[d]=function(){Ge("gapi.load")?f():u(Error("Network Error"))},d=Um(DV,{onload:d}),ne(Hy(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Ld=null,o}))}function sk(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=Ln(this.g.url),o=cd(o.c,o.a,o.g,"/emulator/auth/iframe")):o=cd("https",this.l,null,"/__/auth/iframe"),this.a=o,ct(this.a,"apiKey",this.h),ct(this.a,"appName",this.i),this.b=null,this.c=[]}sk.prototype.toString=function(){return this.f?ct(this.a,"v",this.f):Xr(this.a.b,"v"),this.b?ct(this.a,"eid",this.b):Xr(this.a.b,"eid"),this.c.length?ct(this.a,"fw",this.c.join(",")):Xr(this.a.b,"fw"),this.a.toString()};function i0(o,u,f,d,v,_){this.u=o,this.s=u,this.c=f,this.m=d,this.v=_,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}i0.prototype.zb=function(o){return this.h=o,this},i0.prototype.toString=function(){if(this.v){var o=Ln(this.v.url);o=cd(o.c,o.a,o.g,"/emulator/auth/handler")}else o=cd("https",this.u,null,"/__/auth/handler");if(ct(o,"apiKey",this.s),ct(o,"appName",this.c),ct(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=ee.app(this.c).auth().la()}catch{f=null}u.pb=f,ct(o,"providerId",this.a.providerId),f=this.a,u=XS(f.Jb);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=to(u);for(var v=0;v<d.length;v++){var _=d[v];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),as(u)||ct(o,"customParameters",Ql(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&ct(o,"scopes",f.join(","))),this.l?ct(o,"redirectUrl",this.l):Xr(o.b,"redirectUrl"),this.g?ct(o,"eventId",this.g):Xr(o.b,"eventId"),this.i?ct(o,"v",this.i):Xr(o.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!lr(o,b)&&ct(o,b,this.b[b]);return this.h?ct(o,"tid",this.h):Xr(o.b,"tid"),this.f?ct(o,"eid",this.f):Xr(o.b,"eid"),b=o0(this.c),b.length&&ct(o,"fw",b.join(",")),o.toString()};function o0(o){try{return ee.app(o).auth().Ga()}catch{return[]}}function ak(o,u,f,d,v,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=d||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function uk(o){var u=Kl();return Gj(o).then(function(f){e:{var d=Ln(u),v=d.c;d=d.a;for(var _=0;_<f.length;_++){var b=f[_],C=d,U=v;if(b.indexOf("chrome-extension://")==0?C=Ln(b).a==C&&U=="chrome-extension":U!="http"&&U!="https"?C=!1:Q3.test(b)?C=C==b:(b=b.split(".").join("\\."),C=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(C)),C){f=!0;break e}}f=!1}if(!f)throw new My(Kl())})}function lk(o){return o.m||(o.m=fd().then(function(){if(!o.u){var u=o.c,f=o.i,d=o0(o.b),v=new sk(o.s,o.g,o.b,o.f);v.f=u,v.b=f,v.c=ss(d||[]),o.u=v.toString()}o.v=new RV(o.u),UV(o)})),o.m}e=ak.prototype,e.Pb=function(o,u,f){var d=new A("popup-closed-by-user"),v=new A("web-storage-unsupported"),_=this,b=!1;return this.ma().then(function(){jV(_).then(function(C){C||(o&&ds(o),u(v),b=!0)})}).o(function(){}).then(function(){if(!b)return G3(o)}).then(function(){if(!b)return Ua(f).then(function(){u(d)})})},e.Yb=function(){var o=Vt();return!Gl(o)&&!JS(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,d,v,_,b,C){if(!o)return Ke(new A("popup-blocked"));if(b&&!Gl())return this.ma().o(function(j){ds(o),v(j)}),d(),ne();this.a||(this.a=uk(ck(this)));var U=this;return this.a.then(function(){var j=U.ma().o(function(ue){throw ds(o),v(ue),ue});return d(),j}).then(function(){if(Dy(f),!b){var j=fc(U.s,U.g,U.b,u,f,null,_,U.c,void 0,U.i,C,U.f);zS(j,o)}}).o(function(j){throw j.code=="auth/network-request-failed"&&(U.a=null),j})};function ck(o){return o.l||(o.C=o.c?$a(o.c,o0(o.b)):null,o.l=new Or(o.g,it(o.i),o.C),o.f&&Dd(o.l,o.f)),o.l}e.Ob=function(o,u,f,d){this.a||(this.a=uk(ck(this)));var v=this;return this.a.then(function(){Dy(u);var _=fc(v.s,v.g,v.b,o,u,Kl(),f,v.c,void 0,v.i,d,v.f);zS(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(v.a=null),_})},e.ma=function(){var o=this;return lk(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new A("network-request-failed")})},e.ac=function(){return!0};function fc(o,u,f,d,v,_,b,C,U,j,ue,De){return o=new i0(o,u,f,d,v,De),o.l=_,o.g=b,o.i=C,o.b=to(U||null),o.f=j,o.zb(ue).toString()}function UV(o){if(!o.v)throw Error("IfcHandler must be initialized!");xV(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=xC(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",ne(f)}return f.status="ERROR",ne(f)})}function jV(o){var u={type:"webStorageSupport"};return lk(o).then(function(){return OV(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport!="undefined")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){Ar(this.h,function(u){return u==o})};function fk(o){if(this.a=o||ee.INTERNAL.reactNative&&ee.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=fk.prototype,e.get=function(o){return ne(this.a.getItem(o)).then(function(u){return u&&za(u)})},e.set=function(o,u){return ne(this.a.setItem(o,Ql(u)))},e.U=function(o){return ne(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function hk(o){this.b=o,this.a={},this.f=O(this.c,this)}var dk=[];function VV(){var o=Rr()?self:null;if(xe(dk,function(f){f.b==o&&(u=f)}),!u){var u=new hk(o);dk.push(u)}return u}hk.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var v=[];xe(d,function(_){v.push(ne().then(function(){return _(o.origin,o.data.data)}))}),mS(v).then(function(_){var b=[];xe(_,function(C){b.push({fulfilled:C.Qb,value:C.value,reason:C.reason?C.reason.message:void 0})}),xe(b,function(C){for(var U in C)typeof C[U]=="undefined"&&delete C[U]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:b})})}};function pk(o,u,f){as(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]=="undefined"&&(o.a[u]=[]),o.a[u].push(f)}function vk(o){this.a=o}vk.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function gk(o){this.c=o,this.b=!1,this.a=[]}function mk(o,u,f,d){var v,_=f||{},b,C,U,j=null;if(o.b)return Ke(Error("connection_unavailable"));var ue=d?800:50,De=typeof MessageChannel!="undefined"?new MessageChannel:null;return new Ee(function(Ae,Nt){De?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),De.port1.start(),C=setTimeout(function(){Nt(Error("unsupported_event"))},ue),b=function(Ni){Ni.data.eventId===v&&(Ni.data.status==="ack"?(clearTimeout(C),U=setTimeout(function(){Nt(Error("timeout"))},3e3)):Ni.data.status==="done"?(clearTimeout(U),typeof Ni.data.response!="undefined"?Ae(Ni.data.response):Nt(Error("unknown_error"))):(clearTimeout(C),clearTimeout(U),Nt(Error("invalid_response"))))},j={messageChannel:De,onMessage:b},o.a.push(j),De.port1.addEventListener("message",b),o.c.postMessage({eventType:u,eventId:v,data:_},[De.port2])):Nt(Error("connection_unavailable"))}).then(function(Ae){return s0(o,j),Ae}).o(function(Ae){throw s0(o,j),Ae})}function s0(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),Ar(o.a,function(v){return v==u})}}gk.prototype.close=function(){for(;0<this.a.length;)s0(this,this.a[0]);this.b=!0};function yk(){if(!l0())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Rr()&&self?(this.v=VV(),pk(this.v,"keyChanged",function(u,f){return Ek(o).then(function(d){return 0<d.length&&xe(o.a,function(v){v(d)}),{keyProcessed:Ii(d,f.key)}})}),pk(this.v,"ping",function(){return ne(["keyChanged"])})):tj().then(function(u){(o.h=u)&&(o.g=new gk(new vk(u)),mk(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&Ii(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var a0;function BV(o){return new Ee(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(v){f(Error(v.target.error))}})}function _k(o){return new Ee(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(v){try{v.preventDefault()}catch{}f(Error(v.target.error))},d.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},d.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?u(v):BV(o).then(function(){return _k(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function u0(o){return o.i||(o.i=_k(o)),o.i}function Md(o,u){function f(v,_){u0(o).then(u).then(v).o(function(b){if(3<++d)_(b);else return u0(o).then(function(C){return C.close(),o.i=void 0,f(v,_)}).o(function(C){_(C)})})}var d=0;return new Ee(f)}function l0(){try{return!!c.indexedDB}catch{return!1}}function hc(o){return o.objectStore("firebaseLocalStorage")}function dc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Ga(o){return new Ee(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}e=yk.prototype,e.set=function(o,u){var f=this,d=!1;return Md(this,function(v){return v=hc(dc(v,!0)),Ga(v.get(o))}).then(function(v){return Md(f,function(_){if(_=hc(dc(_,!0)),v)return v.value=u,Ga(_.put(v));f.b++,d=!0;var b={};return b.fbase_key=o,b.value=u,Ga(_.add(b))})}).then(function(){return f.c[o]=u,wk(f,o)}).oa(function(){d&&f.b--})};function wk(o,u){return o.g&&o.h&&ej()===o.h?mk(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):ne()}e.get=function(o){return Md(this,function(u){return Ga(hc(dc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return Md(this,function(d){return f=!0,u.b++,Ga(hc(dc(d,!0)).delete(o))}).then(function(){return delete u.c[o],wk(u,o)}).oa(function(){f&&u.b--})};function Ek(o){return u0(o).then(function(u){var f=hc(dc(u,!1));return f.getAll?Ga(f.getAll()):new Ee(function(d,v){var _=[],b=f.openCursor();b.onsuccess=function(C){(C=C.target.result)?(_.push(C.value),C.continue()):d(_)},b.onerror=function(C){v(C.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=WS(o.c,f),o.c=f}return d})}e.ca=function(o){this.a.length==0&&$V(this),this.a.push(o)},e.ia=function(o){Ar(this.a,function(u){return u==o}),this.a.length==0&&Tk(this)};function $V(o){function u(){o.f=setTimeout(function(){o.l=Ek(o).then(function(f){0<f.length&&xe(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}Tk(o),u()}function Tk(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function bk(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=ne().then(function(){if(l0()){var d=vs(),v="__sak"+d;return a0||(a0=new yk),f=a0,f.set(v,d).then(function(){return f.get(v)}).then(function(_){if(_!==d)throw Error("indexedDB not supported!");return f.U(v)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(v){xe(u.a,function(_){_(v)})}),d})}e=bk.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){Ar(this.a,function(u){return u==o})};function pc(){this.a={},this.type="inMemory"}e=pc.prototype,e.get=function(o){return ne(this.a[o])},e.set=function(o,u){return this.a[o]=u,ne()},e.U=function(o){return delete this.a[o],ne()},e.ca=function(){},e.ia=function(){};function Fd(){if(!qV())throw Jr()=="Node"?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Ik()||ee.INTERNAL.node.localStorage,this.type="localStorage"}function Ik(){try{var o=c.localStorage,u=vs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function qV(){var o=Jr()=="Node";if(o=Ik()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Fd.prototype,e.get=function(o){var u=this;return ne().then(function(){var f=u.a.getItem(o);return za(f)})},e.set=function(o,u){var f=this;return ne().then(function(){var d=Ql(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return ne().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&ur(c.window,"storage",o)},e.ia=function(o){c.window&&Hn(c.window,"storage",o)};function c0(){this.type="nullStorage"}e=c0.prototype,e.get=function(){return ne(null)},e.set=function(){return ne()},e.U=function(){return ne()},e.ca=function(){},e.ia=function(){};function f0(){if(!zV())throw Jr()=="Node"?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Sk()||ee.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Sk(){try{var o=c.sessionStorage,u=vs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function zV(){var o=Jr()=="Node";if(o=Sk()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=f0.prototype,e.get=function(o){var u=this;return ne().then(function(){var f=u.a.getItem(o);return za(f)})},e.set=function(o,u){var f=this;return ne().then(function(){var d=Ql(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return ne().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function WV(){var o={};o.Browser=HV,o.Node=KV,o.ReactNative=GV,o.Worker=QV,this.a=o[Jr()]}var h0,HV={F:Fd,cb:f0},KV={F:Fd,cb:f0},GV={F:fk,cb:c0},QV={F:Fd,cb:c0},Qa={rd:"local",NONE:"none",td:"session"};function YV(o){var u=new A("invalid-persistence-type"),f=new A("unsupported-persistence-type");e:{for(d in Qa)if(Qa[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(Jr()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!l0()&&o!=="none")throw f;break;default:if(!hy()&&o!=="none")throw f}}function Ck(){var o=!!(!JS(Vt())&&cy()),u=Gl(),f=hy();this.m=o,this.h=u,this.l=f,this.a={},h0||(h0=new WV),o=h0;try{this.g=!uy()&&eC()||!c.indexedDB?new o.a.F:new bk(Rr()?new pc:new o.a.F)}catch{this.g=new pc,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new pc}this.v=new pc,this.f=O(this.Zb,this),this.b={}}var d0;function vc(){return d0||(d0=new Ck),d0}function bs(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function Ya(o,u){return"firebase:"+o.name+(u?":"+u:"")}function XV(o,u,f){var d=Ya(u,f),v=bs(o,u.F);return o.get(u,f).then(function(_){var b=null;try{b=za(c.localStorage.getItem(d))}catch{}if(b&&!_)return c.localStorage.removeItem(d),o.set(u,b,f);b&&_&&v.type!="localStorage"&&c.localStorage.removeItem(d)})}e=Ck.prototype,e.get=function(o,u){return bs(this,o.F).get(Ya(o,u))};function Xa(o,u,f){return f=Ya(u,f),u.F=="local"&&(o.b[f]=null),bs(o,u.F).U(f)}e.set=function(o,u,f){var d=Ya(o,f),v=this,_=bs(this,o.F);return _.set(d,u).then(function(){return _.get(d)}).then(function(b){o.F=="local"&&(v.b[d]=b)})},e.addListener=function(o,u,f){o=Ya(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),as(this.a)&&(bs(this,"local").ca(this.f),this.h||(uy()||!eC())&&c.indexedDB||!this.l||JV(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=Ya(o,u),this.a[o]&&(Ar(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),as(this.a)&&(bs(this,"local").ia(this.f),p0(this))};function JV(o){p0(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new cs({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Zb(f))}},1e3)}function p0(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d=="undefined"&&(d=null);var v=c.localStorage.getItem(f);v!==d&&(this.b[f]=v,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a!="undefined"?bs(this,"local").ia(this.f):p0(this),this.m){if(f=c.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?c.localStorage.setItem(u,d):c.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a=="undefined")return}var _=this;f=function(){(typeof o.a.a!="undefined"||_.b[u]!==c.localStorage.getItem(u))&&(_.b[u]=c.localStorage.getItem(u),_.nb(u))},Nr&&no&&no==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else xe(o,O(this.nb,this))},e.nb=function(o){this.a[o]&&xe(this.a[o],function(u){u()})};function ZV(o){this.a=o,this.b=vc()}var v0={name:"authEvent",F:"local"};function eB(o){return o.b.get(v0,o.a).then(function(u){return xC(u)})}function tB(){this.a=vc()}function nB(){this.b=-1}function Ud(o,u){this.b=kk,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),jd===void 0&&(c.Int32Array?jd=new Int32Array(Rk):jd=Rk),this.reset()}var jd;L(Ud,nB);for(var kk=64,rB=kk-1,Ak=[],g0=0;g0<rB;g0++)Ak[g0]=0;var Nk=Lm(128,Ak);Ud.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):ss(this.h)};function m0(o){for(var u=o.f,f=o.l,d=0,v=0;v<u.length;)f[d++]=u[v]<<24|u[v+1]<<16|u[v+2]<<8|u[v+3],v=4*d;for(u=16;64>u;u++){v=f[u-15]|0,d=f[u-2]|0;var _=(f[u-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,b=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=_+b|0}d=o.a[0]|0,v=o.a[1]|0;var C=o.a[2]|0,U=o.a[3]|0,j=o.a[4]|0,ue=o.a[5]|0,De=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Ae=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&v^d&C^v&C)|0;b=j&ue^~j&De,_=_+((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))|0,b=b+(jd[u]|0)|0,b=_+(b+(f[u]|0)|0)|0,_=De,De=ue,ue=j,j=U+b|0,U=C,C=v,v=d,d=b+Ae|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+v|0,o.a[2]=o.a[2]+C|0,o.a[3]=o.a[3]+U|0,o.a[4]=o.a[4]+j|0,o.a[5]=o.a[5]+ue|0,o.a[6]=o.a[6]+De|0,o.a[7]=o.a[7]+_|0}function y0(o,u,f){f===void 0&&(f=u.length);var d=0,v=o.c;if(typeof u=="string")for(;d<f;)o.f[v++]=u.charCodeAt(d++),v==o.b&&(m0(o),v=0);else if(E(u))for(;d<f;){var _=u[d++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[v++]=_,v==o.b&&(m0(o),v=0)}else throw Error("message must be string or array");o.c=v,o.g+=f}var Rk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Pk(){Ud.call(this,8,iB)}L(Pk,Ud);var iB=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ok(o,u,f,d,v,_){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=v||null,this.s=_,this.h=u+":"+f,this.C=new tB,this.g=new ZV(this.h),this.f=null,this.b=[],this.a=this.c=null}function Vd(o){return new A("invalid-cordova-configuration",o)}e=Ok.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=X3().then(function(){if(typeof Ge("universalLinks.subscribe",c)!="function")throw Vd("cordova-universal-links-plugin-fix is not installed");if(typeof Ge("BuildInfo.packageName",c)=="undefined")throw Vd("cordova-plugin-buildinfo is not installed");if(typeof Ge("cordova.plugins.browsertab.openUrl",c)!="function")throw Vd("cordova-plugin-browsertab is not installed");if(typeof Ge("cordova.InAppBrowser.open",c)!="function")throw Vd("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})};function oB(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function sB(o){var u=new Pk;y0(u,o),o=[];var f=8*u.g;56>u.c?y0(u,Nk,56-u.c):y0(u,Nk,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(m0(u),d=f=0;d<u.i;d++)for(var v=24;0<=v;v-=8)o[f++]=u.a[d]>>v&255;return mj(o)}e.Pb=function(o,u){return u(new A("operation-not-supported-in-this-environment")),ne()},e.Nb=function(){return Ke(new A("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,d){if(this.c)return Ke(new A("redirect-operation-pending"));var v=this,_=c.document,b=null,C=null,U=null,j=null;return this.c=ne().then(function(){return Dy(u),Dk(v)}).then(function(){return aB(v,o,u,f,d)}).then(function(){return new Ee(function(ue,De){C=function(){var Ae=Ge("cordova.plugins.browsertab.close",c);return ue(),typeof Ae=="function"&&Ae(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(C),U=function(){b||(b=Ua(2e3).then(function(){De(new A("redirect-cancelled-by-user"))}))},j=function(){dy()&&U()},_.addEventListener("resume",U,!1),Vt().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",j,!1)}).o(function(ue){return _0(v).then(function(){throw ue})})}).oa(function(){U&&_.removeEventListener("resume",U,!1),j&&_.removeEventListener("visibilitychange",j,!1),b&&b.cancel(),C&&v.Ta(C),v.c=null})};function aB(o,u,f,d,v){var _=oB(),b=new Pr(u,d,null,_,new A("no-auth-event"),null,v),C=Ge("BuildInfo.packageName",c);if(typeof C!="string")throw new A("invalid-cordova-configuration");var U=Ge("BuildInfo.displayName",c),j={};if(Vt().toLowerCase().match(/iphone|ipad|ipod/))j.ibi=C;else if(Vt().toLowerCase().match(/android/))j.apn=C;else return Ke(new A("operation-not-supported-in-this-environment"));U&&(j.appDisplayName=U),_=sB(_),j.sessionId=_;var ue=fc(o.v,o.i,o.l,u,f,null,d,o.m,j,o.u,v,o.s);return o.ma().then(function(){var De=o.h;return o.C.a.set(v0,b.w(),De)}).then(function(){var De=Ge("cordova.plugins.browsertab.isAvailable",c);if(typeof De!="function")throw new A("invalid-cordova-configuration");var Ae=null;De(function(Nt){if(Nt){if(Ae=Ge("cordova.plugins.browsertab.openUrl",c),typeof Ae!="function")throw new A("invalid-cordova-configuration");Ae(ue)}else{if(Ae=Ge("cordova.InAppBrowser.open",c),typeof Ae!="function")throw new A("invalid-cordova-configuration");Nt=Vt(),o.a=Ae(ue,Nt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Nt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function xk(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function Dk(o){return o.f||(o.f=o.ma().then(function(){return new Ee(function(u){function f(d){return u(d),o.Ta(f),!1}o.Ea(f),uB(o)})})),o.f}function _0(o){var u=null;return eB(o.g).then(function(f){return u=f,f=o.g,Xa(f.b,v0,f.a)}).then(function(){return u})}function uB(o){function u(b){d=!0,v&&v.cancel(),_0(o).then(function(C){var U=f;if(C&&b&&b.url){var j=null;U=SC(b.url),U.indexOf("/__/auth/callback")!=-1&&(j=Ln(U),j=za(lr(j,"firebaseError")||null),j=(j=typeof j=="object"?ge(j):null)?new Pr(C.c,C.b,null,null,j,null,C.T()):new Pr(C.c,C.b,U,C.f,null,null,C.T())),U=j||f}xk(o,U)})}var f=new Pr("unknown",null,null,null,new A("no-auth-event")),d=!1,v=Ua(500).then(function(){return _0(o).then(function(){d||xk(o,f)})}),_=c.handleOpenURL;c.handleOpenURL=function(b){if(b.toLowerCase().indexOf(Ge("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:b}),typeof _=="function")try{_(b)}catch(C){console.error(C)}},Ly||(Ly=new Sj),Cj(u)}e.Ea=function(o){this.b.push(o),Dk(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Pr("unknown",null,null,null,new A("no-auth-event")),o(u))})},e.Ta=function(o){Ar(this.b,function(u){return u==o})};function lB(o){this.a=o,this.b=vc()}var w0={name:"pendingRedirect",F:"session"};function cB(o){return o.b.set(w0,"pending",o.a)}function E0(o){return Xa(o.b,w0,o.a)}function fB(o){return o.b.get(w0,o.a).then(function(u){return u=="pending"})}function Bd(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new qd,this.C=new zk,this.g=new lB(Bk(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Lk(this.D,this.v,this.m,Ze,this.J)}function Lk(o,u,f,d,v){var _=ee.SDK_VERSION||null;return ly()?new Ok(o,u,f,_,d,v):new ak(o,u,f,_,d,v)}Bd.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Lk(this.D,this.v,this.m,null,this.J),this.i={}};function Mk(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function Fk(o){o.a.Yb()&&Mk(o).o(function(u){var f=new Pr("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));b0(u)&&o.s(f)}),o.a.Ub()||$k(o.b)}function $d(o,u){Ii(o.h,u)||o.h.push(u),o.f||fB(o.g).then(function(f){f?E0(o.g).then(function(){Mk(o).o(function(d){var v=new Pr("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));b0(d)&&o.s(v)})}):Fk(o)}).o(function(){Fk(o)})}function T0(o,u){Ar(o.h,function(f){return f==u})}Bd.prototype.s=function(o){if(!o)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return $k(this.b),u};var hB=new oo(2e3,1e4),dB=new oo(3e4,6e4);Bd.prototype.ra=function(){return this.b.ra()};function Uk(o,u,f,d,v,_,b){return o.a.Nb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},v,_,b)}function b0(o){return!!(o&&o.code=="auth/cordova-not-ready")}function jk(o,u,f,d,v){var _;return cB(o.g).then(function(){return o.a.Ob(u,f,d,v).o(function(b){if(b0(b))throw new A("operation-not-supported-in-this-environment");return _=b,E0(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new Ee(function(){}):E0(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function Vk(o,u,f,d,v){return o.a.Pb(d,function(_){u.na(f,null,_,v)},hB.get())}var I0={};function Bk(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function S0(o,u,f,d){var v=Bk(u,f,d);return I0[v]||(I0[v]=new Bd(o,u,f,d)),I0[v]}function qd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}qd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,v=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!_),f!="unknown"||v||_?o.a?(Is(this,!0,null,o.a),ne()):u.Fa(f,d)?pB(this,o,u):Ke(new A("invalid-auth-event")):(Is(this,!1,null,null),ne())}else Ke(new A("invalid-auth-event"))};function $k(o){o.g||(o.g=!0,Is(o,!1,null,null))}function zd(o){o.g&&!o.i&&Is(o,!1,null,null)}function pB(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,v=u.f,_=u.i,b=u.T(),C=!!u.c.match(/Redirect$/);f(d,v,b,_).then(function(U){Is(o,C,U,null)}).o(function(U){Is(o,C,null,U)})}function vB(o,u){if(o.b=function(){return Ke(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function qk(o,u){if(o.b=function(){return ne(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Is(o,u,f,d){u?d?vB(o,d):qk(o,f):qk(o,{user:null}),o.f=[],o.c=[]}qd.prototype.ra=function(){var o=this;return new Ee(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),gB(o))})};function gB(o){var u=new A("timeout");o.a&&o.a.cancel(),o.a=Ua(dB.get()).then(function(){o.b||(o.g=!0,Is(o,!0,null,u))})}function zk(){}zk.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),ne()):u.Fa(f,d)?mB(o,u):Ke(new A("invalid-auth-event"))}else Ke(new A("invalid-auth-event"))};function mB(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(v){u.na(d,v,null,f)}).o(function(v){u.na(d,null,v,f)})}function Wk(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function C0(o,u){this.a=u,J(this,"verificationId",o)}C0.prototype.confirm=function(o){return o=OC(this.verificationId,o),this.a(o)};function k0(o,u,f,d){return new ki(o).gb(u,f).then(function(v){return new C0(v,d)})}function yB(o){var u=mC(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");mn(this,{token:o,expirationTime:Yl(1e3*u.exp),authTime:Yl(1e3*u.auth_time),issuedAtTime:Yl(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function A0(o,u,f){var d=u&&u[Kk];if(!d)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=to(u),this.g=f,this.c=new _d(null,d),this.b=[];var v=this;xe(u[Hk]||[],function(_){(_=_y(_))&&v.b.push(_)}),J(this,"auth",this.a),J(this,"session",this.c),J(this,"hints",this.b)}var Hk="mfaInfo",Kk="mfaPendingCredential";A0.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var d=to(u.f);return delete d[Hk],delete d[Kk],On(d,f),u.g(d)})};function N0(o,u,f,d){A.call(this,"multi-factor-auth-required",d,u),this.b=new A0(o,u,f),J(this,"resolver",this.b)}L(N0,A);function Gk(o,u,f){if(o&&w(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new N0(u,o.serverResponse,f,o.message)}catch{}return null}function Qk(){}Qk.prototype.tb=function(o,u,f){return u.type==ec?_B(this,o,u,f):wB(this,o,u)};function _B(o,u,f,d){return f.Ha().then(function(v){return v={idToken:v},typeof d!="undefined"&&(v.displayName=d),On(v,{phoneVerificationInfo:tc(o.a)}),Te(u,uV,v)})}function wB(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},On(d,{phoneVerificationInfo:tc(o.a)}),Te(u,lV,d)})}function R0(o){J(this,"factorId",o.fa),this.a=o}L(R0,Qk);function Yk(o){if(R0.call(this,o),this.a.fa!=ki.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}L(Yk,R0);function Ja(o,u){Dn.call(this,o);for(var f in u)this[f]=u[f]}L(Ja,Dn);function P0(o,u){this.a=o,this.b=[],this.c=O(this.yc,this),ur(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&xe(u.multiFactor.enrolledFactors,function(d){var v=null,_={};if(d){d.uid&&(_[Ey]=d.uid),d.displayName&&(_[nC]=d.displayName),d.enrollmentTime&&(_[wy]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(_[Ty]=d.phoneNumber);try{v=new Xl(_)}catch{}d=v}else d=null;d&&f.push(d)}),Wd(this,f)}function EB(o){var u=[];return xe(o.mfaInfo||[],function(f){(f=_y(f))&&u.push(f)}),u}e=P0.prototype,e.yc=function(o){Wd(this,EB(o.hd))};function Wd(o,u){o.b=u,J(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new _d(o,null)})},e.fc=function(o,u){var f=this,d=this.a.a;return this.Sb().then(function(v){return o.tb(d,v,u)}).then(function(v){return ti(f.a,v),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(v){return Te(d,NV,{idToken:v,mfaEnrollmentId:f})}).then(function(v){var _=X4(u.b,function(b){return b.uid!=f});return Wd(u,_),ti(u.a,v),u.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Yh(this.b,function(o){return o.w()})}}};function O0(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}O0.prototype.start=function(){this.a=this.c,x0(this,!0)};function TB(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function x0(o,u){o.stop(),o.b=Ua(TB(o,u)).then(function(){return Z3()}).then(function(){return o.h()}).then(function(){x0(o,!0)}).o(function(f){o.i(f)&&x0(o,!1)})}O0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function D0(o){this.f=o,this.b=this.a=null,this.c=Date.now()}D0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Xk(o,u){typeof u=="undefined"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function Jk(o,u){o.b=md(u[xr]||""),o.a=u.refreshToken,u=u.expiresIn,Xk(o,typeof u!="undefined"?Number(u):void 0)}function bB(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function IB(o,u){return Hj(o.f,u).then(function(f){return o.b=md(f.access_token),o.a=f.refresh_token,Xk(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}D0.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?Ke(new A("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?IB(this,{grant_type:"refresh_token",refresh_token:this.a}):ne(null):ne({accessToken:this.b.toString(),refreshToken:this.a})};function Hd(o,u){this.a=o||null,this.b=u||null,mn(this,{lastSignInTime:Yl(u||null),creationTime:Yl(o||null)})}function SB(o){return new Hd(o.a,o.b)}Hd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function CB(o,u,f,d,v,_){mn(this,{uid:o,displayName:d||null,photoURL:v||null,email:f||null,phoneNumber:_||null,providerId:u})}function Gn(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=ee.SDK_VERSION?$a(ee.SDK_VERSION):null;this.a=new Or(this.l,it(Ze),d),(this.u=o.emulatorConfig||null)&&Dd(this.a,this.u),this.h=new D0(this.a),B0(this,u[xr]),Jk(this.h,u),J(this,"refreshToken",this.h.a),eA(this,f||{}),gn.call(this),this.P=!1,this.s&&ps()&&(this.b=S0(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=kB(this),this.ba=O(this.ib,this);var v=this;this.za=null,this.Pa=function(_){v.xa(_.h)},this.qa=null,this.Ba=function(_){L0(v,_.c)},this.$=null,this.aa=[],this.Oa=function(_){gc(v,_.f)},this.ja=null,this.S=new P0(this,f),J(this,"multiFactor",this.S)}L(Gn,gn),Gn.prototype.xa=function(o){this.za=o,GC(this.a,o)};function L0(o,u){o.u=u,Dd(o.a,u),o.b&&(u=o.b,o.b=S0(o.s,o.l,o.m,o.u),o.P&&(T0(u,o),$d(o.b,o)))}Gn.prototype.la=function(){return this.za};function M0(o,u){o.qa&&Hn(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&ur(u,"languageCodeChanged",o.Pa)}function F0(o,u){o.$&&Hn(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&ur(u,"emulatorConfigChanged",o.Ba)}function gc(o,u){o.aa=u,QC(o.a,ee.SDK_VERSION?$a(ee.SDK_VERSION,o.aa):null)}Gn.prototype.Ga=function(){return ss(this.aa)};function U0(o,u){o.ja&&Hn(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&ur(u,"frameworkChanged",o.Oa)}Gn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function j0(o){try{return ee.app(o.m).auth()}catch{throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function kB(o){return new O0(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function Zk(o){o.J||o.D.b||(o.D.start(),Hn(o,"tokenChanged",o.ba),ur(o,"tokenChanged",o.ba))}function V0(o){Hn(o,"tokenChanged",o.ba),o.D.stop()}function B0(o,u){o.Aa=u,J(o,"_lat",u)}function AB(o,u){Ar(o.W,function(f){return f==u})}function Ss(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return mS(u).then(function(){return o})}function mc(o){o.b&&!o.P&&(o.P=!0,$d(o.b,o))}function eA(o,u){mn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Hd(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}J(Gn.prototype,"providerId","firebase");function tA(){}function $0(o){return ne().then(function(){if(o.J)throw new A("app-deleted")})}function q0(o){return Yh(o.providerData,function(u){return u.providerId})}function z0(o,u){u&&(nA(o,u.providerId),o.providerData.push(u))}function nA(o,u){Ar(o.providerData,function(f){return f.providerId==u})}function uo(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&J(o,u,f)}function Kd(o,u){o!=u&&(mn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?J(o,"metadata",SB(u.metadata)):J(o,"metadata",new Hd),xe(u.providerData,function(f){z0(o,f)}),bB(o.h,u.h),J(o,"refreshToken",o.h.a),Wd(o.S,u.S.b))}e=Gn.prototype,e.reload=function(){var o=this;return Tt(this,$0(this).then(function(){return W0(o).then(function(){return Ss(o)}).then(tA)}))};function W0(o){return o.I().then(function(u){var f=o.isAnonymous;return NB(o,u).then(function(){return f||uo(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new yB(u)})},e.I=function(o){var u=this;return Tt(this,$0(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new A("internal-error");return f.accessToken!=u.Aa&&(B0(u,f.accessToken),u.dispatchEvent(new Ja("tokenChanged"))),uo(u,"refreshToken",f.refreshToken),f.accessToken}))};function ti(o,u){u[xr]&&o.Aa!=u[xr]&&(Jk(o.h,u),o.dispatchEvent(new Ja("tokenChanged")),B0(o,u[xr]),uo(o,"refreshToken",o.h.a))}function NB(o,u){return Te(o.a,cV,{idToken:u}).then(O(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new A("internal-error");o=o[0],eA(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=RB(o),f=0;f<u.length;f++)z0(this,u[f]);uo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Ja("userReloaded",{hd:o}))};function RB(o){return(o=o.providerUserInfo)&&o.length?Yh(o,function(u){return new CB(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return py("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return Tt(this,o.c(this.a,this.uid).then(function(d){return ti(u,d),f=yc(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function Gd(o,u){return W0(o).then(function(){if(Ii(q0(o),u))return Ss(o).then(function(){throw new A("provider-already-linked")})})}e.Cc=function(o){return py("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return Tt(this,Gd(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=yc(u,d,"link"),rA(u,d)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return Tt(this,Gd(this,"phone").then(function(){return k0(j0(f),o,u,O(f.rb,f))}))},e.Mc=function(o,u){var f=this;return Tt(this,ne().then(function(){return k0(j0(f),o,u,O(f.ub,f))}),!0)};function yc(o,u,f){var d=xy(u);return u=_C(u),Zr({user:o,credential:d,additionalUserInfo:u,operationType:f})}function rA(o,u){return ti(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return Tt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return ti(u,f),u.reload()}))},e.ed=function(o){var u=this;return Tt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return ti(u,f),u.reload()}))},e.Db=function(o){var u=this;return Tt(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return ti(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return $0(this);var u=this;return Tt(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return ti(u,f),uo(u,"displayName",f.displayName||null),uo(u,"photoURL",f.photoUrl||null),xe(u.providerData,function(d){d.providerId==="password"&&(J(d,"displayName",u.displayName),J(d,"photoURL",u.photoURL))}),Ss(u)}).then(tA))},e.cd=function(o){var u=this;return Tt(this,W0(this).then(function(f){return Ii(q0(u),o)?Zj(u.a,f,[o]).then(function(d){var v={};return xe(d.providerUserInfo||[],function(_){v[_.providerId]=!0}),xe(q0(u),function(_){v[_]||nA(u,_)}),v[ki.PROVIDER_ID]||J(u,"phoneNumber",null),Ss(u)}):Ss(u).then(function(){throw new A("no-such-provider")})}))},e.delete=function(){var o=this;return Tt(this,this.I().then(function(u){return Te(o.a,iV,{idToken:u})}).then(function(){o.dispatchEvent(new Ja("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");M0(o,null),F0(o,null),U0(o,null),o.N=[],o.J=!0,V0(o),J(o,"refreshToken",null),o.b&&T0(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(o){var u=this;return iA(this,"linkViaPopup",o,function(){return Gd(u,o.providerId).then(function(){return Ss(u)})},!1)},e.Nc=function(o){return iA(this,"reauthViaPopup",o,function(){return ne()},!0)};function iA(o,u,f,d,v){if(!ps())return Ke(new A("operation-not-supported-in-this-environment"));if(o.i&&!v)return Ke(o.i);var _=ky(f.providerId),b=vs(o.uid+":::"),C=null;(!Gl()||cy())&&o.s&&f.isOAuthProvider&&(C=fc(o.s,o.l,o.m,u,f,null,b,ee.SDK_VERSION||null,null,null,o.tenantId,o.u));var U=KS(C,_&&_.va,_&&_.ua);return d=d().then(function(){if(sA(o),!v)return o.I().then(function(){})}).then(function(){return Uk(o.b,U,u,f,b,!!C,o.tenantId)}).then(function(){return new Ee(function(j,ue){o.na(u,null,new A("cancelled-popup-request"),o.g||null),o.f=j,o.C=ue,o.g=b,o.c=Vk(o.b,o,u,U,b)})}).then(function(j){return U&&ds(U),j?Zr(j):null}).o(function(j){throw U&&ds(U),j}),Tt(o,d,v)}e.Fc=function(o){var u=this;return oA(this,"linkViaRedirect",o,function(){return Gd(u,o.providerId)},!1)},e.Oc=function(o){return oA(this,"reauthViaRedirect",o,function(){return ne()},!0)};function oA(o,u,f,d,v){if(!ps())return Ke(new A("operation-not-supported-in-this-environment"));if(o.i&&!v)return Ke(o.i);var _=null,b=vs(o.uid+":::");return d=d().then(function(){if(sA(o),!v)return o.I().then(function(){})}).then(function(){return o.ga=b,Ss(o)}).then(function(C){return o.ha&&(C=o.ha,C=C.b.set(H0,o.w(),C.a)),C}).then(function(){return jk(o.b,u,f,b,o.tenantId)}).o(function(C){if(_=C,o.ha)return uA(o.ha);throw _}).then(function(){if(_)throw _}),Tt(o,d,v)}function sA(o){if(!o.b||!o.P)throw o.b&&!o.P?new A("internal-error"):new A("auth-domain-config-required")}e.Lb=function(o,u,f,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(b){return e0(v.a,{requestUri:o,postBody:d,sessionId:u,idToken:b})}).then(function(b){return _=yc(v,b,"link"),rA(v,b)}).then(function(){return _}),Tt(this,f)},e.Mb=function(o,u,f,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null,b=ne().then(function(){return Ha(t0(v.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),v.uid)}).then(function(C){return _=yc(v,C,"reauthenticate"),ti(v,C),v.i=null,v.reload()}).then(function(){return _});return Tt(this,b,!0)},e.vb=function(o){var u=this,f=null;return Tt(this,this.I().then(function(d){return f=d,typeof o=="undefined"||as(o)?{}:vd(new pd(o))}).then(function(d){return u.a.vb(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,d=null;return Tt(this,this.I().then(function(v){return d=v,typeof u=="undefined"||as(u)?{}:vd(new pd(u))}).then(function(v){return f.a.Fb(d,o,v)}).then(function(v){if(f.email!=v)return f.reload()}).then(function(){}))};function Tt(o,u,f){var d=PB(o,u,f);return o.N.push(d),d.oa(function(){Xh(o.N,d)}),d.o(function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=Gk(v.w(),j0(o),O(o.jc,o))),_||v})}e.jc=function(o){var u=null,f=this;return o=Ha(ne(o),f.uid).then(function(d){return u=yc(f,d,"reauthenticate"),ti(f,d),f.i=null,f.reload()}).then(function(){return u}),Tt(this,o,!0)};function PB(o,u,f){return o.i&&!f?(u.cancel(),Ke(o.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new Ja("userInvalidated")),o.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&On(o,this.metadata.w()),xe(this.providerData,function(u){o.providerData.push(nj(u))}),On(o,this.S.w()),o};function aA(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[xr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var v=new Gn(u,f,o);return o.providerData&&xe(o.providerData,function(_){_&&z0(v,Zr(_))}),o.redirectEventId&&(v.ga=o.redirectEventId),v}function OB(o,u,f,d){var v=new Gn(o,u);return f&&(v.ha=f),d&&gc(v,d),v.reload().then(function(){return v})}function xB(o,u,f,d){var v=o.h,_={};return _[xr]=v.b&&v.b.toString(),_.refreshToken=v.a,u=new Gn(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),d&&gc(u,d),Kd(u,o),u}function DB(o){this.a=o,this.b=vc()}var H0={name:"redirectUser",F:"session"};function uA(o){return Xa(o.b,H0,o.a)}function LB(o,u){return o.b.get(H0,o.a).then(function(f){return f&&u&&(f.authDomain=u),aA(f||{})})}function K0(o){this.a=o,this.b=vc(),this.c=null,this.f=MB(this),this.b.addListener(ni("local"),this.a,O(this.g,this))}K0.prototype.g=function(){var o=this,u=ni("local");Za(this,function(){return ne().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return G0(o,"local").then(function(){o.c=u})})})};function G0(o,u){var f=[],d;for(d in Qa)Qa[d]!==u&&f.push(Xa(o.b,ni(Qa[d]),o.a));return f.push(Xa(o.b,Q0,o.a)),I3(f)}function MB(o){var u=ni("local"),f=ni("session"),d=ni("none");return XV(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(v){return v?f:o.b.get(d,o.a).then(function(_){return _?d:o.b.get(u,o.a).then(function(b){return b?u:o.b.get(Q0,o.a).then(function(C){return C?ni(C):u})})})}).then(function(v){return o.c=v,G0(o,v.F)}).o(function(){o.c||(o.c=u)})}var Q0={name:"persistence",F:"session"};function ni(o){return{name:"authUser",F:o}}K0.prototype.yb=function(o){var u=null,f=this;return YV(o),Za(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,G0(f,o)}).then(function(){if(f.c=ni(o),u)return f.b.set(f.c,u,f.a)}):ne()})};function FB(o){return Za(o,function(){return o.b.set(Q0,o.c.F,o.a)})}function lA(o,u){return Za(o,function(){return o.b.set(o.c,u.w(),o.a)})}function cA(o){return Za(o,function(){return Xa(o.b,o.c,o.a)})}function fA(o,u,f){return Za(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),aA(d||{})})})}function Za(o,u){return o.f=o.f.then(u,u),o.f}function Dr(o){if(this.l=!1,J(this,"settings",new Wk),J(this,"app",o),Fe(this).options&&Fe(this).options.apiKey)o=ee.SDK_VERSION?$a(ee.SDK_VERSION):null,this.a=new Or(Fe(this).options&&Fe(this).options.apiKey,it(Ze),o);else throw new A("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ee.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=ee.INTERNAL.createSubscribe(O(this.Ac,this)),eu(this,null),this.i=new K0(Fe(this).options.apiKey+":"+Fe(this).name),this.D=new DB(Fe(this).options.apiKey+":"+Fe(this).name),this.$=ot(this,qB(this)),this.h=ot(this,zB(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,VB(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,gn.call(this),jB(this),this.J=[],this.R=null}L(Dr,gn);function hA(o){Dn.call(this,"languageCodeChanged"),this.h=o}L(hA,Dn);function dA(o){Dn.call(this,"emulatorConfigChanged"),this.c=o}L(dA,Dn);function pA(o){Dn.call(this,"frameworkChanged"),this.f=o}L(pA,Dn),e=Dr.prototype,e.yb=function(o){return o=this.i.yb(o),ot(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,GC(this.a,this.aa),this.dispatchEvent(new hA(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,UB(u),this.R={url:o,ec:u},this.settings.jb=!0,Dd(this.a,this.R),this.dispatchEvent(new dA(this.R))}};function UB(o){typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&fd().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),QC(this.a,ee.SDK_VERSION?$a(ee.SDK_VERSION,this.J):null),this.dispatchEvent(new pA(this.J))},e.Ga=function(){return ss(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function jB(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=Ln(this.R.url);u=Zr({protocol:u.c,host:u.a,port:u.g,options:Zr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Fe(this).options.apiKey,authDomain:Fe(this).options.authDomain,appName:Fe(this).name,currentUser:he(this)&&he(this).w()}};function Y0(o){return o.Oa||Ke(new A("auth-domain-config-required"))}function VB(o){var u=Fe(o).options.authDomain,f=Fe(o).options.apiKey;u&&ps()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=S0(u,f,Fe(o).name,o.R),$d(o.b,o),he(o)&&mc(he(o)),o.m){mc(o.m);var d=o.m;d.xa(o.la()),M0(d,o),d=o.m,gc(d,o.J),U0(d,o),d=o.m,L0(d,o.R),F0(d,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(o,u,f,d){var v=this,_={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return Cs(v,Zy(v.a,_))})},e.Xc=function(o){if(!ps())return Ke(new A("operation-not-supported-in-this-environment"));var u=this,f=ky(o.providerId),d=vs(),v=null;(!Gl()||cy())&&Fe(this).options.authDomain&&o.isOAuthProvider&&(v=fc(Fe(this).options.authDomain,Fe(this).options.apiKey,Fe(this).name,"signInViaPopup",o,null,d,ee.SDK_VERSION||null,null,null,this.T(),this.R));var _=KS(v,f&&f.va,f&&f.ua);return f=Y0(this).then(function(b){return Uk(b,_,"signInViaPopup",o,d,!!v,u.T())}).then(function(){return new Ee(function(b,C){u.na("signInViaPopup",null,new A("cancelled-popup-request"),u.g),u.f=b,u.C=C,u.g=d,u.c=Vk(u.b,u,"signInViaPopup",_,d)})}).then(function(b){return _&&ds(_),b?Zr(b):null}).o(function(b){throw _&&ds(_),b}),ot(this,f)},e.Yc=function(o){if(!ps())return Ke(new A("operation-not-supported-in-this-environment"));var u=this,f=Y0(this).then(function(){return FB(u.i)}).then(function(){return jk(u.b,"signInViaRedirect",o,void 0,u.T())});return ot(this,f)};function vA(o){if(!ps())return Ke(new A("operation-not-supported-in-this-environment"));var u=Y0(o).then(function(){return o.b.ra()}).then(function(f){return f?Zr(f):null});return ot(o,u)}e.ra=function(){var o=this;return vA(this).then(function(u){return o.b&&zd(o.b.b),u}).o(function(u){throw o.b&&zd(o.b.b),u})},e.dd=function(o){if(!o)return Ke(new A("null-user"));if(this.S!=o.tenantId)return Ke(new A("tenant-id-mismatch"));var u=this,f={};f.apiKey=Fe(this).options.apiKey,f.authDomain=Fe(this).options.authDomain,f.appName=Fe(this).name;var d=xB(o,f,u.D,u.Ga());return ot(this,this.h.then(function(){if(Fe(u).options.apiKey!=o.l)return d.reload()}).then(function(){return he(u)&&o.uid==he(u).uid?(Kd(he(u),o),u.da(o)):(eu(u,d),mc(d),u.da(d))}).then(function(){_c(u)}))};function BB(o,u){var f={};return f.apiKey=Fe(o).options.apiKey,f.authDomain=Fe(o).options.authDomain,f.appName=Fe(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return OB(f,u,o.D,o.Ga())}).then(function(d){return he(o)&&d.uid==he(o).uid?(Kd(he(o),d),o.da(d)):(eu(o,d),mc(d),o.da(d))}).then(function(){_c(o)})}function eu(o,u){he(o)&&(AB(he(o),o.Ba),Hn(he(o),"tokenChanged",o.qa),Hn(he(o),"userDeleted",o.za),Hn(he(o),"userInvalidated",o.Aa),V0(he(o))),u&&(u.W.push(o.Ba),ur(u,"tokenChanged",o.qa),ur(u,"userDeleted",o.za),ur(u,"userInvalidated",o.Aa),0<o.u&&Zk(u)),J(o,"currentUser",u),u&&(u.xa(o.la()),M0(u,o),gc(u,o.J),U0(u,o),L0(u,o.R),F0(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&zd(o.b.b),he(o)?(eu(o,null),cA(o.i).then(function(){_c(o)})):ne()});return ot(this,u)};function $B(o){var u=LB(o.D,Fe(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),uA(o.D)});return ot(o,u)}function qB(o){var u=Fe(o).options.authDomain,f=$B(o).then(function(){return fA(o.i,u,o.R)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return lA(o.i,d).then(function(){return d})}).o(function(v){return v.code=="auth/network-request-failed"?d:cA(o.i)})):null}).then(function(d){eu(o,d||null)});return ot(o,f)}function zB(o){return o.$.then(function(){return vA(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(ni("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return fA(this.i,Fe(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=he(o)&&u){f=he(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return Kd(he(o),u),he(o).I();(he(o)||u)&&(eu(o,u),u&&(mc(u),u.ha=o.D),o.b&&$d(o.b,o),_c(o))}})},e.da=function(o){return lA(this.i,o)},e.mc=function(){_c(this),this.da(he(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Cs(o,u){var f=null,d=null;return ot(o,u.then(function(v){return f=xy(v),d=_C(v),BB(o,v)},function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=Gk(v.w(),o,O(o.kc,o))),_||v}).then(function(){return Zr({user:he(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Cs(u,ne(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(he(u))})},e.Ac=function(o){var u=this;WB(this,function(){o.next(he(u))})},e.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(he(d)):typeof o.next=="function"&&o.next(he(d))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof o=="function"?o(he(d)):typeof o.next=="function"&&o.next(he(d))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return he(u)?he(u).I(o).then(function(d){return{accessToken:d}}):null});return ot(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Cs(u,Te(u.a,SV,{token:o}))}).then(function(f){var d=f.user;return uo(d,"isAnonymous",!1),u.da(d),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Cs(f,Te(f.a,ik,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Cs(f,Te(f.a,nV,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return Cs(u,o.ka(u.a))})},e.Sc=function(o){return py("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=he(o);if(u&&u.isAnonymous){var f=Zr({providerId:null,isNewUser:!1});return Zr({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Cs(o,o.a.Ab()).then(function(d){var v=d.user;return uo(v,"isAnonymous",!0),o.da(v),d})})};function Fe(o){return o.app}function he(o){return o.currentUser}e.getUid=function(){return he(this)&&he(this).uid||null};function Qd(o){return he(o)&&he(o)._lat||null}function _c(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Qd(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](Qd(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&he(this)&&Zk(he(this))},e.Pc=function(o){var u=this;xe(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&he(this)&&V0(he(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),ot(this,this.h.then(function(){u.l||Ii(u.s,o)&&o(Qd(u))}))},e.removeAuthTokenListener=function(o){Ar(this.s,function(u){return u==o})};function WB(o,u){o.N.push(u),ot(o,o.h.then(function(){!o.l&&Ii(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(Qd(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(ni("local"),o.a,this.ja)),this.b&&(T0(this.b,this),zd(this.b.b)),Promise.resolve()};function ot(o,u){return o.P.push(u),u.oa(function(){Xh(o.P,u)}),u}e.hc=function(o){return ot(this,Kj(this.a,o))},e.Bc=function(o){return!!Oy(o)},e.xb=function(o,u){var f=this;return ot(this,ne().then(function(){var d=new pd(u);if(!d.c)throw new A("argument-error",Sy+" must be true when sending sign in link to email");return vd(d)}).then(function(d){return f.a.xb(o,d)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return ot(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return ot(this,this.a.Sa(o).then(function(u){return new ij(u)}))},e.kb=function(o){return ot(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return ot(this,ne().then(function(){return typeof u=="undefined"||as(u)?{}:vd(new pd(u))}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},e.Wc=function(o,u){return ot(this,k0(this,o,u,O(this.ab,this)))},e.Vc=function(o,u){var f=this;return ot(this,ne().then(function(){var d=u||Kl(),v=PC(o,d);if(d=Oy(d),!d)throw new A("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new A("tenant-id-mismatch");return f.ab(v)}))};function wc(){}wc.prototype.render=function(){},wc.prototype.reset=function(){},wc.prototype.getResponse=function(){},wc.prototype.execute=function(){};function tu(){this.a={},this.b=1e12}var X0=null;tu.prototype.render=function(o,u){return this.a[this.b.toString()]=new Yd(o,u),this.b++},tu.prototype.reset=function(o){var u=J0(this,o);o=gA(o),u&&o&&(u.delete(),delete this.a[o])},tu.prototype.getResponse=function(o){return(o=J0(this,o))?o.getResponse():null},tu.prototype.execute=function(o){(o=J0(this,o))&&o.execute()};function J0(o,u){return(u=gA(u))&&o.a[u]||null}function gA(o){return(o=typeof o=="undefined"?1e12:o)?o.toString():null}function Yd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Vl(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():ur(this.f,"click",this.i)}Yd.prototype.getResponse=function(){return Z0(this),this.b},Yd.prototype.execute=function(){Z0(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=J3();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Yd.prototype.delete=function(){Z0(this),this.g=!0,clearTimeout(this.a),this.a=null,Hn(this.f,"click",this.i)};function Z0(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function e_(){}J(e_,"FACTOR_ID","phone");function t_(){}t_.prototype.g=function(){return X0||(X0=new tu),ne(X0)},t_.prototype.c=function(){};var n_=null;function r_(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var HB=new Yr(Jh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),KB=new oo(3e4,6e4);r_.prototype.g=function(o){var u=this;return new Ee(function(f,d){var v=setTimeout(function(){d(new A("network-request-failed"))},KB.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var b=c.grecaptcha.render;c.grecaptcha.render=function(C,U){return C=b(C,U),u.b++,C},clearTimeout(v),f(c.grecaptcha)}else clearTimeout(v),d(new A("internal-error"));delete c[u.a]};var _=Um(HB,{onload:u.a,hl:o||""});ne(Hy(_)).o(function(){clearTimeout(v),d(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),f(c.grecaptcha)})},r_.prototype.c=function(){this.b--};var i_=null;function o_(o,u,f,d,v,_,b){if(J(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,b?(n_||(n_=new t_),b=n_):(i_||(i_=new r_),b=i_),this.m=b,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[_A])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[GB]==="invisible",!c.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Vl(u)||!this.i&&Vl(u).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Or(o,_||null,v||null),this.u=d||function(){return null};var C=this;this.l=[];var U=this.a[mA];this.a[mA]=function(ue){if(wA(C,ue),typeof U=="function")U(ue);else if(typeof U=="string"){var De=Ge(U,c);typeof De=="function"&&De(ue)}};var j=this.a[yA];this.a[yA]=function(){if(wA(C,null),typeof j=="function")j();else if(typeof j=="string"){var ue=Ge(j,c);typeof ue=="function"&&ue()}}}var mA="callback",yA="expired-callback",_A="sitekey",GB="size";function wA(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function QB(o,u){Ar(o.l,function(f){return f==u})}function s_(o,u){return o.h.push(u),u.oa(function(){Xh(o.h,u)}),u}e=o_.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=s_(this,ne().then(function(){if(hd()&&!Rr())return fd();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Te(o.s,gV,{})}).then(function(u){o.a[_A]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Xd(this);var o=this;return s_(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Vl(u);u=w3("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Xd(this);var o=this;return s_(this,this.render().then(function(u){return new Ee(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var v=function(_){_&&(QB(o,v),f(_))};o.l.push(v),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Xd(this),this.c!==null&&this.g.reset(this.c)};function Xd(o){if(o.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Xd(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Vl(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function a_(o,u,f){var d=!1;try{this.b=f||ee.app()}catch{throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new A("invalid-api-key");var v=this,_=null;try{_=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=ee.SDK_VERSION?$a(ee.SDK_VERSION,_):null,o_.call(this,f,o,u,function(){try{var b=v.b.auth().la()}catch{b=null}return b},_,it(Ze),d)}L(a_,o_);function EA(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var v=0,_=!1,b=0;b<u.length;b++)if(u[b].optional)_=!0;else{if(_)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(_=u.length,f.length<v||_<f.length)d="Expected "+(v==_?v==1?"1 argument":v+" arguments":v+"-"+_+" arguments")+" but got "+f.length+".";else{for(v=0;v<f.length;v++)if(_=u[v].optional&&f[v]===void 0,!u[v].M(f[v])&&!_){if(u=u[v],0>v||v>=TA.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");f=TA[v],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new A("argument-error",o+" failed: "+d)}var TA="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function X(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function u_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function vt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:w}}function nu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function ri(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function YB(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function XB(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Dr)}}}function JB(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof ee.app.App)}}}function lo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function bA(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function ru(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function l_(o,u){return w(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function IA(o){return w(o)&&typeof o.uid=="string"}function Jd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function ft(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(v){return o.M(v)||u.M(v)}}}function tt(o,u){for(var f in u){var d=u[f].name;o[d]=CA(d,o[f],u[f].j)}}function SA(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:F(function(v){return this[v]},f),set:F(function(v,_,b,C){EA(v,[b],[C],!0),this[_]=C},d,f,u[f].lb),enumerable:!0})}}function ht(o,u,f,d){o[u]=CA(u,f,d)}function CA(o,u,f){function d(){var b=Array.prototype.slice.call(arguments);return EA(v,f,b),u.apply(this,b)}if(!f)return u;var v=ZB(o),_;for(_ in u)d[_]=u[_];for(_ in u.prototype)d.prototype[_]=u.prototype[_];return d}function ZB(o){return o=o.split("."),o[o.length-1]}tt(Dr.prototype,{kb:{name:"applyActionCode",j:[X("code")]},Sa:{name:"checkActionCode",j:[X("code")]},ob:{name:"confirmPasswordReset",j:[X("code"),X("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[X("email"),X("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[X("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[X("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ft(vt(),nu(),"nextOrObserver"),nu("opt_error",!0),nu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ft(vt(),nu(),"nextOrObserver"),nu("opt_error",!0),nu("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[X("email"),ft(vt("opt_actionCodeSettings",!0),ri(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[X("email"),vt("actionCodeSettings")]},yb:{name:"setPersistence",j:[X("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[lo()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[lo()]},Tc:{name:"signInWithCustomToken",j:[X("token")]},Uc:{name:"signInWithEmailAndPassword",j:[X("email"),X("password")]},Vc:{name:"signInWithEmailLink",j:[X("email"),X("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[X("phoneNumber"),Jd()]},Xc:{name:"signInWithPopup",j:[ru()]},Yc:{name:"signInWithRedirect",j:[ru()]},dd:{name:"updateCurrentUser",j:[ft(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Gn)}}}(),ri(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[X(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[X("url"),vt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[X("code")]}}),SA(Dr.prototype,{lc:{name:"languageCode",lb:ft(X(),ri(),"languageCode")},ti:{name:"tenantId",lb:ft(X(),ri(),"tenantId")}}),Dr.Persistence=Qa,Dr.Persistence.LOCAL="local",Dr.Persistence.SESSION="session",Dr.Persistence.NONE="none",tt(Gn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[u_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[u_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[lo()]},rb:{name:"linkWithCredential",j:[lo()]},Dc:{name:"linkWithPhoneNumber",j:[X("phoneNumber"),Jd()]},Ec:{name:"linkWithPopup",j:[ru()]},Fc:{name:"linkWithRedirect",j:[ru()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[lo()]},ub:{name:"reauthenticateWithCredential",j:[lo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[X("phoneNumber"),Jd()]},Nc:{name:"reauthenticateWithPopup",j:[ru()]},Oc:{name:"reauthenticateWithRedirect",j:[ru()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ft(vt("opt_actionCodeSettings",!0),ri(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[X(null,!0)]},cd:{name:"unlink",j:[X("provider")]},Cb:{name:"updateEmail",j:[X("email")]},Db:{name:"updatePassword",j:[X("password")]},ed:{name:"updatePhoneNumber",j:[lo("phone")]},Eb:{name:"updateProfile",j:[vt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[X("email"),ft(vt("opt_actionCodeSettings",!0),ri(null,!0),"opt_actionCodeSettings",!0)]}}),tt(tu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tt(wc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tt(Ee.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),SA(Wk.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:u_("appVerificationDisabledForTesting")}}),tt(C0.prototype,{confirm:{name:"confirm",j:[X("verificationCode")]}}),ht(Wa,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[Tj,bj,Ij,Ej],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[ft(X(),vt(),"json")]),ht(cr,"credential",function(o,u){return new so(o,u)},[X("email"),X("password")]),tt(so.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),tt(ys.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ht(ys,"credential",kC,[ft(X(),vt(),"token")]),ht(cr,"credentialWithLink",PC,[X("email"),X("emailLink")]),tt(_s.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ht(_s,"credential",AC,[ft(X(),vt(),"token")]),tt(ws.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ht(ws,"credential",NC,[ft(X(),ft(vt(),ri()),"idToken"),ft(X(),ri(),"accessToken",!0)]),tt(Ka.prototype,{Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ht(Ka,"credential",RC,[ft(X(),vt(),"token"),X("secret",!0)]),tt(Kn.prototype,{Ca:{name:"addScope",j:[X("scope")]},credential:{name:"credential",j:[ft(X(),ft(vt(),ri()),"optionsOrIdToken"),ft(X(),ri(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),tt(Ci.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),tt(gs.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),ht(ki,"credential",OC,[X("verificationId"),X("verificationCode")]),tt(ki.prototype,{gb:{name:"verifyPhoneNumber",j:[ft(X(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?l_(f.session,ec)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?l_(f.session,wd)&&IA(f.multiFactorHint):f.session&&f.multiFactorUid?l_(f.session,wd)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Jd()]}}),tt(ao.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),tt(A.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),tt(nc.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),tt(My.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),tt(N0.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),tt(A0.prototype,{Rc:{name:"resolveSignIn",j:[bA()]}}),tt(P0.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[bA(),X("displayName",!0)]},bd:{name:"unenroll",j:[ft({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:IA},X(),"multiFactorInfoIdentifier")]}}),tt(a_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ht(Iy,"parseLink",lC,[X("link")]),ht(e_,"assertion",function(o){return new Yk(o)},[lo("phone")]),function(){if(typeof ee!="undefined"&&ee.INTERNAL&&ee.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:dd,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:by,VERIFY_AND_CHANGE_EMAIL:Jl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Dr,AuthCredential:Wa,Error:A};ht(o,"EmailAuthProvider",cr,[]),ht(o,"FacebookAuthProvider",ys,[]),ht(o,"GithubAuthProvider",_s,[]),ht(o,"GoogleAuthProvider",ws,[]),ht(o,"TwitterAuthProvider",Ka,[]),ht(o,"OAuthProvider",Kn,[X("providerId")]),ht(o,"SAMLAuthProvider",CC,[X("providerId")]),ht(o,"PhoneAuthProvider",ki,[XB()]),ht(o,"RecaptchaVerifier",a_,[ft(X(),YB(),"recaptchaContainer"),vt("recaptchaParameters",!0),JB()]),ht(o,"ActionCodeURL",Iy,[]),ht(o,"PhoneMultiFactorGenerator",e_,[]),ee.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Dr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),ee.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ee.registerVersion("@firebase/auth","0.16.8"),ee.INTERNAL.extendNamespace({User:Gn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Sz="@firebase/database",Cz="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nL="";function rL(e){nL=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kz=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),It(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ff(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Az=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return rr(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iL=function(e){try{if(typeof window!="undefined"&&typeof window[e]!="undefined"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kz(t)}}catch{}return new Az},Vs=iL("localStorage"),lE=iL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xu=new Ea("@firebase/database"),oL=function(){var e=1;return function(){return e++}}(),sL=function(e){var t=H6(e),n=new $6;n.update(t);var r=n.digest();return Ig.encodeByteArray(r)},mh=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=mh.apply(null,i):typeof i=="object"?n+=It(i):n+=i,n+=" "}return n},Gs=null,ZN=!0,aL=function(e,t){$(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(xu.logLevel=we.VERBOSE,Gs=xu.log.bind(xu),t&&lE.set("logging_enabled",!0)):typeof e=="function"?Gs=e:(Gs=null,lE.remove("logging_enabled"))},xt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(ZN===!0&&(ZN=!1,Gs===null&&lE.get("logging_enabled")===!0&&aL(!0)),Gs){var n=mh.apply(null,e);Gs(n)}},yh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];xt.apply(void 0,ve([e],Ht(t)))}},cE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+mh.apply(void 0,ve([],Ht(e)));xu.error(n)},gi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+mh.apply(void 0,ve([],Ht(e)));throw xu.error(n),new Error(n)},Gt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+mh.apply(void 0,ve([],Ht(e)));xu.warn(n)},Nz=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Cg=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Rz=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zi="[MIN_NAME]",mi="[MAX_NAME]",Ta=function(e,t){if(e===t)return 0;if(e===zi||t===mi)return-1;if(t===zi||e===mi)return 1;var n=wv(e),r=wv(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},Pz=function(e,t){return e===t?0:e<t?-1:1},xc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+It(t))},Eb=function(e){if(typeof e!="object"||e===null)return It(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=It(t[i]),r+=":",r+=Eb(e[t[i]]);return r+="}",r},uL=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function At(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var lL=function(e){$(!Cg(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var p=h.join(""),g="";for(c=0;c<64;c+=8){var m=parseInt(p.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),g=g+m}return g.toLowerCase()},Oz=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xz=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Dz(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var Lz=new RegExp("^-?(0*)\\d{1,10}$"),cL=-2147483648,Tb=2147483647,wv=function(e){if(Lz.test(e)){var t=Number(e);if(t>=cL&&t<=Tb)return t}return null},bl=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw Gt("Exception was thrown by user callback.",n),t},Math.floor(0))}},Mz=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},af=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fz=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){Gt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uz=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gt(t)},e}(),uf=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bb="5",fL="v",hL="s",dL="r",pL="f",vL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gL="ls",jz="p",fE="ac",mL="websocket",yL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ib=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vs.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Vs.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function Vz(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function _L(e,t,n){$(typeof t=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");var r;if(t===mL)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===yL)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Vz(e)&&(n.ns=e.namespace);var i=[];return At(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bz=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),rr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return HD(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M_={},F_={};function Sb(e){var t=e.toString();return M_[t]||(M_[t]=new Bz),M_[t]}function $z(e,t){var n=e.toString();return F_[n]||(F_[n]=t()),F_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qz=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(p){l[p]&&bl(function(){r.onMessage_(l[p])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eR="start",zz="close",Wz="pLPCommand",Hz="pRTLPCB",wL="id",EL="pw",TL="ser",Kz="cb",Gz="seg",Qz="ts",Yz="d",Xz="dframe",bL=1870,IL=30,Jz=bL-IL,Zz=25e3,eW=3e4,Cb=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yh(t),this.stats_=Sb(n),this.urlFn=function(h){return c.appCheckToken&&(h[fE]=c.appCheckToken),_L(n,yL,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new qz(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(eW)),Rz(function(){if(!r.isClosed_){r.scriptTagHolder=new tW(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Ht(a,5),h=c[0],p=c[1],g=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===eR)r.id=p,r.password=g;else if(h===zz)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Ht(a,2),h=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,p)},function(){r.onClosed_()},r.urlFn);var i={};i[eR]="t",i[TL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[Kz]=r.scriptTagHolder.uniqueCallbackIdentifier),i[fL]=bb,r.transportSessionId&&(i[hL]=r.transportSessionId),r.lastSessionId&&(i[gL]=r.lastSessionId),r.applicationId&&(i[jz]=r.applicationId),r.appCheckToken&&(i[fE]=r.appCheckToken),typeof location!="undefined"&&location.hostname&&vL.test(location.hostname)&&(i[dL]=pL);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!Oz()&&!xz()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=It(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=WD(n),i=uL(r,Jz),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[Xz]="t",r[wL]=t,r[EL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=It(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),tW=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oL(),window[Wz+this.uniqueCallbackIdentifier]=t,window[Hz+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){xt("frame writing exception"),c.stack&&xt(c.stack),xt(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||xt("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[wL]=this.myID,t[EL]=this.myPW,t[TL]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+IL+r.length<=bL){var a=this.pendingSegs.shift();r=r+"&"+Gz+i+"="+a.seg+"&"+Qz+i+"="+a.ts+"&"+Yz+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(Zz)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){xt("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nW=16384,rW=45e3,Ev=null;typeof MozWebSocket!="undefined"?Ev=MozWebSocket:typeof WebSocket!="undefined"&&(Ev=WebSocket);var Os=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yh(this.connId),this.stats_=Sb(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[fL]=bb,typeof location!="undefined"&&location.hostname&&vL.test(location.hostname)&&(s[dL]=pL),n&&(s[hL]=n),r&&(s[gL]=r),i&&(s[fE]=i),_L(t,mL,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vs.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!QD()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Ev(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var p=h.message||h.data;p&&r.log_(p),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator!="undefined"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Ev!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return Vs.isInMemoryStorage||Vs.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){Vs.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Ff(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if($(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=It(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=uL(n,nW);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(rW))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iW=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Cb,Os]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Os&&Os.isAvailable(),s=i&&!Os.previouslyFailed();if(t.webSocketOnly&&(i||Gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Os];else{var a=this.transports_=[];try{for(var l=Ft(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oW=6e4,sW=5e3,aW=10*1024,uW=100*1024,U_="t",tR="d",lW="s",nR="r",cW="e",rR="o",iR="a",oR="n",sR="p",fW="h",SL=function(){function e(t,n,r,i,s,a,l,c,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yh("c:"+this.id+":"),this.transportManager_=new iW(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=af(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>uW?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>aW?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(U_ in t){var n=t[U_];n===iR?this.upgradeIfSecondaryHealthy_():n===nR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=xc("t",t),r=xc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sR,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:iR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:oR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=xc("t",t),r=xc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=xc(U_,t);if(tR in t){var r=t[tR];if(n===fW)this.onHandshake_(r);else if(n===oR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===lW?this.onConnectionShutdown_(r):n===nR?this.onReset_(r):n===cW?cE("Server Error: "+r):n===rR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cE("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),bb!==r&&Gt("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),af(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(oW))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):af(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(sW))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sR,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kL=function(){function e(t){this.allowedEvents_=t,this.listeners_={},$(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=ve([],Ht(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){$(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aR=function(e){K(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!vb()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return $(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(kL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uR=32,lR=768,Oe=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Re(){return new Oe("")}function me(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ho(e){return e.pieces_.length-e.pieceNum_}function Ue(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Oe(e.pieces_,t)}function kb(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function hW(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Uf(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function AL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Oe(t,0)}function Ye(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Oe)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Oe(n,0)}function ye(e){return e.pieceNum_>=e.pieces_.length}function In(e,t){var n=me(e),r=me(t);if(n===null)return t;if(n===r)return In(Ue(e),Ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function dW(e,t){for(var n=Uf(e,0),r=Uf(t,0),i=0;i<n.length&&i<r.length;i++){var s=Ta(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Ab(e,t){if(Ho(e)!==Ho(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function pr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ho(e)>Ho(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var pW=function(){function e(t,n){this.errorPrefix_=n,this.parts_=Uf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Sg(this.parts_[r]);NL(this)}return e}();function vW(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Sg(t),NL(e)}function gW(e){var t=e.parts_.pop();e.byteLength_-=Sg(t),e.parts_.length>0&&(e.byteLength_-=1)}function NL(e){if(e.byteLength_>lR)throw new Error(e.errorPrefix_+"has a key path longer than "+lR+" bytes ("+e.byteLength_+").");if(e.parts_.length>uR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uR+") or object contains a cycle "+Rs(e))}function Rs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mW=function(e){K(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(i="visibilitychange",r="hidden"):typeof document.mozHidden!="undefined"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden!="undefined"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden!="undefined"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return $(n==="visible","Unknown event type: "+n),[this.visible_]},t}(kL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dc=1e3,yW=60*5*1e3,_W=3*1e3,cR=30*1e3,wW=1.3,EW=3e4,TW="server_kill",fR=3,Qs=function(e){K(t,e);function t(n,r,i,s,a,l,c,h){var p=e.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=s,p.onServerInfoUpdate_=a,p.authTokenProvider_=l,p.appCheckTokenProvider_=c,p.authOverride_=h,p.id=t.nextPersistentConnectionId_++,p.log_=yh("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=Dc,p.maxReconnectDelay_=yW,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,h&&!QD())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return mW.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&aR.getInstance().on("online",p.onOnline_,p),p}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(It(a)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new Lt,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},_W),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var p=h.d,g=h.s;t.warnOnListenWarnings_(p,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),g!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(g,p))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&rr(n,"w")){var i=ia(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Gt("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||V6(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cR)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=j6(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),$(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+It(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):cE("Unrecognized action received from server: "+It(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Dc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>EW&&(this.reconnectDelay_=Dc),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wW)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,g,m,y,E,S,w=this;return N(this,function(T){switch(T.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},p=function(I){$(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(I)},this.realtime_={close:h,sendRequest:p},g=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,T.label=1;case 1:return T.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)])];case 2:return m=Ht.apply(void 0,[T.sent(),2]),y=m[0],E=m[1],l?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,c=new SL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(I){Gt(I+" ("+w.repoInfo_.toString()+")"),w.interrupt(TW)},a)),[3,4];case 3:return S=T.sent(),this.log_("Failed to get token: "+S),l||(this.repoInfo_.nodeAdmin&&Gt(S),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){xt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){xt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],aE(this.interruptReasons_)&&(this.reconnectDelay_=Dc,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return Eb(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Oe(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){xt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fR&&(this.reconnectDelay_=cR,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){xt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fR&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=Ft(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,Ft(c.values())),p=h.next();!p.done;p=h.next()){var g=p.value;this.sendListen_(g)}}catch(E){i={error:E}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(E){n={error:E}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+nL.replace(/\./g,"-")]=1,vb()?n["framework.cordova"]=1:GD()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=aR.getInstance().currentlyOnline();return aE(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(CL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kg=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Ie(zi,t),i=new Ie(zi,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Ie.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fp,RL=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return fp},set:function(n){fp=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Ta(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw El("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(mi,fp)},t.prototype.makePost=function(n,r){return $(typeof n=="string","KeyIndex indexValue must always be a string."),new Ie(n,fp)},t.prototype.toString=function(){return".key"},t}(kg),fi=new RL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hp=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Br=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=i!=null?i:Mi.EMPTY_NODE,this.right=s!=null?s:Mi.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Mi.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Mi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),bW=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Br(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Mi=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Br.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Br.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new hp(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new hp(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new hp(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new hp(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new bW,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(e,t){return Ta(e.name,t.name)}function Nb(e,t){return Ta(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hE;function SW(e){hE=e}var PL=function(e){return typeof e=="number"?"number:"+lL(e):"string:"+e},OL=function(e){if(e.isLeafNode()){var t=e.val();$(typeof t=="string"||typeof t=="number"||typeof t=="object"&&rr(t,".sv"),"Priority must be a string or number.")}else $(e===hE||e.isEmpty(),"priority of unexpected type.");$(e===hE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hR,zu=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),OL(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return hR},set:function(t){hR=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ye(t)?this:me(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=me(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||Ho(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+PL(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=lL(this.value_):t+=this.value_,this.lazyHash_=sL(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:($(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return $(i>=0,"Unknown leaf type: "+n),$(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xL,DL;function CW(e){xL=e}function kW(e){DL=e}var AW=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Ta(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(mi,new zu("[PRIORITY-POST]",DL))},t.prototype.makePost=function(n,r){var i=xL(n);return new Ie(r,new zu("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(kg),$e=new AW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NW=Math.log(2),RW=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/NW,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),Tv=function(e,t,n,r){e.sort(t);var i=function(c,h){var p=h-c,g,m;if(p===0)return null;if(p===1)return g=e[c],m=n?n(g):g,new Br(m,g.node,Br.BLACK,null,null);var y=parseInt(p/2,10)+c,E=i(c,y),S=i(y+1,h);return g=e[y],m=n?n(g):g,new Br(m,g.node,Br.BLACK,E,S)},s=function(c){for(var h=null,p=null,g=e.length,m=function(T,I){var k=g-T,P=g;g-=T;var x=i(k+1,P),O=e[k],F=n?n(O):O;y(new Br(F,O.node,I,null,x))},y=function(T){h?(h.left=T,h=T):(p=T,h=T)},E=0;E<c.count;++E){var S=c.nextBitIsOne(),w=Math.pow(2,c.count-(E+1));S?m(w,Br.BLACK):(m(w,Br.BLACK),m(w,Br.RED))}return p},a=new RW(e.length),l=s(a);return new Mi(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j_,ou={},bv=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return $(ou&&$e,"ChildrenNode.ts has not been loaded"),j_=j_||new e({".priority":ou},{".priority":$e}),j_},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=ia(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Mi?n:null},e.prototype.hasIndex=function(t){return rr(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){$(t!==fi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Ie.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=Tv(r,t.getCompare()):l=ou;var c=t.toString(),h=ie({},this.indexSet_);h[c]=t;var p=ie({},this.indexes_);return p[c]=l,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=yv(this.indexes_,function(s,a){var l=ia(r.indexSet_,a);if($(l,"Missing index implementation for "+a),s===ou)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(Ie.Wrap),p=h.getNext();p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),Tv(c,l.getCompare())}else return ou;else{var g=n.get(t.name),m=s;return g&&(m=m.remove(new Ie(t.name,g))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=yv(this.indexes_,function(i){if(i===ou)return i;var s=n.get(t.name);return s?i.remove(new Ie(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lc,fe=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&OL(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Lc||(Lc=new e(new Mi(Nb),null,bv.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Lc},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Lc:n},e.prototype.getChild=function(t){var n=me(t);return n===null?this:this.getImmediateChild(n).getChild(Ue(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if($(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Ie(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Lc:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=me(t);if(r===null)return n;$(me(t)!==".priority"||Ho(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(Ue(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild($e,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+PL(this.getPriority().val())+":"),this.forEachChild($e,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":sL(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Ie(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Ie(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Ie(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Ie.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Ie.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===_h?-1:0},e.prototype.withIndex=function(t){if(t===fi||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===fi||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator($e),i=n.getIterator($e),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===fi?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),PW=function(e){K(t,e);function t(){return e.call(this,new Mi(Nb),fe.EMPTY_NODE,bv.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return fe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(fe),_h=new PW;Object.defineProperties(Ie,{MIN:{value:new Ie(zi,fe.EMPTY_NODE)},MAX:{value:new Ie(mi,_h)}});RL.__EMPTY_NODE=fe.EMPTY_NODE;zu.__childrenNodeConstructor=fe;SW(_h);kW(_h);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OW=!0;function nt(e,t){if(t===void 0&&(t=null),e===null)return fe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),$(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new zu(n,nt(t))}if(!(e instanceof Array)&&OW){var r=[],i=!1,s=e;if(At(s,function(h,p){if(h.substring(0,1)!=="."){var g=nt(p);g.isEmpty()||(i=i||!g.getPriority().isEmpty(),r.push(new Ie(h,g)))}}),r.length===0)return fe.EMPTY_NODE;var a=Tv(r,IW,function(h){return h.name},Nb);if(i){var l=Tv(r,$e.getCompare());return new fe(a,nt(t),new bv({".priority":l},{".priority":$e}))}else return new fe(a,nt(t),bv.Default)}else{var c=fe.EMPTY_NODE;return At(e,function(h,p){if(rr(e,h)&&h.substring(0,1)!=="."){var g=nt(p);(g.isLeafNode()||!g.isEmpty())&&(c=c.updateImmediateChild(h,g))}}),c.updatePriority(nt(t))}}CW(nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rb=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,$(!ye(n)&&me(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Ta(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=nt(n),s=fe.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ie(r,s)},t.prototype.maxPost=function(){var n=fe.EMPTY_NODE.updateChild(this.indexPath_,_h);return new Ie(mi,n)},t.prototype.toString=function(){return Uf(this.indexPath_,0).join("/")},t}(kg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xW=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Ta(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return Ie.MAX},t.prototype.makePost=function(n,r){var i=nt(n);return new Ie(r,i)},t.prototype.toString=function(){return".value"},t}(kg),Pb=new xW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dE="-",LL="z",ML=786,DW=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=Wu.charAt(n%64),n=Math.floor(n/64);$(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Wu.charAt(t[i]);return $(a.length===20,"nextPushId: Length should be 20."),a}}(),dR=function(e){if(e===""+Tb)return dE;var t=wv(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<ML)return n.push(dE),n.join("");for(var i=n.length-1;i>=0&&n[i]===LL;)i--;if(i===-1)return mi;var s=n[i],a=Wu.charAt(Wu.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},pR=function(e){if(e===""+cL)return zi;var t=wv(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===dE?n.length===1?""+Tb:(delete n[n.length-1],n.join("")):(n[n.length-1]=Wu.charAt(Wu.indexOf(n[n.length-1])-1),n.join("")+LL.repeat(ML-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(e){return{type:"value",snapshotNode:e}}function Hu(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function jf(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Vf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function LW(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ob=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){$(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(jf(n,l)):$(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(Hu(n,r)):a.trackChildChange(Vf(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild($e,function(i,s){n.hasChild(i)||r.trackChildChange(jf(i,s))}),n.isLeafNode()||n.forEachChild($e,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Vf(i,s,a))}else r.trackChildChange(Hu(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?fe.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UL=function(){function e(t){this.indexedFilter_=new Ob(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Ie(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(fe.EMPTY_NODE);var s=this;return n.forEachChild($e,function(a,l){s.matches(new Ie(a,l))||(i=i.updateImmediateChild(a,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MW=function(){function e(t){this.rangedFilter_=new UL(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Ie(n,r))||(r=fe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=fe.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(fe.EMPTY_NODE);var h=void 0,p=void 0,g=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();g=function(w,T){return m(T,w)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&g(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&g(l,p)<=0;c?a++:i=i.updateImmediateChild(l.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(I,k){return l(k,I)}}else a=this.index_.getCompare();var c=t;$(c.numChildren()===this.limit_,"");var h=new Ie(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var m=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,p,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var E=y==null?1:a(y,h),S=g&&!r.isEmpty()&&E>=0;if(S)return s!=null&&s.trackChildChange(Vf(n,r,m)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(jf(n,m));var w=c.updateImmediateChild(n,fe.EMPTY_NODE),T=y!=null&&this.rangedFilter_.matches(y);return T?(s!=null&&s.trackChildChange(Hu(y.name,y.node)),w.updateImmediateChild(y.name,y.node)):w}else return r.isEmpty()?t:g&&a(p,h)>=0?(s!=null&&(s.trackChildChange(jf(p.name,p.node)),s.trackChildChange(Hu(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,fe.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jL=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$e}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zi},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===$e},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function FW(e){return e.loadsAllData()?new Ob(e.getIndex()):e.hasLimit()?new MW(e):new UL(e)}function UW(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function jW(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function pE(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function VW(e,t,n){var r;if(e.index_===fi)typeof t=="string"&&(t=dR(t)),r=pE(e,t,n);else{var i=void 0;n==null?i=mi:i=dR(n),r=pE(e,t,i)}return r.startAfterSet_=!0,r}function vE(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function BW(e,t,n){var r,i;return e.index_===fi?(typeof t=="string"&&(t=pR(t)),i=vE(e,t,n)):(n==null?r=zi:r=pR(n),i=vE(e,t,r)),i.endBeforeSet_=!0,i}function Ag(e,t){var n=e.copy();return n.index_=t,n}function vR(e){var t={};if(e.isDefault())return t;var n;return e.index_===$e?n="$priority":e.index_===Pb?n="$value":e.index_===fi?n="$key":($(e.index_ instanceof Rb,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=It(n),e.startSet_&&(t.startAt=It(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+It(e.indexStartName_))),e.endSet_&&(t.endAt=It(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+It(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function gR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==$e&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $W=function(e){K(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=yh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:($(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var p=vR(n._queryParams);this.restRequest_(l+".json",p,function(g,m){var y=m;if(g===404&&(y=null,g=null),g===null&&a.onDataUpdate_(l,y,!1,i),ia(a.listens_,c)===h){var E;g?g===401?E="permission_denied":E="rest_error:"+g:E="ok",s(E,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=vR(n._queryParams),s=n._path.toString(),a=new Lt;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=Ht(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var p=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+B6(r);s.log_("Sending REST request for "+p);var g=new XMLHttpRequest;g.onreadystatechange=function(){if(i&&g.readyState===4){s.log_("REST Response for "+p+" received. status:",g.status,"response:",g.responseText);var m=null;if(g.status>=200&&g.status<300){try{m=Ff(g.responseText)}catch{Gt("Failed to parse JSON response for "+p+": "+g.responseText)}i(null,m)}else g.status!==401&&g.status!==404&&Gt("Got unsuccessful REST response for "+p+" Status: "+g.status),i(g.status);i=null}},g.open("GET",p,!0),g.send()})},t}(CL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qW=function(){function e(){this.rootNode_=fe.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(){return{value:null,children:new Map}}function Il(e,t,n){if(ye(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=me(t);e.children.has(r)||e.children.set(r,Iv());var i=e.children.get(r);t=Ue(t),Il(i,t,n)}}function gE(e,t){if(ye(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild($e,function(s,a){Il(e,new Oe(s),a)}),gE(e,t)}else if(e.children.size>0){var r=me(t);if(t=Ue(t),e.children.has(r)){var i=gE(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function mE(e,t,n){e.value!==null?n(t,e.value):zW(e,function(r,i){var s=new Oe(t.toString()+"/"+r);mE(i,s,n)})}function zW(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VL=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=ie({},t);return this.last_&&At(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mR=10*1e3,WW=30*1e3,HW=5*60*1e3,KW=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new VL(t);var r=mR+(WW-mR)*Math.random();af(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;At(n,function(s,a){a>0&&rr(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),af(this.reportStats_.bind(this),Math.floor(Math.random()*2*HW))},e}();function GW(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qr||(qr={}));function xb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Db(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Lb(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QW=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=qr.ACK_USER_WRITE,this.source=xb()}return e.prototype.operationForChild=function(t){if(ye(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Oe(t));return new e(Re(),n,this.revert)}else return $(me(this.path)===t,"operationForChild called for unrelated child."),new e(Ue(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BL=function(){function e(t,n){this.source=t,this.path=n,this.type=qr.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ye(this.path)?new e(this.source,Re()):new e(this.source,Ue(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ng=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=qr.OVERWRITE}return e.prototype.operationForChild=function(t){return ye(this.path)?new e(this.source,Re(),this.snap.getImmediateChild(t)):new e(this.source,Ue(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mb=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=qr.MERGE}return e.prototype.operationForChild=function(t){if(ye(this.path)){var n=this.children.subtree(new Oe(t));return n.isEmpty()?null:n.value?new Ng(this.source,Re(),n.value):new e(this.source,Re(),n)}else return $(me(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ue(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ko=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(ye(t))return this.isFullyInitialized()&&!this.filtered_;var n=me(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YW=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function XW(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(LW(a.childName,a.snapshotNode))}),Mc(e,i,"child_removed",t,r,n),Mc(e,i,"child_added",t,r,n),Mc(e,i,"child_moved",s,r,n),Mc(e,i,"child_changed",t,r,n),Mc(e,i,"value",t,r,n),i}function Mc(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return ZW(e,l,c)}),a.forEach(function(l){var c=JW(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function JW(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function ZW(e,t,n){if(t.childName==null||n.childName==null)throw El("Should only compare child_ events.");var r=new Ie(t.childName,t.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(e,t){return{eventCache:e,serverCache:t}}function lf(e,t,n,r){return Rg(new Ko(t,n,r),e.serverCache)}function $L(e,t,n,r){return Rg(e.eventCache,new Ko(t,n,r))}function Sv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function oa(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V_,eH=function(){return V_||(V_=new Mi(Pz)),V_},ir=function(){function e(t,n){n===void 0&&(n=eH()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return At(t,function(r,i){n=n.set(new Oe(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Re(),value:this.value};if(ye(t))return null;var r=me(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(Ue(t),n);if(s!=null){var a=Ye(new Oe(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(ye(t))return this;var n=me(t),r=this.children.get(n);return r!==null?r.subtree(Ue(t)):new e(null)},e.prototype.set=function(t,n){if(ye(t))return new e(n,this.children);var r=me(t),i=this.children.get(r)||new e(null),s=i.set(Ue(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(ye(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=me(t),r=this.children.get(n);if(r){var i=r.remove(Ue(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(ye(t))return this.value;var n=me(t),r=this.children.get(n);return r?r.get(Ue(t)):null},e.prototype.setTree=function(t,n){if(ye(t))return n;var r=me(t),i=this.children.get(r)||new e(null),s=i.setTree(Ue(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Re(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(Ye(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Re(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(ye(t))return null;var s=me(t),a=this.children.get(s);return a?a.findOnPath_(Ue(t),Ye(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Re(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(ye(t))return this;this.value&&r(n,this.value);var i=me(t),s=this.children.get(i);return s?s.foreachOnPath_(Ue(t),Ye(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Re(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Ye(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new ir(null))},e}();function cf(e,t,n){if(ye(t))return new Vi(new ir(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=In(i,t);return s=s.updateChild(a,n),new Vi(e.writeTree_.set(i,s))}else{var l=new ir(n),c=e.writeTree_.setTree(t,l);return new Vi(c)}}function yE(e,t,n){var r=e;return At(n,function(i,s){r=cf(r,Ye(t,i),s)}),r}function yR(e,t){if(ye(t))return Vi.empty();var n=e.writeTree_.setTree(t,new ir(null));return new Vi(n)}function _E(e,t){return ba(e,t)!=null}function ba(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(In(n.path,t)):null}function _R(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild($e,function(r,i){t.push(new Ie(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Ie(r,i.value))}),t}function Lo(e,t){if(ye(t))return e;var n=ba(e,t);return n!=null?new Vi(new ir(n)):new Vi(e.writeTree_.subtree(t))}function wE(e){return e.writeTree_.isEmpty()}function Ku(e,t){return qL(Re(),e.writeTree_,t)}function qL(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?($(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=qL(Ye(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ye(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(e,t){return KL(t,e)}function tH(e,t,n,r,i){$(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=cf(e.visibleWrites,t,n)),e.lastWriteId=r}function nH(e,t,n,r){$(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=yE(e.visibleWrites,t,n),e.lastWriteId=r}function rH(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function iH(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});$(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&oH(l,r.path)?i=!1:pr(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return sH(e),!0;if(r.snap)e.visibleWrites=yR(e.visibleWrites,r.path);else{var c=r.children;At(c,function(h){e.visibleWrites=yR(e.visibleWrites,Ye(r.path,h))})}return!0}else return!1}function oH(e,t){if(e.snap)return pr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&pr(Ye(e.path,n),t))return!0;return!1}function sH(e){e.visibleWrites=zL(e.allWrites,aH,Re()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function aH(e){return e.visible}function zL(e,t,n){for(var r=Vi.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)pr(n,a)?(l=In(n,a),r=cf(r,l,s.snap)):pr(a,n)&&(l=In(a,n),r=cf(r,Re(),s.snap.getChild(l)));else if(s.children){if(pr(n,a))l=In(n,a),r=yE(r,l,s.children);else if(pr(a,n))if(l=In(a,n),ye(l))r=yE(r,Re(),s.children);else{var c=ia(s.children,me(l));if(c){var h=c.getChild(Ue(l));r=cf(r,Re(),h)}}}else throw El("WriteRecord should have .snap or .children")}}return r}function WL(e,t,n,r,i){if(!r&&!i){var s=ba(e.visibleWrites,t);if(s!=null)return s;var a=Lo(e.visibleWrites,t);if(wE(a))return n;if(n==null&&!_E(a,Re()))return null;var l=n||fe.EMPTY_NODE;return Ku(a,l)}else{var c=Lo(e.visibleWrites,t);if(!i&&wE(c))return n;if(!i&&n==null&&!_E(c,Re()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(pr(m.path,t)||pr(t,m.path))},p=zL(e.allWrites,h,t),l=n||fe.EMPTY_NODE;return Ku(p,l)}}function uH(e,t,n){var r=fe.EMPTY_NODE,i=ba(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild($e,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=Lo(e.visibleWrites,t);return n.forEachChild($e,function(l,c){var h=Ku(Lo(s,new Oe(l)),c);r=r.updateImmediateChild(l,h)}),_R(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=Lo(e.visibleWrites,t);return _R(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function lH(e,t,n,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Ye(t,n);if(_E(e.visibleWrites,s))return null;var a=Lo(e.visibleWrites,s);return wE(a)?i.getChild(n):Ku(a,i.getChild(n))}function cH(e,t,n,r){var i=Ye(t,n),s=ba(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Lo(e.visibleWrites,i);return Ku(a,r.getNode().getImmediateChild(n))}else return null}function fH(e,t){return ba(e.visibleWrites,t)}function hH(e,t,n,r,i,s,a){var l,c=Lo(e.visibleWrites,t),h=ba(c,Re());if(h!=null)l=h;else if(n!=null)l=Ku(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var p=[],g=a.getCompare(),m=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=m.getNext();y&&p.length<i;)g(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function dH(){return{visibleWrites:Vi.empty(),allWrites:[],lastWriteId:-1}}function Cv(e,t,n,r){return WL(e.writeTree,e.treePath,t,n,r)}function Fb(e,t){return uH(e.writeTree,e.treePath,t)}function wR(e,t,n,r){return lH(e.writeTree,e.treePath,t,n,r)}function kv(e,t){return fH(e.writeTree,Ye(e.treePath,t))}function pH(e,t,n,r,i,s){return hH(e.writeTree,e.treePath,t,n,r,i,s)}function Ub(e,t,n){return cH(e.writeTree,e.treePath,t,n)}function HL(e,t){return KL(Ye(e.treePath,t),e.writeTree)}function KL(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vH=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Vf(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,jf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Hu(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Vf(r,t.snapshotNode,i.oldSnap));else throw El("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gH=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),GL=new gH,jb=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new Ko(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ub(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:oa(this.viewCache_),s=pH(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(e){return{filter:e}}function yH(e,t){$(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),$(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function _H(e,t,n,r,i){var s=new vH,a,l;if(n.type===qr.OVERWRITE){var c=n;c.source.fromUser?a=EE(e,t,c.path,c.snap,r,i,s):($(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!ye(c.path),a=Av(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===qr.MERGE){var h=n;h.source.fromUser?a=EH(e,t,h.path,h.children,r,i,s):($(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=TE(e,t,h.path,h.children,r,i,l,s))}else if(n.type===qr.ACK_USER_WRITE){var p=n;p.revert?a=IH(e,t,p.path,r,i,s):a=TH(e,t,p.path,p.affectedTree,r,i,s)}else if(n.type===qr.LISTEN_COMPLETE)a=bH(e,t,n.path,r,s);else throw El("Unknown operation type: "+n.type);var g=s.getChanges();return wH(t,a,g),{viewCache:a,changes:g}}function wH(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Sv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(FL(Sv(t)))}}function QL(e,t,n,r,i,s){var a=t.eventCache;if(kv(r,n)!=null)return t;var l=void 0,c=void 0;if(ye(n))if($(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=oa(t),p=h instanceof fe?h:fe.EMPTY_NODE,g=Fb(r,p);l=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{var m=Cv(r,oa(t));l=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=me(n);if(y===".priority"){$(Ho(n)===1,"Can't have a priority with additional path components");var E=a.getNode();c=t.serverCache.getNode();var S=wR(r,n,E,c);S!=null?l=e.filter.updatePriority(E,S):l=a.getNode()}else{var w=Ue(n),T=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var I=wR(r,n,a.getNode(),c);I!=null?T=a.getNode().getImmediateChild(y).updateChild(w,I):T=a.getNode().getImmediateChild(y)}else T=Ub(r,y,t.serverCache);T!=null?l=e.filter.updateChild(a.getNode(),y,T,w,i,s):l=a.getNode()}}return lf(t,l,a.isFullyInitialized()||ye(n),e.filter.filtersNodes())}function Av(e,t,n,r,i,s,a,l){var c=t.serverCache,h,p=a?e.filter:e.filter.getIndexedFilter();if(ye(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var g=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),g,null)}else{var m=me(n);if(!c.isCompleteForPath(n)&&Ho(n)>1)return t;var y=Ue(n),E=c.getNode().getImmediateChild(m),S=E.updateChild(y,r);m===".priority"?h=p.updatePriority(c.getNode(),S):h=p.updateChild(c.getNode(),m,S,y,GL,null)}var w=$L(t,h,c.isFullyInitialized()||ye(n),p.filtersNodes()),T=new jb(i,w,s);return QL(e,w,n,i,T,l)}function EE(e,t,n,r,i,s,a){var l=t.eventCache,c,h,p=new jb(i,t,s);if(ye(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=lf(t,h,!0,e.filter.filtersNodes());else{var g=me(n);if(g===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=lf(t,h,l.isFullyInitialized(),l.isFiltered());else{var m=Ue(n),y=l.getNode().getImmediateChild(g),E=void 0;if(ye(m))E=r;else{var S=p.getCompleteChild(g);S!=null?kb(m)===".priority"&&S.getChild(AL(m)).isEmpty()?E=S:E=S.updateChild(m,r):E=fe.EMPTY_NODE}if(y.equals(E))c=t;else{var w=e.filter.updateChild(l.getNode(),g,E,m,p,a);c=lf(t,w,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function ER(e,t){return e.eventCache.isCompleteForChild(t)}function EH(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var p=Ye(n,c);ER(t,me(p))&&(l=EE(e,l,p,h,i,s,a))}),r.foreach(function(c,h){var p=Ye(n,c);ER(t,me(p))||(l=EE(e,l,p,h,i,s,a))}),l}function TR(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function TE(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;ye(n)?h=r:h=new ir(null).setTree(n,r);var p=t.serverCache.getNode();return h.children.inorderTraversal(function(g,m){if(p.hasChild(g)){var y=t.serverCache.getNode().getImmediateChild(g),E=TR(e,y,m);c=Av(e,c,new Oe(g),E,i,s,a,l)}}),h.children.inorderTraversal(function(g,m){var y=!t.serverCache.isCompleteForChild(g)&&m.value===void 0;if(!p.hasChild(g)&&!y){var E=t.serverCache.getNode().getImmediateChild(g),S=TR(e,E,m);c=Av(e,c,new Oe(g),S,i,s,a,l)}}),c}function TH(e,t,n,r,i,s,a){if(kv(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(ye(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Av(e,t,n,c.getNode().getChild(n),i,s,l,a);if(ye(n)){var h=new ir(null);return c.getNode().forEachChild(fi,function(g,m){h=h.set(new Oe(g),m)}),TE(e,t,n,h,i,s,l,a)}else return t}else{var p=new ir(null);return r.foreach(function(g,m){var y=Ye(n,g);c.isCompleteForPath(y)&&(p=p.set(g,c.getNode().getChild(y)))}),TE(e,t,n,p,i,s,l,a)}}function bH(e,t,n,r,i){var s=t.serverCache,a=$L(t,s.getNode(),s.isFullyInitialized()||ye(n),s.isFiltered());return QL(e,a,n,r,GL,i)}function IH(e,t,n,r,i,s){var a;if(kv(r,n)!=null)return t;var l=new jb(r,t,i),c=t.eventCache.getNode(),h=void 0;if(ye(n)||me(n)===".priority"){var p=void 0;if(t.serverCache.isFullyInitialized())p=Cv(r,oa(t));else{var g=t.serverCache.getNode();$(g instanceof fe,"serverChildren would be complete if leaf node"),p=Fb(r,g)}p=p,h=e.filter.updateFullNode(c,p,s)}else{var m=me(n),y=Ub(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=c.getImmediateChild(m)),y!=null?h=e.filter.updateChild(c,m,y,Ue(n),l,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(c,m,fe.EMPTY_NODE,Ue(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Cv(r,oa(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||kv(r,Re())!=null,lf(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SH=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new Ob(r.getIndex()),s=FW(r);this.processor_=mH(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(fe.EMPTY_NODE,l.getNode(),null),p=new Ko(c,a.isFullyInitialized(),i.filtersNodes()),g=new Ko(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Rg(g,p),this.eventGenerator_=new YW(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function CH(e){return e.viewCache_.serverCache.getNode()}function kH(e){return Sv(e.viewCache_)}function AH(e,t){var n=oa(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ye(t)&&!n.getImmediateChild(me(t)).isEmpty())?n.getChild(t):null}function bR(e){return e.eventRegistrations_.length===0}function NH(e,t){e.eventRegistrations_.push(t)}function IR(e,t,n){var r=[];if(n){$(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function SR(e,t,n,r){t.type===qr.MERGE&&t.source.queryId!==null&&($(oa(e.viewCache_),"We should always have a full cache before handling merges"),$(Sv(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=_H(e.processor_,i,t,n,r);return yH(e.processor_,s.viewCache),$(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,YL(e,s.changes,s.viewCache.eventCache.getNode(),null)}function RH(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild($e,function(s,a){r.push(Hu(s,a))})}return n.isFullyInitialized()&&r.push(FL(n.getNode())),YL(e,r,n.getNode(),t)}function YL(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return XW(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nv,XL=function(){function e(){this.views=new Map}return e}();function PH(e){$(!Nv,"__referenceConstructor has already been defined"),Nv=e}function OH(){return $(Nv,"Reference.ts has not been loaded"),Nv}function xH(e){return e.views.size===0}function Vb(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return $(l!=null,"SyncTree gave us an op for an invalid query."),SR(l,t,n,r)}else{var c=[];try{for(var h=Ft(e.views.values()),p=h.next();!p.done;p=h.next()){var l=p.value;c=c.concat(SR(l,t,n,r))}}catch(g){i={error:g}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function JL(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=Cv(n,i?r:null),c=!1;l?c=!0:r instanceof fe?(l=Fb(n,r),c=!1):(l=fe.EMPTY_NODE,c=!1);var h=Rg(new Ko(l,c,!1),new Ko(r,i,!1));return new SH(t,h)}return a}function DH(e,t,n,r,i,s){var a=JL(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),NH(a,n),RH(a,n)}function LH(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=Go(e);if(a==="default")try{for(var p=Ft(e.views.entries()),g=p.next();!g.done;g=p.next()){var m=Ht(g.value,2),y=m[0],E=m[1];c=c.concat(IR(E,n,r)),bR(E)&&(e.views.delete(y),E.query._queryParams.loadsAllData()||l.push(E.query))}}catch(S){i={error:S}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else{var E=e.views.get(a);E&&(c=c.concat(IR(E,n,r)),bR(E)&&(e.views.delete(a),E.query._queryParams.loadsAllData()||l.push(E.query)))}return h&&!Go(e)&&l.push(new(OH())(t._repo,t._path)),{removed:l,events:c}}function ZL(e){var t,n,r=[];try{for(var i=Ft(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Mo(e,t){var n,r,i=null;try{for(var s=Ft(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||AH(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function e2(e,t){var n=t._queryParams;if(n.loadsAllData())return Og(e);var r=t._queryIdentifier;return e.views.get(r)}function t2(e,t){return e2(e,t)!=null}function Go(e){return Og(e)!=null}function Og(e){var t,n;try{for(var r=Ft(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rv;function MH(e){$(!Rv,"__referenceConstructor has already been defined"),Rv=e}function FH(){return $(Rv,"Reference.ts has not been loaded"),Rv}var UH=1,CR=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new ir(null),this.pendingWriteTree_=dH(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function Bb(e,t,n,r,i){return tH(e.pendingWriteTree_,t,n,r,i),i?Sl(e,new Ng(xb(),t,n)):[]}function jH(e,t,n,r){nH(e.pendingWriteTree_,t,n,r);var i=ir.fromObject(n);return Sl(e,new Mb(xb(),t,i))}function So(e,t,n){n===void 0&&(n=!1);var r=rH(e.pendingWriteTree_,t),i=iH(e.pendingWriteTree_,t);if(i){var s=new ir(null);return r.snap!=null?s=s.set(Re(),!0):At(r.children,function(a){s=s.set(new Oe(a),!0)}),Sl(e,new QW(r.path,s,n))}else return[]}function wh(e,t,n){return Sl(e,new Ng(Db(),t,n))}function VH(e,t,n){var r=ir.fromObject(n);return Sl(e,new Mb(Db(),t,r))}function BH(e,t){return Sl(e,new BL(Db(),t))}function $H(e,t,n){var r=$b(e,n);if(r){var i=qb(r),s=i.path,a=i.queryId,l=In(s,t),c=new BL(Lb(a),l);return zb(e,s,c)}else return[]}function bE(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||t2(s,t))){var l=LH(s,t,n,r);xH(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(I){return I._queryParams.loadsAllData()})!==-1,p=e.syncPointTree_.findOnPath(i,function(I,k){return Go(k)});if(h&&!p){var g=e.syncPointTree_.subtree(i);if(!g.isEmpty())for(var m=HH(g),y=0;y<m.length;++y){var E=m[y],S=E.query,w=i2(e,E);e.listenProvider_.startListening(ff(S),Pv(e,S),w.hashFn,w.onComplete)}}if(!p&&c.length>0&&!r)if(h){var T=null;e.listenProvider_.stopListening(ff(t),T)}else c.forEach(function(I){var k=e.queryToTagMap.get(Dg(I));e.listenProvider_.stopListening(ff(I),k)});KH(e,c)}return a}function qH(e,t,n,r){var i=$b(e,r);if(i!=null){var s=qb(i),a=s.path,l=s.queryId,c=In(a,t),h=new Ng(Lb(l),c,n);return zb(e,a,h)}else return[]}function zH(e,t,n,r){var i=$b(e,r);if(i){var s=qb(i),a=s.path,l=s.queryId,c=In(a,t),h=ir.fromObject(n),p=new Mb(Lb(l),c,h);return zb(e,a,p)}else return[]}function kR(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(S,w){var T=In(S,r);i=i||Mo(w,T),s=s||Go(w)});var a=e.syncPointTree_.get(r);a?(s=s||Go(a),i=i||Mo(a,Re())):(a=new XL,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=fe.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(S,w){var T=Mo(w,Re());T&&(i=i.updateImmediateChild(S,T))})}var h=t2(a,t);if(!h&&!t._queryParams.loadsAllData()){var p=Dg(t);$(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");var g=GH();e.queryToTagMap.set(p,g),e.tagToQueryMap.set(g,p)}var m=Pg(e.pendingWriteTree_,r),y=DH(a,t,n,m,i,l);if(!h&&!s){var E=e2(a,t);y=y.concat(QH(e,t,E))}return y}function xg(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=In(a,t),h=Mo(l,c);if(h)return h});return WL(i,t,s,n,r)}function WH(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,p){var g=In(h,n);r=r||Mo(p,g)});var i=e.syncPointTree_.get(n);i?r=r||Mo(i,Re()):(i=new XL,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new Ko(r,!0,!1):null,l=Pg(e.pendingWriteTree_,t._path),c=JL(i,t,l,s?a.getNode():fe.EMPTY_NODE,s);return kH(c)}function Sl(e,t){return n2(t,e.syncPointTree_,null,Pg(e.pendingWriteTree_,Re()))}function n2(e,t,n,r){if(ye(e.path))return r2(e,t,n,r);var i=t.get(Re());n==null&&i!=null&&(n=Mo(i,Re()));var s=[],a=me(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,p=HL(r,a);s=s.concat(n2(l,c,h,p))}return i&&(s=s.concat(Vb(i,e,r,n))),s}function r2(e,t,n,r){var i=t.get(Re());n==null&&i!=null&&(n=Mo(i,Re()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=HL(r,a),p=e.operationForChild(a);p&&(s=s.concat(r2(p,l,c,h)))}),i&&(s=s.concat(Vb(i,e,r,n))),s}function i2(e,t){var n=t.query,r=Pv(e,n);return{hashFn:function(){var i=CH(t)||fe.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?$H(e,n._path,r):BH(e,n._path);var s=Dz(i,n);return bE(e,n,null,s)}}}function Pv(e,t){var n=Dg(t);return e.queryToTagMap.get(n)}function Dg(e){return e._path.toString()+"$"+e._queryIdentifier}function $b(e,t){return e.tagToQueryMap.get(t)}function qb(e){var t=e.indexOf("$");return $(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Oe(e.substr(0,t))}}function zb(e,t,n){var r=e.syncPointTree_.get(t);$(r,"Missing sync point for query tag that we're tracking");var i=Pg(e.pendingWriteTree_,t);return Vb(r,n,i,null)}function HH(e){return e.fold(function(t,n,r){if(n&&Go(n)){var i=Og(n);return[i]}else{var s=[];return n&&(s=ZL(n)),At(r,function(a,l){s=s.concat(l)}),s}})}function ff(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(FH())(e._repo,e._path):e}function KH(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Dg(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function GH(){return UH++}function QH(e,t,n){var r=t._path,i=Pv(e,t),s=i2(e,n),a=e.listenProvider_.startListening(ff(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)$(!Go(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(g,m,y){if(!ye(g)&&m&&Go(m))return[Og(m).query];var E=[];return m&&(E=E.concat(ZL(m).map(function(S){return S.query}))),At(y,function(S,w){E=E.concat(w)}),E}),h=0;h<c.length;++h){var p=c[h];e.listenProvider_.stopListening(ff(p),Pv(e,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YH=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),XH=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Ye(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return xg(this.syncTree_,this.path_)},e}(),JH=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},AR=function(e,t,n){if(!e||typeof e!="object")return e;if($(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return ZH(e[".sv"],t,n);if(typeof e[".sv"]=="object")return eK(e[".sv"],t);$(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},ZH=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+e)}},eK=function(e,t,n){e.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);var i=t.node();if($(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},o2=function(e,t,n,r){return Hb(t,new XH(n,e),r)},Wb=function(e,t,n){return Hb(e,new YH(t),n)};function Hb(e,t,n){var r=e.getPriority().val(),i=AR(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=AR(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new zu(l,nt(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new zu(i))),c.forEachChild($e,function(h,p){var g=Hb(p,t.getImmediateChild(h),n);g!==p&&(s=s.updateImmediateChild(h,g))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kb=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function Lg(e,t){for(var n=t instanceof Oe?t:new Oe(t),r=e,i=me(n);i!==null;){var s=ia(r.node.children,i)||{children:{},childCount:0};r=new Kb(i,r,s),n=Ue(n),i=me(n)}return r}function Ia(e){return e.node.value}function Gb(e,t){e.node.value=t,IE(e)}function s2(e){return e.node.childCount>0}function tK(e){return Ia(e)===void 0&&!s2(e)}function Mg(e,t){At(e.node.children,function(n,r){t(new Kb(n,e,r))})}function a2(e,t,n,r){n&&!r&&t(e),Mg(e,function(i){a2(i,t,!0,r)}),n&&r&&t(e)}function nK(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Eh(e){return new Oe(e.parent===null?e.name:Eh(e.parent)+"/"+e.name)}function IE(e){e.parent!==null&&rK(e.parent,e.name,e)}function rK(e,t,n){var r=tK(n),i=rr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,IE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,IE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iK=/[\[\].#$\/\u0000-\u001F\u007F]/,oK=/[\[\].#$\u0000-\u001F\u007F]/,B_=10*1024*1024,Fg=function(e){return typeof e=="string"&&e.length!==0&&!iK.test(e)},u2=function(e){return typeof e=="string"&&e.length!==0&&!oK.test(e)},sK=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),u2(e)},Bf=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Cg(e)||e&&typeof e=="object"&&rr(e,".sv")},yi=function(e,t,n,r){r&&t===void 0||Th($n(e,"value"),t,n)},Th=function(e,t,n){var r=n instanceof Oe?new pW(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Rs(r));if(typeof t=="function")throw new Error(e+"contains a function "+Rs(r)+" with contents = "+t.toString());if(Cg(t))throw new Error(e+"contains "+t.toString()+" "+Rs(r));if(typeof t=="string"&&t.length>B_/3&&Sg(t)>B_)throw new Error(e+"contains a string greater than "+B_+" utf8 bytes "+Rs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(At(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!Fg(a)))throw new Error(e+" contains an invalid key ("+a+") "+Rs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vW(r,a),Th(e,l,r),gW(r)}),i&&s)throw new Error(e+' contains ".value" child '+Rs(r)+" in addition to actual children.")}},aK=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Uf(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!Fg(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(dW);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&pr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},l2=function(e,t,n,r){if(!(r&&t===void 0)){var i=$n(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];At(t,function(a,l){var c=new Oe(a);if(Th(i,l,Ye(n,c)),kb(c)===".priority"&&!Bf(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),aK(i,s)}},Qb=function(e,t,n){if(!(n&&t===void 0)){if(Cg(t))throw new Error($n(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Bf(t))throw new Error($n(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},uK=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error($n(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},bh=function(e,t,n,r){if(!(r&&n===void 0)&&!Fg(n))throw new Error($n(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},$f=function(e,t,n,r){if(!(r&&n===void 0)&&!u2(n))throw new Error($n(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},lK=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$f(e,t,n,r)},vr=function(e,t){if(me(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},c2=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Fg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sK(n))throw new Error($n(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},cK=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error($n(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fK=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function Ug(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!Ab(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Yb(e,t,n){Ug(e,n),f2(e,function(r){return Ab(r,t)})}function Ir(e,t,n){Ug(e,n),f2(e,function(r){return pr(r,t)||pr(t,r)})}function f2(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(hK(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function hK(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();Gs&&xt("event: "+n.toString()),bl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h2="repo_interrupt",dK=25,pK=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Iv(),this.transactionQueueTree_=new Kb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function vK(e,t,n){if(e.stats_=Sb(e.repoInfo_),e.forceRestClient_||Mz())e.server_=new $W(e.repoInfo_,function(r,i,s,a){NR(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return RR(e,!0)},0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{It(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Qs(e.repoInfo_,t,function(r,i,s,a){NR(e,r,i,s,a)},function(r){RR(e,r)},function(r){mK(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=$z(e.repoInfo_,function(){return new KW(e.stats_,e.server_)}),e.infoData_=new qW,e.infoSyncTree_=new CR({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=wh(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),Xb(e,"connected",!1),e.serverSyncTree_=new CR({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);Ir(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function d2(e){var t=e.infoData_.getNode(new Oe(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Ih(e){return JH({timestamp:d2(e)})}function NR(e,t,n,r,i){e.dataUpdateCount++;var s=new Oe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=yv(n,function(m){return nt(m)});a=zH(e.serverSyncTree_,s,l,i)}else{var c=nt(n);a=qH(e.serverSyncTree_,s,c,i)}else if(r){var h=yv(n,function(m){return nt(m)});a=VH(e.serverSyncTree_,s,h)}else{var p=nt(n);a=wh(e.serverSyncTree_,s,p)}var g=s;a.length>0&&(g=Gu(e,s)),Ir(e.eventQueue_,g,a)}function gK(e,t){e.interceptServerDataCallback_=t}function RR(e,t){Xb(e,"connected",t),t===!1&&wK(e)}function mK(e,t){At(t,function(n,r){Xb(e,n,r)})}function Xb(e,t,n){var r=new Oe("/.info/"+t),i=nt(n);e.infoData_.updateSnapshot(r,i);var s=wh(e.infoSyncTree_,r,i);Ir(e.eventQueue_,r,s)}function jg(e){return e.nextWriteId_++}function yK(e,t){var n=WH(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=nt(r).withIndex(t._queryParams.getIndex()),s=wh(e.serverSyncTree_,t._path,i);return Yb(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Cl(e,"get for query "+It(t)+" failed: "+r),Promise.reject(new Error(r))})}function Jb(e,t,n,r,i){Cl(e,"set",{path:t.toString(),value:n,priority:r});var s=Ih(e),a=nt(n,r),l=xg(e.serverSyncTree_,t),c=Wb(a,l,s),h=jg(e),p=Bb(e.serverSyncTree_,t,c,h,!0);Ug(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),function(m,y){var E=m==="ok";E||Gt("set at "+t+" failed: "+m);var S=So(e.serverSyncTree_,h,!E);Ir(e.eventQueue_,t,S),Qo(e,i,m,y)});var g=eI(e,t);Gu(e,g),Ir(e.eventQueue_,g,[])}function _K(e,t,n,r){Cl(e,"update",{path:t.toString(),value:n});var i=!0,s=Ih(e),a={};if(At(n,function(h,p){i=!1,a[h]=o2(Ye(t,h),nt(p),e.serverSyncTree_,s)}),i)xt("update() called with empty data.  Don't do anything."),Qo(e,r,"ok",void 0);else{var l=jg(e),c=jH(e.serverSyncTree_,t,a,l);Ug(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,p){var g=h==="ok";g||Gt("update at "+t+" failed: "+h);var m=So(e.serverSyncTree_,l,!g),y=m.length>0?Gu(e,t):t;Ir(e.eventQueue_,y,m),Qo(e,r,h,p)}),At(n,function(h){var p=eI(e,Ye(t,h));Gu(e,p)}),Ir(e.eventQueue_,t,[])}}function wK(e){Cl(e,"onDisconnectEvents");var t=Ih(e),n=Iv();mE(e.onDisconnect_,Re(),function(i,s){var a=o2(i,s,e.serverSyncTree_,t);Il(n,i,a)});var r=[];mE(n,Re(),function(i,s){r=r.concat(wh(e.serverSyncTree_,i,s));var a=eI(e,i);Gu(e,a)}),e.onDisconnect_=Iv(),Ir(e.eventQueue_,Re(),r)}function EK(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&gE(e.onDisconnect_,t),Qo(e,n,r,i)})}function PR(e,t,n,r){var i=nt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&Il(e.onDisconnect_,t,i),Qo(e,r,s,a)})}function TK(e,t,n,r,i){var s=nt(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&Il(e.onDisconnect_,t,s),Qo(e,i,a,l)})}function bK(e,t,n,r){if(aE(n)){xt("onDisconnect().update() called with empty data.  Don't do anything."),Qo(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&At(n,function(a,l){var c=nt(l);Il(e.onDisconnect_,Ye(t,a),c)}),Qo(e,r,i,s)})}function IK(e,t,n){var r;me(t._path)===".info"?r=kR(e.infoSyncTree_,t,n):r=kR(e.serverSyncTree_,t,n),Yb(e.eventQueue_,t._path,r)}function SE(e,t,n){var r;me(t._path)===".info"?r=bE(e.infoSyncTree_,t,n):r=bE(e.serverSyncTree_,t,n),Yb(e.eventQueue_,t._path,r)}function p2(e){e.persistentConnection_&&e.persistentConnection_.interrupt(h2)}function SK(e){e.persistentConnection_&&e.persistentConnection_.resume(h2)}function CK(e,t){if(t===void 0&&(t=!1),typeof console!="undefined"){var n;t?(e.statsListener_||(e.statsListener_=new VL(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);At(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function kK(e,t){e.stats_.incrementCounter(t),GW(e.statsReporter_,t)}function Cl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),xt.apply(void 0,ve([r],Ht(t)))}function Qo(e,t,n,r){t&&bl(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function AK(e,t,n,r,i,s){Cl(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:oL(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Zb(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Th("transaction failed: Data returned ",c,a.path),a.status=0;var h=Lg(e.transactionQueueTree_,t),p=Ia(h)||[];p.push(a),Gb(h,p);var g=void 0;if(typeof c=="object"&&c!==null&&rr(c,".priority"))g=ia(c,".priority"),$(Bf(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=xg(e.serverSyncTree_,t)||fe.EMPTY_NODE;g=m.getPriority().val()}var y=Ih(e),E=nt(c,g),S=Wb(E,l,y);a.currentOutputSnapshotRaw=E,a.currentOutputSnapshotResolved=S,a.currentWriteId=jg(e);var w=Bb(e.serverSyncTree_,t,S,a.currentWriteId,a.applyLocally);Ir(e.eventQueue_,t,w),Vg(e,e.transactionQueueTree_)}}function Zb(e,t,n){return xg(e.serverSyncTree_,t,n)||fe.EMPTY_NODE}function Vg(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||Bg(e,t),Ia(t)){var n=g2(e,t);$(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&NK(e,Eh(t),n)}else s2(t)&&Mg(t,function(i){Vg(e,i)})}function NK(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=Zb(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];$(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=In(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var p=s.val(!0),g=t;e.server_.put(g.toString(),p,function(m){Cl(e,"transaction put response",{path:g.toString(),status:m});var y=[];if(m==="ok"){for(var E=[],S=function(T){n[T].status=2,y=y.concat(So(e.serverSyncTree_,n[T].currentWriteId)),n[T].onComplete&&E.push(function(){return n[T].onComplete(null,!0,n[T].currentOutputSnapshotResolved)}),n[T].unwatcher()},w=0;w<n.length;w++)S(w);Bg(e,Lg(e.transactionQueueTree_,t)),Vg(e,e.transactionQueueTree_),Ir(e.eventQueue_,t,y);for(var w=0;w<E.length;w++)bl(E[w])}else{if(m==="datastale")for(var w=0;w<n.length;w++)n[w].status===3?n[w].status=4:n[w].status=0;else{Gt("transaction at "+g.toString()+" failed: "+m);for(var w=0;w<n.length;w++)n[w].status=4,n[w].abortReason=m}Gu(e,t)}},a)}function Gu(e,t){var n=v2(e,t),r=Eh(n),i=g2(e,n);return RK(e,i,r),r}function RK(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var p=t[h],g=In(n,p.path),m=!1,y;if($(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)m=!0,y=p.abortReason,i=i.concat(So(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=dK)m=!0,y="maxretry",i=i.concat(So(e.serverSyncTree_,p.currentWriteId,!0));else{var E=Zb(e,p.path,a);p.currentInputSnapshot=E;var S=t[h].update(E.val());if(S!==void 0){Th("transaction failed: Data returned ",S,p.path);var w=nt(S),T=typeof S=="object"&&S!=null&&rr(S,".priority");T||(w=w.updatePriority(E.getPriority()));var I=p.currentWriteId,k=Ih(e),P=Wb(w,E,k);p.currentOutputSnapshotRaw=w,p.currentOutputSnapshotResolved=P,p.currentWriteId=jg(e),a.splice(a.indexOf(I),1),i=i.concat(Bb(e.serverSyncTree_,p.path,P,p.currentWriteId,p.applyLocally)),i=i.concat(So(e.serverSyncTree_,I,!0))}else m=!0,y="nodata",i=i.concat(So(e.serverSyncTree_,p.currentWriteId,!0))}Ir(e.eventQueue_,n,i),i=[],m&&(t[h].status=2,function(x){setTimeout(x,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);Bg(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)bl(r[c]);Vg(e,e.transactionQueueTree_)}}function v2(e,t){var n,r=e.transactionQueueTree_;for(n=me(t);n!==null&&Ia(r)===void 0;)r=Lg(r,n),t=Ue(t),n=me(t);return r}function g2(e,t){var n=[];return m2(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function m2(e,t,n){var r=Ia(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Mg(t,function(s){m2(e,s,n)})}function Bg(e,t){var n=Ia(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Gb(t,n.length>0?n:void 0)}Mg(t,function(s){Bg(e,s)})}function eI(e,t){var n=Eh(v2(e,t)),r=Lg(e.transactionQueueTree_,t);return nK(r,function(i){$_(e,i)}),$_(e,r),a2(r,function(i){$_(e,i)}),n}function $_(e,t){var n=Ia(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?($(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):($(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(So(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Gb(t,void 0):n.length=s+1,Ir(e.eventQueue_,Eh(t),i);for(var a=0;a<r.length;a++)bl(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function OK(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=Ft(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Gt("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var CE=function(e,t){var n=xK(e),r=n.namespace;n.domain==="firebase.com"&&gi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&gi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Nz();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ib(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Oe(n.pathString)}},xK=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var p=e.indexOf("/");p===-1&&(p=e.length);var g=e.indexOf("?");g===-1&&(g=e.length),t=e.substring(0,Math.min(p,g)),p<g&&(i=PK(e.substring(p,g)));var m=OK(e.substring(Math.min(e.length,g)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var E=t.indexOf(".");r=t.substring(0,E).toLowerCase(),n=t.substring(E+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y2=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+It(this.snapshot.exportVal())},e}(),_2=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w2=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DK=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Lt;return EK(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){vr("OnDisconnect.remove",this._path);var t=new Lt;return PR(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){vr("OnDisconnect.set",this._path),yi("OnDisconnect.set",t,this._path,!1);var n=new Lt;return PR(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){vr("OnDisconnect.setWithPriority",this._path),yi("OnDisconnect.setWithPriority",t,this._path,!1),Qb("OnDisconnect.setWithPriority",n,!1);var r=new Lt;return TK(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){vr("OnDisconnect.update",this._path),l2("OnDisconnect.update",t,this._path,!1);var n=new Lt;return bK(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return ye(this._path)?null:kb(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ei(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=gR(this._queryParams),n=Eb(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return gR(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=de(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=Ab(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+hW(this._path)},e}();function $g(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function es(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===fi){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==zi)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==mi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===$e){if(t!=null&&!Bf(t)||n!=null&&!Bf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if($(e.getIndex()instanceof Rb||e.getIndex()===Pb,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qg(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ei=function(e){K(t,e);function t(n,r){return e.call(this,n,r,new jL,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=AL(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(kr),zg=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Oe(t),r=sa(this.ref,t);return new e(this._node.getChild(n),r,$e)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,sa(n.ref,i),$e))})},e.prototype.hasChild=function(t){var n=new Oe(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function E2(e,t){return e=de(e),e._checkNotDeleted("ref"),t!==void 0?sa(e._root,t):e._root}function OR(e,t){e=de(e),e._checkNotDeleted("refFromURL");var n=CE(t,e._repo.repoInfo_.nodeAdmin);c2("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&gi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),E2(e,n.path.toString())}function sa(e,t){return e=de(e),me(e._path)===null?lK("child","path",t,!1):$f("child","path",t,!1),new Ei(e._repo,Ye(e._path,t))}function LK(e,t){e=de(e),vr("push",e._path),yi("push",t,e._path,!0);var n=d2(e._repo),r=DW(n),i=sa(e,r),s=sa(e,r),a;return t!=null?a=tI(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function MK(e){return vr("remove",e._path),tI(e,null)}function tI(e,t){e=de(e),vr("set",e._path),yi("set",t,e._path,!1);var n=new Lt;return Jb(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function FK(e,t){e=de(e),vr("setPriority",e._path),Qb("setPriority",t,!1);var n=new Lt;return Jb(e._repo,Ye(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function UK(e,t,n){if(vr("setWithPriority",e._path),yi("setWithPriority",t,e._path,!1),Qb("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Lt;return Jb(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function jK(e,t){l2("update",t,e._path,!1);var n=new Lt;return _K(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function VK(e){return e=de(e),yK(e._repo,e).then(function(t){return new zg(t,new Ei(e._repo,e._path),e._queryParams.getIndex())})}var T2=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new y2("value",this,new zg(t.snapshotNode,new Ei(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new _2(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),b2=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new _2(this,t,n):null},e.prototype.createEvent=function(t,n){$(t.childName!=null,"Child events should have a childName.");var r=sa(new Ei(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new y2(t.type,this,new zg(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Sh(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(p,g){SE(e._repo,e,h),a(p,g)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new w2(n,s||void 0),h=t==="value"?new T2(c):new b2(t,c);return IK(e._repo,e,h),function(){return SE(e._repo,e,h)}}function kE(e,t,n,r){return Sh(e,"value",t,n,r)}function xR(e,t,n,r){return Sh(e,"child_added",t,n,r)}function DR(e,t,n,r){return Sh(e,"child_changed",t,n,r)}function LR(e,t,n,r){return Sh(e,"child_moved",t,n,r)}function MR(e,t,n,r){return Sh(e,"child_removed",t,n,r)}function FR(e,t,n){var r=null,i=n?new w2(n):null;t==="value"?r=new T2(i):t&&(r=new b2(t,i)),SE(e._repo,e,r)}var Gr=function(){function e(){}return e}(),I2=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){yi("endAt",this._value,n._path,!0);var r=vE(n._queryParams,this._value,this._key);if(qg(r),es(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kr(n._repo,n._path,r,n._orderByCalled)},t}(Gr);function BK(e,t){return bh("endAt","key",t,!0),new I2(e,t)}var $K=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){yi("endBefore",this._value,n._path,!1);var r=BW(n._queryParams,this._value,this._key);if(qg(r),es(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kr(n._repo,n._path,r,n._orderByCalled)},t}(Gr);function qK(e,t){return bh("endBefore","key",t,!0),new $K(e,t)}var S2=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){yi("startAt",this._value,n._path,!0);var r=pE(n._queryParams,this._value,this._key);if(qg(r),es(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new kr(n._repo,n._path,r,n._orderByCalled)},t}(Gr);function zK(e,t){return e===void 0&&(e=null),bh("startAt","key",t,!0),new S2(e,t)}var WK=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){yi("startAfter",this._value,n._path,!1);var r=VW(n._queryParams,this._value,this._key);if(qg(r),es(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new kr(n._repo,n._path,r,n._orderByCalled)},t}(Gr);function HK(e,t){return bh("startAfter","key",t,!0),new WK(e,t)}var KK=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new kr(n._repo,n._path,UW(n._queryParams,this._limit),n._orderByCalled)},t}(Gr);function GK(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new KK(e)}var QK=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new kr(n._repo,n._path,jW(n._queryParams,this._limit),n._orderByCalled)},t}(Gr);function YK(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new QK(e)}var XK=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){$g(n,"orderByChild");var r=new Oe(this._path);if(ye(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new Rb(r),s=Ag(n._queryParams,i);return es(s),new kr(n._repo,n._path,s,!0)},t}(Gr);function JK(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return $f("orderByChild","path",e,!1),new XK(e)}var ZK=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){$g(n,"orderByKey");var r=Ag(n._queryParams,fi);return es(r),new kr(n._repo,n._path,r,!0)},t}(Gr);function eG(){return new ZK}var tG=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){$g(n,"orderByPriority");var r=Ag(n._queryParams,$e);return es(r),new kr(n._repo,n._path,r,!0)},t}(Gr);function nG(){return new tG}var rG=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){$g(n,"orderByValue");var r=Ag(n._queryParams,Pb);return es(r),new kr(n._repo,n._path,r,!0)},t}(Gr);function iG(){return new rG}var oG=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(yi("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new I2(this._value,this._key)._apply(new S2(this._value,this._key)._apply(n))},t}(Gr);function sG(e,t){return bh("equalTo","key",t,!0),new oG(e,t)}function Mr(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=de(e);try{for(var a=Ft(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}PH(Ei);MH(Ei);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aG="FIREBASE_DATABASE_EMULATOR_HOST",AE={},C2=!1;function uG(e,t,n,r){e.repoInfo_=new Ib(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function k2(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||gi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=CE(s,i),l=a.repoInfo,c,h=void 0;typeof process!="undefined"&&(h=process.env[aG]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=CE(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var p=i&&c?new uf(uf.OWNER):new Uz(e.name,e.options,t);c2("Invalid Firebase Database URL",a),ye(a.path)||gi("Database URL must point to the root of a Firebase Database (not including a child path).");var g=cG(l,e,p,new Fz(e.name,n));return new hG(g,e)}function lG(e,t){var n=AE[t];(!n||n[e.key]!==e)&&gi("Database "+t+"("+e.repoInfo_+") has already been deleted."),p2(e),delete n[e.key]}function cG(e,t,n,r){var i=AE[t.name];i||(i={},AE[t.name]=i);var s=i[e.toURLString()];return s&&gi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new pK(e,C2,n,r),i[e.toURLString()]=s,s}function fG(e){C2=e}var hG=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(vK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ei(this._repo,Re())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(lG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&gi("Cannot call "+t+" on a deleted database.")},e}();function dG(e,t,n,r){r===void 0&&(r={}),e=de(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&gi("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&gi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new uf(uf.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:pb(r.mockUserToken,e.app.options.projectId);s=new uf(a)}uG(i,t,n,s)}function pG(e){e=de(e),e._checkNotDeleted("goOffline"),p2(e._repo)}function vG(e){e=de(e),e._checkNotDeleted("goOnline"),SK(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gG={".sv":"timestamp"};function mG(){return gG}function yG(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _G=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function wG(e,t,n){var r;if(e=de(e),vr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Lt,a=function(c,h,p){var g=null;c?s.reject(c):(g=new zg(p,new Ei(e._repo,e._path),$e),s.resolve(new _G(h,g)))},l=kE(e,function(){});return AK(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EG=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){oe("OnDisconnect.cancel",0,1,arguments.length),Ot("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){oe("OnDisconnect.remove",0,1,arguments.length),Ot("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){oe("OnDisconnect.set",1,2,arguments.length),Ot("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){oe("OnDisconnect.setWithPriority",2,3,arguments.length),Ot("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(oe("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,Gt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ot("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TG=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return oe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hf=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return oe("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return oe("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return oe("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return oe("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return oe("DataSnapshot.child",0,1,arguments.length),t=String(t),$f("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return oe("DataSnapshot.hasChild",1,1,arguments.length),$f("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return oe("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return oe("DataSnapshot.forEach",1,1,arguments.length),Ot("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return oe("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return oe("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return oe("DataSnapshot.ref",0,0,arguments.length),new Bs(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),A2=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;oe("Query.on",2,4,arguments.length),Ot("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(p,g){n.call(l.context,new hf(s.database,p),g)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return kE(this._delegate,c,h),n;case"child_added":return xR(this._delegate,c,h),n;case"child_removed":return MR(this._delegate,c,h),n;case"child_changed":return DR(this._delegate,c,h),n;case"child_moved":return LR(this._delegate,c,h),n;default:throw new Error($n("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(oe("Query.off",0,3,arguments.length),uK("Query.off",t,!0),Ot("Query.off","callback",n,!0),XN("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,FR(this._delegate,t,i)}else FR(this._delegate,t)},e.prototype.get=function(){var t=this;return VK(this._delegate).then(function(n){return new hf(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;oe("Query.once",1,4,arguments.length),Ot("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),l=new Lt,c=function(p,g){var m=new hf(s.database,p);n&&n.call(a.context,m,g),l.resolve(m)};c.userCallback=n,c.context=a.context;var h=function(p){a.cancel&&a.cancel.call(a.context,p),l.reject(p)};switch(t){case"value":kE(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":xR(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":MR(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":DR(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":LR(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error($n("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return oe("Query.limitToFirst",1,1,arguments.length),new e(this.database,Mr(this._delegate,GK(t)))},e.prototype.limitToLast=function(t){return oe("Query.limitToLast",1,1,arguments.length),new e(this.database,Mr(this._delegate,YK(t)))},e.prototype.orderByChild=function(t){return oe("Query.orderByChild",1,1,arguments.length),new e(this.database,Mr(this._delegate,JK(t)))},e.prototype.orderByKey=function(){return oe("Query.orderByKey",0,0,arguments.length),new e(this.database,Mr(this._delegate,eG()))},e.prototype.orderByPriority=function(){return oe("Query.orderByPriority",0,0,arguments.length),new e(this.database,Mr(this._delegate,nG()))},e.prototype.orderByValue=function(){return oe("Query.orderByValue",0,0,arguments.length),new e(this.database,Mr(this._delegate,iG()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),oe("Query.startAt",0,2,arguments.length),new e(this.database,Mr(this._delegate,zK(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),oe("Query.startAfter",0,2,arguments.length),new e(this.database,Mr(this._delegate,HK(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),oe("Query.endAt",0,2,arguments.length),new e(this.database,Mr(this._delegate,BK(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),oe("Query.endBefore",0,2,arguments.length),new e(this.database,Mr(this._delegate,qK(t,n)))},e.prototype.equalTo=function(t,n){return oe("Query.equalTo",1,2,arguments.length),new e(this.database,Mr(this._delegate,sG(t,n)))},e.prototype.toString=function(){return oe("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return oe("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(oe("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ot(t,"cancel",i.cancel,!0),i.context=r,XN(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error($n(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new Bs(this.database,new Ei(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Bs=function(e){K(t,e);function t(n,r){var i=e.call(this,n,new kr(r._repo,r._path,new jL,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return oe("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return oe("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,sa(this._delegate,n))},t.prototype.getParent=function(){oe("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return oe("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){oe("Reference.set",1,2,arguments.length),Ot("Reference.set","onComplete",r,!0);var i=tI(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(oe("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Gt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vr("Reference.update",this._delegate._path),Ot("Reference.update","onComplete",r,!0);var a=jK(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){oe("Reference.setWithPriority",2,3,arguments.length),Ot("Reference.setWithPriority","onComplete",i,!0);var s=UK(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){oe("Reference.remove",0,1,arguments.length),Ot("Reference.remove","onComplete",n,!0);var r=MK(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;oe("Reference.transaction",1,3,arguments.length),Ot("Reference.transaction","transactionUpdate",n,!1),Ot("Reference.transaction","onComplete",r,!0),cK("Reference.transaction","applyLocally",i,!0);var a=wG(this._delegate,n,{applyLocally:i}).then(function(l){return new TG(l.committed,new hf(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){oe("Reference.setPriority",1,2,arguments.length),Ot("Reference.setPriority","onComplete",r,!0);var i=FK(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;oe("Reference.push",0,2,arguments.length),Ot("Reference.push","onComplete",r,!0);var s=LK(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return vr("Reference.onDisconnect",this._delegate._path),new EG(new DK(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(A2);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ov=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),dG(this._delegate,t,n,r)},e.prototype.ref=function(t){if(oe("database.ref",0,1,arguments.length),t instanceof Bs){var n=OR(this._delegate,t.toString());return new Bs(this,n)}else{var n=E2(this._delegate,t);return new Bs(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";oe(n,1,1,arguments.length);var r=OR(this._delegate,t);return new Bs(this,r)},e.prototype.goOffline=function(){return oe("database.goOffline",0,0,arguments.length),pG(this._delegate)},e.prototype.goOnline=function(){return oe("database.goOnline",0,0,arguments.length),vG(this._delegate)},e.ServerValue={TIMESTAMP:mG(),increment:function(t){return yG(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bG=function(){Os.forceDisallow(),Cb.forceAllow()},IG=function(){Cb.forceDisallow()},SG=function(){return Os.isAvailable()},CG=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},kG=function(e,t){CK(e._delegate._repo,t)},AG=function(e,t){kK(e._delegate._repo,t)},NG=function(e){return e._delegate._repo.dataUpdateCount},RG=function(e,t){return gK(e._delegate._repo,t)};function PG(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;rL(r);var c=new XD("auth-internal",new JD("database-standalone"));return c.setComponent(new dn("auth-internal",function(){return i},"PRIVATE")),{instance:new Ov(k2(t,c,void 0,n,l),t),namespace:s}}var OG=Object.freeze({__proto__:null,forceLongPolling:bG,forceWebSockets:IG,isWebSocketsAvailable:SG,setSecurityDebugCallback:CG,stats:kG,statsIncrementCounter:AG,dataUpdateCount:NG,interceptServerData:RG,initStandalone:PG});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xG=Qs;Qs.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Qs.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var DG=SL,LG=function(e){var t=Qs.prototype.put;return Qs.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){Qs.prototype.put=t}},MG=Ib,FG=function(e){return e._delegate._queryIdentifier},UG=function(e){fG(e)},jG=Object.freeze({__proto__:null,DataConnection:xG,RealTimeConnection:DG,hijackHash:LG,ConnectionTarget:MG,queryIdentifier:FG,forceRestClient:UG});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VG=Ov.ServerValue;function BG(e){rL(e.SDK_VERSION),e.INTERNAL.registerComponent(new dn("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ov(k2(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:Bs,Query:A2,Database:Ov,DataSnapshot:hf,enableLogging:aL,INTERNAL:OG,ServerValue:VG,TEST_ACCESS:jG}).setMultipleInstances(!0)),e.registerVersion(Sz,Cz)}BG(ee);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NE=function(e,t){return NE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},NE(e,t)};function $G(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");NE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function N2(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var qG=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Q,nI=nI||{},ce=qG||self;function xv(){}function RE(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ch(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function zG(e){return Object.prototype.hasOwnProperty.call(e,q_)&&e[q_]||(e[q_]=++WG)}var q_="closure_uid_"+(1e9*Math.random()>>>0),WG=0;function HG(e,t,n){return e.call.apply(e.bind,arguments)}function KG(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Qt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qt=HG:Qt=KG,Qt.apply(null,arguments)}function dp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Zt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function ts(){this.s=this.s,this.o=this.o}var GG=0,QG={};ts.prototype.s=!1;ts.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),GG!=0)){var e=zG(this);delete QG[e]}};ts.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var R2=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},P2=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function YG(e){e:{for(var t=B5,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function UR(e){return Array.prototype.concat.apply([],arguments)}function rI(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Dv(e){return/^[\s\xa0]*$/.test(e)}var jR=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Tn(e,t){return e.indexOf(t)!=-1}function z_(e,t){return e<t?-1:e>t?1:0}var bn;e:{var VR=ce.navigator;if(VR){var BR=VR.userAgent;if(BR){bn=BR;break e}}bn=""}function iI(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function O2(e){var t={};for(var n in e)t[n]=e[n];return t}var $R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x2(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<$R.length;s++)n=$R[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function oI(e){return oI[" "](e),e}oI[" "]=xv;function XG(e){var t=e5;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var JG=Tn(bn,"Opera"),Qu=Tn(bn,"Trident")||Tn(bn,"MSIE"),D2=Tn(bn,"Edge"),PE=D2||Qu,L2=Tn(bn,"Gecko")&&!(Tn(bn.toLowerCase(),"webkit")&&!Tn(bn,"Edge"))&&!(Tn(bn,"Trident")||Tn(bn,"MSIE"))&&!Tn(bn,"Edge"),ZG=Tn(bn.toLowerCase(),"webkit")&&!Tn(bn,"Edge");function M2(){var e=ce.document;return e?e.documentMode:void 0}var Lv;e:{var W_="",H_=function(){var e=bn;if(L2)return/rv:([^\);]+)(\)|;)/.exec(e);if(D2)return/Edge\/([\d\.]+)/.exec(e);if(Qu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(ZG)return/WebKit\/(\S+)/.exec(e);if(JG)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(H_&&(W_=H_?H_[1]:""),Qu){var K_=M2();if(K_!=null&&K_>parseFloat(W_)){Lv=String(K_);break e}}Lv=W_}var e5={};function t5(){return XG(function(){for(var e=0,t=jR(String(Lv)).split("."),n=jR("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=z_(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||z_(s[2].length==0,a[2].length==0)||z_(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var OE;if(ce.document&&Qu){var qR=M2();OE=qR||parseInt(Lv,10)||void 0}else OE=void 0;var n5=OE,r5=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ce.addEventListener("test",xv,t),ce.removeEventListener("test",xv,t)}catch{}return e}();function ln(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};function qf(e,t){if(ln.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(L2){e:{try{oI(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:i5[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qf.Z.h.call(this)}}Zt(qf,ln);var i5={2:"touch",3:"pen",4:"mouse"};qf.prototype.h=function(){qf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var kh="closure_listenable_"+(1e6*Math.random()|0),o5=0;function s5(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++o5,this.ca=this.fa=!1}function Wg(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Hg(e){this.src=e,this.g={},this.h=0}Hg.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=DE(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new s5(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function xE(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=R2(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wg(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function DE(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var sI="closure_lm_"+(1e6*Math.random()|0),G_={};function F2(e,t,n,r,i){if(r&&r.once)return j2(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)F2(e,t[s],n,r,i);return null}return n=lI(n),e&&e[kh]?e.N(t,n,Ch(r)?!!r.capture:!!r,i):U2(e,t,n,!1,r,i)}function U2(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Ch(i)?!!i.capture:!!i,l=uI(e);if(l||(e[sI]=l=new Hg(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=a5(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)r5||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(B2(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function a5(){function e(n){return t.call(e.src,e.listener,n)}var t=u5;return e}function j2(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)j2(e,t[s],n,r,i);return null}return n=lI(n),e&&e[kh]?e.O(t,n,Ch(r)?!!r.capture:!!r,i):U2(e,t,n,!0,r,i)}function V2(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)V2(e,t[s],n,r,i);else r=Ch(r)?!!r.capture:!!r,n=lI(n),e&&e[kh]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=DE(s,n,r,i),-1<n&&(Wg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=uI(e))&&(t=e.g[t.toString()],e=-1,t&&(e=DE(t,n,r,i)),(n=-1<e?t[e]:null)&&aI(n))}function aI(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[kh])xE(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(B2(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=uI(t))?(xE(n,e),n.h==0&&(n.src=null,t[sI]=null)):Wg(e)}}}function B2(e){return e in G_?G_[e]:G_[e]="on"+e}function u5(e,t){if(e.ca)e=!0;else{t=new qf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&aI(e),e=n.call(r,t)}return e}function uI(e){return e=e[sI],e instanceof Hg?e:null}var Q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function lI(e){return typeof e=="function"?e:(e[Q_]||(e[Q_]=function(t){return e.handleEvent(t)}),e[Q_])}function jt(){ts.call(this),this.i=new Hg(this),this.P=this,this.I=null}Zt(jt,ts);jt.prototype[kh]=!0;jt.prototype.removeEventListener=function(e,t,n,r){V2(this,e,t,n,r)};function Yt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new ln(t,e);else if(t instanceof ln)t.target=t.target||e;else{var i=t;t=new ln(r,e),x2(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=pp(a,r,!0,t)&&i}if(a=t.g=e,i=pp(a,r,!0,t)&&i,i=pp(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=pp(a,r,!1,t)&&i}jt.prototype.M=function(){if(jt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Wg(n[r]);delete e.g[t],e.h--}}this.I=null};jt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};jt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function pp(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,c=a.ia||a.src;a.fa&&xE(e.i,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var cI=ce.JSON.stringify;function l5(){var e=q2,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var c5=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=$2.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),$2=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new f5},function(e){return e.reset()}),f5=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function h5(e){ce.setTimeout(function(){throw e},0)}function fI(e,t){LE||d5(),ME||(LE(),ME=!0),q2.add(e,t)}var LE;function d5(){var e=ce.Promise.resolve(void 0);LE=function(){e.then(p5)}}var ME=!1,q2=new c5;function p5(){for(var e;e=l5();){try{e.h.call(e.g)}catch(n){h5(n)}var t=$2;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ME=!1}function Kg(e,t){jt.call(this),this.h=e||1,this.g=t||ce,this.j=Qt(this.kb,this),this.l=Date.now()}Zt(Kg,jt);Q=Kg.prototype;Q.da=!1;Q.S=null;Q.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yt(this,"tick"),this.da&&(hI(this),this.start()))}};Q.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function hI(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Q.M=function(){Kg.Z.M.call(this),hI(this),delete this.g};function dI(e,t,n){if(typeof e=="function")n&&(e=Qt(e,n));else if(e&&typeof e.handleEvent=="function")e=Qt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ce.setTimeout(e,t||0)}function z2(e){e.g=dI(function(){e.g=null,e.i&&(e.i=!1,z2(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var v5=function(e){$G(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:z2(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ts);function zf(e){ts.call(this),this.h=e,this.g={}}Zt(zf,ts);var zR=[];function W2(e,t,n,r){Array.isArray(n)||(n&&(zR[0]=n.toString()),n=zR);for(var i=0;i<n.length;i++){var s=F2(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function H2(e){iI(e.g,function(t,n){this.g.hasOwnProperty(n)&&aI(t)},e),e.g={}}zf.prototype.M=function(){zf.Z.M.call(this),H2(this)};zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gg(){this.g=!0}Gg.prototype.Aa=function(){this.g=!1};function g5(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var g=p.split("_");a=2<=g.length&&g[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function m5(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function wu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+_5(e,n)+(r?" "+r:"")})}function y5(e,t){e.info(function(){return"TIMEOUT: "+t})}Gg.prototype.info=function(){};function _5(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return cI(n)}catch{return t}}var Sa={},WR=null;function Qg(){return WR=WR||new jt}Sa.Ma="serverreachability";function K2(e){ln.call(this,Sa.Ma,e)}Zt(K2,ln);function Wf(e){var t=Qg();Yt(t,new K2(t,e))}Sa.STAT_EVENT="statevent";function G2(e,t){ln.call(this,Sa.STAT_EVENT,e),this.stat=t}Zt(G2,ln);function Sn(e){var t=Qg();Yt(t,new G2(t,e))}Sa.Na="timingevent";function Q2(e,t){ln.call(this,Sa.Na,e),this.size=t}Zt(Q2,ln);function Ah(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){e()},t)}var Yg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Y2={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function pI(){}pI.prototype.h=null;function HR(e){return e.h||(e.h=e.i())}function X2(){}var Nh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vI(){ln.call(this,"d")}Zt(vI,ln);function gI(){ln.call(this,"c")}Zt(gI,ln);var FE;function Xg(){}Zt(Xg,pI);Xg.prototype.g=function(){return new XMLHttpRequest};Xg.prototype.i=function(){return{}};FE=new Xg;function Rh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new zf(this),this.P=w5,e=PE?125:void 0,this.W=new Kg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new J2}function J2(){this.i=null,this.g="",this.h=!1}var w5=45e3,UE={},Mv={};Q=Rh.prototype;Q.setTimeout=function(e){this.P=e};function jE(e,t,n){e.K=1,e.v=Zg(Wi(t)),e.s=n,e.U=!0,Z2(e,null)}function Z2(e,t){e.F=Date.now(),Ph(e),e.A=Wi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),sM(n.h,"t",r),e.C=0,n=e.l.H,e.h=new J2,e.g=CM(e.l,n?t:null,!e.s),0<e.O&&(e.L=new v5(Qt(e.Ia,e,e.g),e.O)),W2(e.V,e.g,"readystatechange",e.gb),t=e.H?O2(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Wf(1),g5(e.j,e.u,e.A,e.m,e.X,e.s)}Q.gb=function(e){e=e.target;var t=this.L;t&&Fi(e)==3?t.l():this.Ia(e)};Q.Ia=function(e){try{if(e==this.g)e:{var t=Fi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||PE||this.g&&(this.h.h||this.g.ga()||YR(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Wf(3):Wf(2)),Jg(this);var i=this.g.ba();this.N=i;t:if(eM(this)){var s=YR(this.g);e="";var a=s.length,l=Fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){$s(this),df(this);var c="";break t}this.h.i=new ce.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,m5(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dv(h)){var g=h;break t}}g=null}if(i=g)wu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,VE(this,i);else{this.i=!1,this.o=3,Sn(12),$s(this),df(this);break e}}this.U?(tM(this,t,c),PE&&this.i&&t==3&&(W2(this.V,this.W,"tick",this.fb),this.W.start())):(wu(this.j,this.m,c,null),VE(this,c)),t==4&&$s(this),this.i&&!this.I&&(t==4?TM(this.l,this):(this.i=!1,Ph(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),$s(this),df(this)}}}catch{}finally{}};function eM(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function tM(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=E5(e,n),i==Mv){t==4&&(e.o=4,Sn(14),r=!1),wu(e.j,e.m,null,"[Incomplete Response]");break}else if(i==UE){e.o=4,Sn(15),wu(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else wu(e.j,e.m,i,null),VE(e,i);eM(e)&&i!=Mv&&i!=UE&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Sn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),SI(t),t.L=!0,Sn(11))):(wu(e.j,e.m,n,"[Invalid Chunked Response]"),$s(e),df(e))}Q.fb=function(){if(this.g){var e=Fi(this.g),t=this.g.ga();this.C<t.length&&(Jg(this),tM(this,e,t),this.i&&e!=4&&Ph(this))}};function E5(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Mv:(n=Number(t.substring(n,r)),isNaN(n)?UE:(r+=1,r+n>t.length?Mv:(t=t.substr(r,n),e.C=r+n,t)))}Q.cancel=function(){this.I=!0,$s(this)};function Ph(e){e.Y=Date.now()+e.P,nM(e,e.P)}function nM(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ah(Qt(e.eb,e),t)}function Jg(e){e.B&&(ce.clearTimeout(e.B),e.B=null)}Q.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(y5(this.j,this.A),this.K!=2&&(Wf(3),Sn(17)),$s(this),this.o=2,df(this)):nM(this,this.Y-e)};function df(e){e.l.G==0||e.I||TM(e.l,e)}function $s(e){Jg(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,hI(e.W),H2(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function VE(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||BE(n.i,e))){if(n.I=e.N,!e.J&&BE(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0)e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Vv(n),nm(n);else break e;II(n),Sn(18)}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ah(Qt(n.ab,n),6e3));if(1>=lM(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else qs(n,11)}else if((e.J||n.g==e)&&Vv(n),!Dv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var c=s[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var g=r.i;!g.g&&(Tn(p,"spdy")||Tn(p,"quic")||Tn(p,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(_I(g,g.h),g.h=null))}if(r.D){var m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Qe(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=SM(r,r.H?r.la:null,r.W),y.J){cM(r.i,y);var E=y,S=r.K;S&&E.setTimeout(S),E.B&&(Jg(E),Ph(E)),r.g=y}else wM(r);0<n.l.length&&rm(n)}else s[0]!="stop"&&s[0]!="close"||qs(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?qs(n,7):bI(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Wf(4)}catch{}}function T5(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(RE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function mI(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(RE(e)||typeof e=="string")P2(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(RE(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=T5(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function kl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof kl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Q=kl.prototype;Q.R=function(){yI(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Q.T=function(){return yI(this),this.g.concat()};function yI(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];aa(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],aa(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Q.get=function(e,t){return aa(this.h,e)?this.h[e]:t};Q.set=function(e,t){aa(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Q.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function aa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var rM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function b5(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ua(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ua){this.g=t!==void 0?t:e.g,Fv(this,e.j),this.s=e.s,Uv(this,e.i),jv(this,e.m),this.l=e.l,t=e.h;var n=new Hf;n.i=t.i,t.g&&(n.g=new kl(t.g),n.h=t.h),KR(this,n),this.o=e.o}else e&&(n=String(e).match(rM))?(this.g=!!t,Fv(this,n[1]||"",!0),this.s=pf(n[2]||""),Uv(this,n[3]||"",!0),jv(this,n[4]),this.l=pf(n[5]||"",!0),KR(this,n[6]||"",!0),this.o=pf(n[7]||"")):(this.g=!!t,this.h=new Hf(null,this.g))}ua.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Hc(t,GR,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Hc(t,GR,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Hc(n,n.charAt(0)=="/"?A5:k5,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Hc(n,R5)),e.join("")};function Wi(e){return new ua(e)}function Fv(e,t,n){e.j=n?pf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Uv(e,t,n){e.i=n?pf(t,!0):t}function jv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function KR(e,t,n){t instanceof Hf?(e.h=t,P5(e.h,e.g)):(n||(t=Hc(t,N5)),e.h=new Hf(t,e.g))}function Qe(e,t,n){e.h.set(t,n)}function Zg(e){return Qe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function I5(e){return e instanceof ua?Wi(e):new ua(e,void 0)}function S5(e,t,n,r){var i=new ua(null,void 0);return e&&Fv(i,e),t&&Uv(i,t),n&&jv(i,n),r&&(i.l=r),i}function pf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,C5),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function C5(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var GR=/[#\/\?@]/g,k5=/[#\?:]/g,A5=/[#\?]/g,N5=/[#\?@]/g,R5=/#/g;function Hf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ns(e){e.g||(e.g=new kl,e.h=0,e.i&&b5(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Q=Hf.prototype;Q.add=function(e,t){ns(this),this.i=null,e=Al(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function iM(e,t){ns(e),t=Al(e,t),aa(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,aa(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&yI(e)))}function oM(e,t){return ns(e),t=Al(e,t),aa(e.g.h,t)}Q.forEach=function(e,t){ns(this),this.g.forEach(function(n,r){P2(n,function(i){e.call(t,i,r,this)},this)},this)};Q.T=function(){ns(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Q.R=function(e){ns(this);var t=[];if(typeof e=="string")oM(this,e)&&(t=UR(t,this.g.get(Al(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=UR(t,e[n])}return t};Q.set=function(e,t){return ns(this),this.i=null,e=Al(this,e),oM(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Q.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function sM(e,t,n){iM(e,t),0<n.length&&(e.i=null,e.g.set(Al(e,t),rI(n)),e.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function Al(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function P5(e,t){t&&!e.j&&(ns(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(iM(this,r),sM(this,i,n))},e)),e.j=t}var O5=function(){function e(t,n){this.h=t,this.g=n}return e}();function aM(e){this.l=e||x5,ce.PerformanceNavigationTiming?(e=ce.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ce.g&&ce.g.Ea&&ce.g.Ea()&&ce.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var x5=10;function uM(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function lM(e){return e.h?1:e.g?e.g.size:0}function BE(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function _I(e,t){e.g?e.g.add(t):e.h=t}function cM(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}aM.prototype.cancel=function(){var e,t;if(this.i=fM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=N2(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function fM(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=N2(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return rI(e.i)}function wI(){}wI.prototype.stringify=function(e){return ce.JSON.stringify(e,void 0)};wI.prototype.parse=function(e){return ce.JSON.parse(e,void 0)};function D5(){this.g=new wI}function L5(e,t,n){var r=n||"";try{mI(e,function(i,s){var a=i;Ch(i)&&(a=cI(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function M5(e,t){var n=new Gg;if(ce.Image){var r=new Image;r.onload=dp(vp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=dp(vp,n,r,"TestLoadImage: error",!1,t),r.onabort=dp(vp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=dp(vp,n,r,"TestLoadImage: timeout",!1,t),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function vp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Oh(e){this.l=e.$b||null,this.j=e.ib||!1}Zt(Oh,pI);Oh.prototype.g=function(){return new em(this.l,this.j)};Oh.prototype.i=function(e){return function(){return e}}({});function em(e,t){jt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=EI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zt(em,jt);var EI=0;Q=em.prototype;Q.open=function(e,t){if(this.readyState!=EI)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Kf(this)};Q.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ce).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xh(this)),this.readyState=EI};Q.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Kf(this)),this.g&&(this.readyState=3,Kf(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ce.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hM(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function hM(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Q.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xh(this):Kf(this),this.readyState==3&&hM(this)}};Q.Ua=function(e){this.g&&(this.response=this.responseText=e,xh(this))};Q.Ta=function(e){this.g&&(this.response=e,xh(this))};Q.ha=function(){this.g&&xh(this)};function xh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Kf(e)}Q.setRequestHeader=function(e,t){this.v.append(e,t)};Q.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Kf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(em.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var F5=ce.JSON.parse;function _t(e){jt.call(this),this.headers=new kl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dM,this.K=this.L=!1}Zt(_t,jt);var dM="",U5=/^https?$/i,j5=["POST","PUT"];Q=_t.prototype;Q.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():FE.g(),this.C=this.u?HR(this.u):HR(FE),this.g.onreadystatechange=Qt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){QR(this,s);return}e=n||"";var i=new kl(this.headers);r&&mI(r,function(s,a){i.set(a,s)}),r=YG(i.T()),n=ce.FormData&&e instanceof ce.FormData,!(0<=R2(j5,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gM(this),0<this.B&&((this.K=V5(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.pa,this)):this.A=dI(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){QR(this,s)}};function V5(e){return Qu&&t5()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function B5(e){return e.toLowerCase()=="content-type"}Q.pa=function(){typeof nI!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))};function QR(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pM(e),tm(e)}function pM(e){e.D||(e.D=!0,Yt(e,"complete"),Yt(e,"error"))}Q.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yt(this,"complete"),Yt(this,"abort"),tm(this))};Q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tm(this,!0)),_t.Z.M.call(this)};Q.Fa=function(){this.s||(this.F||this.v||this.l?vM(this):this.cb())};Q.cb=function(){vM(this)};function vM(e){if(e.h&&typeof nI!="undefined"&&(!e.C[1]||Fi(e)!=4||e.ba()!=2)){if(e.v&&Fi(e)==4)dI(e.Fa,0,e);else if(Yt(e,"readystatechange"),Fi(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(rM)[1]||null;if(!s&&ce.self&&ce.self.location){var a=ce.self.location.protocol;s=a.substr(0,a.length-1)}i=!U5.test(s?s.toLowerCase():"")}r=i}if(r)Yt(e,"complete"),Yt(e,"success");else{e.m=6;try{var l=2<Fi(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",pM(e)}}finally{tm(e)}}}}function tm(e,t){if(e.g){gM(e);var n=e.g,r=e.C[0]?xv:null;e.g=null,e.C=null,t||Yt(e,"ready");try{n.onreadystatechange=r}catch{}}}function gM(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ce.clearTimeout(e.A),e.A=null)}function Fi(e){return e.g?e.g.readyState:0}Q.ba=function(){try{return 2<Fi(this)?this.g.status:-1}catch{return-1}};Q.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),F5(t)}};function YR(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case dM:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Q.Da=function(){return this.m};Q.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function $5(e){var t="";return iI(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function TI(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$5(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Qe(e,t,n))}function Fc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mM(e){this.za=0,this.l=[],this.h=new Gg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fc("baseRetryDelayMs",5e3,e),this.$a=Fc("retryDelaySeedMs",1e4,e),this.Ya=Fc("forwardChannelMaxRetries",2,e),this.ra=Fc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new aM(e&&e.concurrentRequestLimit),this.Ca=new D5,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Q=mM.prototype;Q.ma=8;Q.G=1;function bI(e){if(yM(e),e.G==3){var t=e.V++,n=Wi(e.F);Qe(n,"SID",e.J),Qe(n,"RID",t),Qe(n,"TYPE","terminate"),Dh(e,n),t=new Rh(e,e.h,t,void 0),t.K=2,t.v=Zg(Wi(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(t.v.toString(),"")),!n&&ce.Image&&(new Image().src=t.v,n=!0),n||(t.g=CM(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ph(t)}IM(e)}Q.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function nm(e){e.g&&(SI(e),e.g.cancel(),e.g=null)}function yM(e){nm(e),e.u&&(ce.clearTimeout(e.u),e.u=null),Vv(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ce.clearTimeout(e.m),e.m=null)}function Y_(e,t){e.l.push(new O5(e.Za++,t)),e.G==3&&rm(e)}function rm(e){uM(e.i)||e.m||(e.m=!0,fI(e.Ha,e),e.C=0)}function q5(e,t){return lM(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Ah(Qt(e.Ha,e,t),bM(e,e.C)),e.C++,!0)}Q.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Rh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=O2(n),x2(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=_M(this,t,r),i=Wi(this.F),Qe(i,"RID",e),Qe(i,"CVER",22),this.D&&Qe(i,"X-HTTP-Session-Id",this.D),Dh(this,i),this.o&&n&&TI(i,this.o,n),_I(this.i,t),this.Ra&&Qe(i,"TYPE","init"),this.ja?(Qe(i,"$req",r),Qe(i,"SID","null"),t.$=!0,jE(t,i,null)):jE(t,i,r),this.G=2}}else this.G==3&&(e?XR(this,e):this.l.length==0||uM(this.i)||XR(this))};function XR(e,t){var n;t?n=t.m:n=e.V++;var r=Wi(e.F);Qe(r,"SID",e.J),Qe(r,"RID",n),Qe(r,"AID",e.U),Dh(e,r),e.o&&e.s&&TI(r,e.o,e.s),n=new Rh(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=_M(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),_I(e.i,n),jE(n,r,t)}function Dh(e,t){e.j&&mI({},function(n,r){Qe(t,r,n)})}function _M(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Qt(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].h,p=i[c].g;if(h-=s,0>h)s=Math.max(0,i[c].h-100),l=!1;else try{L5(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function wM(e){e.g||e.u||(e.Y=1,fI(e.Ga,e),e.A=0)}function II(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Ah(Qt(e.Ga,e),bM(e,e.A)),e.A++,!0)}Q.Ga=function(){if(this.u=null,EM(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ah(Qt(this.bb,this),e)}};Q.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sn(10),nm(this),EM(this))};function SI(e){e.B!=null&&(ce.clearTimeout(e.B),e.B=null)}function EM(e){e.g=new Rh(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Wi(e.oa);Qe(t,"RID","rpc"),Qe(t,"SID",e.J),Qe(t,"CI",e.N?"0":"1"),Qe(t,"AID",e.U),Dh(e,t),Qe(t,"TYPE","xmlhttp"),e.o&&e.s&&TI(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Zg(Wi(t)),n.s=null,n.U=!0,Z2(n,e)}Q.ab=function(){this.v!=null&&(this.v=null,nm(this),II(this),Sn(19))};function Vv(e){e.v!=null&&(ce.clearTimeout(e.v),e.v=null)}function TM(e,t){var n=null;if(e.g==t){Vv(e),SI(e),e.g=null;var r=2}else if(BE(e.i,t))n=t.D,cM(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Qg(),Yt(r,new Q2(r,n,t,i)),rm(e)}else wM(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&q5(e,t)||r==2&&II(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:qs(e,5);break;case 4:qs(e,10);break;case 3:qs(e,6);break;default:qs(e,2)}}}function bM(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function qs(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Qt(e.jb,e);n||(n=new ua("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Fv(n,"https"),Zg(n)),M5(n.toString(),r)}else Sn(2);e.G=0,e.j&&e.j.va(t),IM(e),yM(e)}Q.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Sn(2)):(this.h.info("Failed to ping google.com"),Sn(1))};function IM(e){e.G=0,e.I=-1,e.j&&((fM(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,rI(e.l),e.l.length=0),e.j.ua())}function SM(e,t,n){var r=I5(n);if(r.i!="")t&&Uv(r,t+"."+r.i),jv(r,r.m);else{var i=ce.location;r=S5(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&iI(e.aa,function(s,a){Qe(r,a,s)}),t=e.D,n=e.sa,t&&n&&Qe(r,t,n),Qe(r,"VER",e.ma),Dh(e,r),r}function CM(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new _t(new Oh({ib:!0})):new _t(e.qa),t.L=e.H,t}function kM(){}Q=kM.prototype;Q.xa=function(){};Q.wa=function(){};Q.va=function(){};Q.ua=function(){};Q.Oa=function(){};function Bv(){if(Qu&&!(10<=Number(n5)))throw Error("Environmental error: no available transport.")}Bv.prototype.g=function(e,t){return new or(e,t)};function or(e,t){jt.call(this),this.g=new mM(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Dv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Dv(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Nl(this)}Zt(or,jt);or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),fI(Qt(e.hb,e,t))),Sn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=SM(e,null,e.W),rm(e)};or.prototype.close=function(){bI(this.g)};or.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Y_(this.g,t)}else this.v?(t={},t.__data__=cI(e),Y_(this.g,t)):Y_(this.g,e)};or.prototype.M=function(){this.g.j=null,delete this.j,bI(this.g),delete this.g,or.Z.M.call(this)};function AM(e){vI.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Zt(AM,vI);function NM(){gI.call(this),this.status=1}Zt(NM,gI);function Nl(e){this.g=e}Zt(Nl,kM);Nl.prototype.xa=function(){Yt(this.g,"a")};Nl.prototype.wa=function(e){Yt(this.g,new AM(e))};Nl.prototype.va=function(e){Yt(this.g,new NM(e))};Nl.prototype.ua=function(){Yt(this.g,"b")};Bv.prototype.createWebChannel=Bv.prototype.g;or.prototype.send=or.prototype.u;or.prototype.open=or.prototype.m;or.prototype.close=or.prototype.close;Yg.NO_ERROR=0;Yg.TIMEOUT=8;Yg.HTTP_ERROR=6;Y2.COMPLETE="complete";X2.EventType=Nh;Nh.OPEN="a";Nh.CLOSE="b";Nh.ERROR="c";Nh.MESSAGE="d";jt.prototype.listen=jt.prototype.N;_t.prototype.listenOnce=_t.prototype.O;_t.prototype.getLastError=_t.prototype.La;_t.prototype.getLastErrorCode=_t.prototype.Da;_t.prototype.getStatus=_t.prototype.ba;_t.prototype.getResponseJson=_t.prototype.Qa;_t.prototype.getResponseText=_t.prototype.ga;_t.prototype.send=_t.prototype.ea;var z5=function(){return new Bv},W5=function(){return Qg()},X_=Yg,H5=Y2,K5=Sa,JR={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},G5=Oh,gp=X2,Q5=_t;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Jn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return K(t,e),t}(Error),zr=new Ea("@firebase/firestore");function $E(){return zr.logLevel}function z(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zr.logLevel<=we.DEBUG){var r=t.map(CI);zr.debug.apply(zr,ve(["Firestore (8.10.1): "+e],r))}}function yt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zr.logLevel<=we.ERROR){var r=t.map(CI);zr.error.apply(zr,ve(["Firestore (8.10.1): "+e],r))}}function Gf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zr.logLevel<=we.WARN){var r=t.map(CI);zr.warn.apply(zr,ve(["Firestore (8.10.1): "+e],r))}}function CI(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw yt(t),new Error(t)}function ae(e,t){e||Z()}function H(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(e){var t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RM=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=Y5(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function be(e,t){return e<t?-1:e>t?1:0}function Yu(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function PM(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new V(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new V(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new V(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?be(this.nanoseconds,t.nanoseconds):be(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),_e=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new qn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ca(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function OM(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xM=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Z(),r===void 0?r=t.length-n:r>t.length-n&&Z(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Pe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new V(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(xM),X5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return X5.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new V(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new V(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new V(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new V(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(xM),Xu=function(){function e(t){this.fields=t,t.sort(Kr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Yu(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),kn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return be(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();kn.EMPTY_BYTE_STRING=new kn("");var J5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(e){if(ae(!!e),typeof e=="string"){var t=0,n=J5.exec(e);if(ae(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mt(e.seconds),nanos:mt(e.nanos)}}function mt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ju(e){return typeof e=="string"?kn.fromBase64String(e):kn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function DM(e){var t=e.mapValue.fields.__previous_value__;return kI(t)?DM(t):t}function Qf(e){var t=Yo(e.mapValue.fields.__local_write_time__.timestampValue);return new qn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(e){return e==null}function $v(e){return e===0&&1/e==-1/0}function LM(e){return typeof e=="number"&&Number.isInteger(e)&&!$v(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Pe.fromString(t))},e.fromName=function(t){return new e(Pe.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Pe.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Pe.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Pe(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kI(e)?4:10:Z()}function _i(e,t){var n=la(e);if(n!==la(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qf(e).isEqual(Qf(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=Yo(r.timestampValue),a=Yo(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Ju(r.bytesValue).isEqual(Ju(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return mt(r.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(r.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return mt(r.integerValue)===mt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=mt(r.doubleValue),a=mt(i.doubleValue);return s===a?$v(s)===$v(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Yu(e.arrayValue.values||[],t.arrayValue.values||[],_i);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(ZR(s)!==ZR(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!_i(s[l],a[l])))return!1;return!0}(e,t);default:return Z()}}function Yf(e,t){return(e.values||[]).find(function(n){return _i(n,t)})!==void 0}function Zu(e,t){var n=la(e),r=la(t);if(n!==r)return be(n,r);switch(n){case 0:return 0;case 1:return be(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=mt(i.integerValue||i.doubleValue),l=mt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return eP(e.timestampValue,t.timestampValue);case 4:return eP(Qf(e),Qf(t));case 5:return be(e.stringValue,t.stringValue);case 6:return function(i,s){var a=Ju(i),l=Ju(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=be(a[c],l[c]);if(h!==0)return h}return be(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=be(mt(i.latitude),mt(s.latitude));return a!==0?a:be(mt(i.longitude),mt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=Zu(a[c],l[c]);if(h)return h}return be(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var g=be(l[p],h[p]);if(g!==0)return g;var m=Zu(a[l[p]],c[h[p]]);if(m!==0)return m}return be(l.length,h.length)}(e.mapValue,t.mapValue);default:throw Z()}}function eP(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return be(e,t);var n=Yo(e),r=Yo(t),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function AI(e){return qE(e)}function qE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Yo(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ju(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,te.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=qE(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+qE(r.fields[c])}return i+"}"}(e.mapValue):Z();var t,n}function qv(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function zE(e){return!!e&&"integerValue"in e}function NI(e){return!!e&&"arrayValue"in e}function tP(e){return!!e&&"nullValue"in e}function nP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jp(e){return!!e&&"mapValue"in e}function vf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ca(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=vf(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=vf(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!jp(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vf(n)},e.prototype.setAll=function(t){var n=this,r=Kr.emptyPath(),i={},s=[];t.forEach(function(l,c){if(!r.isImmediateParentOf(c)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=c.popLast()}l?i[c.lastSegment()]=vf(l):s.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());jp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return _i(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Ca(n,function(l,c){return t[l]=c});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(vf(this.value))},e}();function MM(e){var t=[];return Ca(e.fields,function(n,r){var i=new Kr([n]);if(jp(r)){var s=MM(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new Xu(t)}var Jt=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,_e.min(),Xn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Xn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Xn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Z5=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new Z5(e,t,n,r,i,s,a)}function Lh(e){var t=H(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+AI(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),ka(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Wv(t.startAt)),t.endAt&&(n+="|ub:",n+=Wv(t.endAt)),t.h=n}return t.h}function im(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!a8(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!_i(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!oP(e.startAt,t.startAt)&&oP(e.endAt,t.endAt)}function zv(e){return te.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Zn=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return K(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new e8(n,r,i):r==="array-contains"?new r8(n,i):r==="in"?new i8(n,i):r==="not-in"?new o8(n,i):r==="array-contains-any"?new s8(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new t8(n,i):new n8(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Zu(r,this.value)):r!==null&&la(this.value)===la(r)&&this.m(Zu(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Z()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),e8=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=te.fromName(i.referenceValue),s}return K(t,e),t.prototype.matches=function(n){var r=te.comparator(n.key,this.key);return this.m(r)},t}(Zn),t8=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=FM("in",r),i}return K(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Zn),n8=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=FM("not-in",r),i}return K(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Zn);function FM(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return te.fromName(r.referenceValue)})}var r8=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return K(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return NI(r)&&Yf(r.arrayValue,this.value)},t}(Zn),i8=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return K(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Yf(this.value.arrayValue,r)},t}(Zn),o8=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return K(t,e),t.prototype.matches=function(n){if(Yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Yf(this.value.arrayValue,r)},t}(Zn),s8=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return K(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!NI(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return Yf(r.value.arrayValue,s)})},t}(Zn),Xf=function(e,t){this.position=e,this.before=t};function Wv(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return AI(t)}).join(",")}var Du=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function a8(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function iP(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?te.comparator(te.fromName(a.referenceValue),n.key):Zu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function oP(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!_i(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yi=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function UM(e,t,n,r,i,s,a,l){return new Yi(e,t,n,r,i,s,a,l)}function Rl(e){return new Yi(e)}function Vp(e){return!ka(e.limit)&&e.limitType==="F"}function Hv(e){return!ka(e.limit)&&e.limitType==="L"}function RI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function PI(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function OI(e){return e.collectionGroup!==null}function el(e){var t=H(e);if(t.p===null){t.p=[];var n=PI(t),r=RI(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Du(n)),t.p.push(new Du(Kr.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Du(Kr.keyField(),c))}}}return t.p}function Sr(e){var t=H(e);if(!t.T)if(t.limitType==="F")t.T=rP(t.path,t.collectionGroup,el(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=el(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Du(s.field,a))}var l=t.endAt?new Xf(t.endAt.position,!t.endAt.before):null,c=t.startAt?new Xf(t.startAt.position,!t.startAt.before):null;t.T=rP(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function jM(e,t,n){return new Yi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mh(e,t){return im(Sr(e),Sr(t))&&e.limitType===t.limitType}function VM(e){return Lh(Sr(e))+"|lt:"+e.limitType}function WE(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+AI(i.value);var i}).join(", ")+"]"),ka(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Wv(t.startAt)),t.endAt&&(n+=", endAt: "+Wv(t.endAt)),"Target("+n+")"}(Sr(e))+"; limitType="+e.limitType+")"}function Fh(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):te.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!iP(n.startAt,el(n),r))&&(!n.endAt||!iP(n.endAt,el(n),r))}(e,t)}function BM(e){return function(t,n){for(var r=!1,i=0,s=el(e);i<s.length;i++){var a=s[i],l=u8(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function u8(e,t,n){var r=e.field.isKeyField()?te.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Zu(l,c):Z()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$v(t)?"-0":t}}function qM(e){return{integerValue:""+e}}function zM(e,t){return LM(t)?qM(t):$M(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var om=function(){this._=void 0};function l8(e,t,n){return e instanceof tl?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof ca?HM(e,t):e instanceof fa?KM(e,t):function(r,i){var s=WM(r,i),a=sP(s)+sP(r.A);return zE(s)&&zE(r.A)?qM(a):$M(r.R,a)}(e,t)}function c8(e,t,n){return e instanceof ca?HM(e,t):e instanceof fa?KM(e,t):n}function WM(e,t){return e instanceof nl?zE(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var tl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t}(om),ca=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return K(t,e),t}(om);function HM(e,t){for(var n=GM(t),r=function(a){n.some(function(l){return _i(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var fa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return K(t,e),t}(om);function KM(e,t){for(var n=GM(t),r=function(a){n=n.filter(function(l){return!_i(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var nl=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return K(t,e),t}(om);function sP(e){return mt(e.integerValue||e.doubleValue)}function GM(e){return NI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uh=function(e,t){this.field=e,this.transform=t},f8=function(e,t){this.version=e,this.transformResults=t},sn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Bp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var sm=function(){};function h8(e,t,n){e instanceof jh?function(r,i,s){var a=r.value.clone(),l=lP(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof rs?function(r,i,s){if(Bp(r.precondition,i)){var a=lP(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(QM(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function HE(e,t,n){e instanceof jh?function(r,i,s){if(Bp(r.precondition,i)){var a=r.value.clone(),l=cP(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(uP(i),a).setHasLocalMutations()}}(e,t,n):e instanceof rs?function(r,i,s){if(Bp(r.precondition,i)){var a=cP(r.fieldTransforms,s,i),l=i.data;l.setAll(QM(r)),l.setAll(a),i.convertToFoundDocument(uP(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){Bp(r.precondition,i)&&i.convertToNoDocument(_e.min())}(e,t)}function d8(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=WM(s.transform,a||null);l!=null&&(n==null&&(n=Xn.empty()),n.set(s.field,l))}return n||null}function aP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Yu(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof ca&&h instanceof ca||c instanceof fa&&h instanceof fa?Yu(c.elements,h.elements,_i):c instanceof nl&&h instanceof nl?_i(c.A,h.A):c instanceof tl&&h instanceof tl}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function uP(e){return e.isFoundDocument()?e.version:_e.min()}var jh=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return K(t,e),t}(sm),rs=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return K(t,e),t}(sm);function QM(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function lP(e,t,n){var r=new Map;ae(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,c8(a,l,n[i]))}return r}function cP(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,l8(l,c,t))}return r}var gt,Se,Vh=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return K(t,e),t}(sm),xI=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return K(t,e),t}(sm),p8=function(e){this.count=e};function YM(e){switch(e){case D.OK:return Z();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return Z()}}function XM(e){if(e===void 0)return yt("GRPC error has no .code"),D.UNKNOWN;switch(e){case gt.OK:return D.OK;case gt.CANCELLED:return D.CANCELLED;case gt.UNKNOWN:return D.UNKNOWN;case gt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case gt.INTERNAL:return D.INTERNAL;case gt.UNAVAILABLE:return D.UNAVAILABLE;case gt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case gt.NOT_FOUND:return D.NOT_FOUND;case gt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case gt.ABORTED:return D.ABORTED;case gt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case gt.DATA_LOSS:return D.DATA_LOSS;default:return Z()}}(Se=gt||(gt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn=function(){function e(t,n){this.comparator=t,this.root=n||yo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yo.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new mp(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new mp(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new mp(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new mp(this.root,t,this.comparator,!0)},e}(),mp=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),yo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=i!=null?i:e.EMPTY,this.right=s!=null?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();var t=this.left.check();if(t!==this.right.check())throw Z();return t+(this.isRed()?0:1)},e}();yo.EMPTY=null,yo.RED=!0,yo.BLACK=!1,yo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Z()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new yo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt=function(){function e(t){this.comparator=t,this.data=new vn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new fP(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new fP(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),fP=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),v8=new vn(te.comparator);function wr(){return v8}var g8=new vn(te.comparator);function KE(){return g8}var m8=new vn(te.comparator);function JM(){return m8}var y8=new kt(te.comparator);function Me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=y8,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var _8=new kt(be);function am(){return _8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DI=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,LI.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(_e.min(),r,am(),wr(),Me())},e}(),LI=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(kn.EMPTY_BYTE_STRING,n,Me(),Me(),Me())},e}(),$p=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},ZM=function(e,t){this.targetId=e,this.V=t},eF=function(e,t,n,r){n===void 0&&(n=kn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},hP=function(){function e(){this.S=0,this.D=pP(),this.C=kn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Me(),n=Me(),r=Me();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new LI(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=pP()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),w8=function(){function e(t){this.W=t,this.G=new Map,this.H=wr(),this.J=dP(),this.Y=new kt(be)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:Z()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(zv(s))if(r===0){var a=new te(s.path);this.tt(n,a,Jt.newNoDocument(a,_e.min()))}else ae(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&zv(c.target)){var h=new te(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,Jt.newNoDocument(h,t))}a.$&&(r.set(l,a.M()),a.L())}});var i=Me();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new DI(t,r,this.Y,this.H,i);return this.H=wr(),this.J=dP(),this.Y=new kt(be),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new hP,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new kt(be),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||z("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new hP),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function dP(){return new vn(te.comparator)}function pP(){return new vn(te.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E8={asc:"ASCENDING",desc:"DESCENDING"},T8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b8=function(e,t){this.databaseId=e,this.I=t};function Jf(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function tF(e,t){return e.I?t.toBase64():t.toUint8Array()}function I8(e,t){return Jf(e,t.toTimestamp())}function Mt(e){return ae(!!e),_e.fromTimestamp(function(t){var n=Yo(t);return new qn(n.seconds,n.nanos)}(e))}function MI(e,t){return function(n){return new Pe(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function nF(e){var t=Pe.fromString(e);return ae(cF(t)),t}function Zf(e,t){return MI(e.databaseId,t.path)}function hi(e,t){var n=nF(t);if(n.get(1)!==e.databaseId.projectId)throw new V(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new V(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new te(iF(n))}function GE(e,t){return MI(e.databaseId,t)}function rF(e){var t=nF(e);return t.length===4?Pe.emptyPath():iF(t)}function eh(e){return new Pe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iF(e){return ae(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function vP(e,t,n){return{name:Zf(e,t),fields:n.value.mapValue.fields}}function oF(e,t,n){var r=hi(e,t.name),i=Mt(t.updateTime),s=new Xn({mapValue:{fields:t.fields}}),a=Jt.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Kv(e,t){var n;if(t instanceof jh)n={update:vP(e,t.key,t.value)};else if(t instanceof Vh)n={delete:Zf(e,t.key)};else if(t instanceof rs)n={update:vP(e,t.key,t.data),updateMask:N8(t.fieldMask)};else{if(!(t instanceof xI))return Z();n={verify:Zf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof tl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ca)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nl)return{fieldPath:s.field.canonicalString(),increment:a.A};throw Z()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:I8(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(e,t.precondition)),n}function gP(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?sn.updateTime(Mt(h.updateTime)):h.exists!==void 0?sn.exists(h.exists):sn.none()}(t.currentDocument):sn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,g){var m=null;if("setToServerValue"in g)ae(g.setToServerValue==="REQUEST_TIME"),m=new tl;else if("appendMissingElements"in g){var y=g.appendMissingElements.values||[];m=new ca(y)}else if("removeAllFromArray"in g){var E=g.removeAllFromArray.values||[];m=new fa(E)}else"increment"in g?m=new nl(p,g.increment):Z();var S=Kr.fromServerFormat(g.fieldPath);return new Uh(S,m)}(e,h)}):[];if(t.update){t.update.name;var i=hi(e,t.update.name),s=new Xn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new Xu(p.map(function(g){return Kr.fromServerFormat(g)}))}(t.updateMask);return new rs(i,s,a,n,r)}return new jh(i,s,n,r)}if(t.delete){var l=hi(e,t.delete);return new Vh(l,n)}if(t.verify){var c=hi(e,t.verify);return new xI(c,n)}return Z()}function sF(e,t){return{documents:[GE(e,t.path)]}}function aF(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=GE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=GE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if(nP(p.value))return{unaryFilter:{field:su(p.field),op:"IS_NAN"}};if(tP(p.value))return{unaryFilter:{field:su(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(nP(p.value))return{unaryFilter:{field:su(p.field),op:"IS_NOT_NAN"}};if(tP(p.value))return{unaryFilter:{field:su(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(p.field),op:C8(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:su(h.field),direction:S8(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||ka(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=mP(t.startAt)),t.endAt&&(n.structuredQuery.endAt=mP(t.endAt)),n}function uF(e){var t=rF(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ae(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=lF(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(m){return new Du(Eu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(g)}));var c=null;n.limit&&(c=function(g){var m;return ka(m=typeof g=="object"?g.value:g)?null:m}(n.limit));var h=null;n.startAt&&(h=yP(n.startAt));var p=null;return n.endAt&&(p=yP(n.endAt)),UM(t,i,l,a,c,"F",h,p)}function lF(e){return e?e.unaryFilter!==void 0?[A8(e)]:e.fieldFilter!==void 0?[k8(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return lF(t)}).reduce(function(t,n){return t.concat(n)}):Z():[]}function mP(e){return{before:e.before,values:e.position}}function yP(e){var t=!!e.before,n=e.values||[];return new Xf(n,t)}function S8(e){return E8[e]}function C8(e){return T8[e]}function su(e){return{fieldPath:e.canonicalString()}}function Eu(e){return Kr.fromServerFormat(e.fieldPath)}function k8(e){return Zn.create(Eu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Z()}}(e.fieldFilter.op),e.fieldFilter.value)}function A8(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Eu(e.unaryFilter.field);return Zn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Eu(e.unaryFilter.field);return Zn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Eu(e.unaryFilter.field);return Zn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Eu(e.unaryFilter.field);return Zn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Z()}}function N8(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function cF(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=_P(t)),t=R8(e.get(n),t);return _P(t)}function R8(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function _P(e){return e+""}function Ui(e){var t=e.length;if(ae(t>=2),t===2)return ae(e.charAt(0)===""&&e.charAt(1)===""),Pe.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&Z(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:Z()}s=a+2}return new Pe(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P8=function(e,t){this.seconds=e,this.nanoseconds=t},Qn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Qn.store="owner",Qn.key="owner";var Fo=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Fo.store="mutationQueues",Fo.keyPath="userId";var We=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};We.store="mutations",We.keyPath="batchId",We.userMutationsIndex="userMutationsIndex",We.userMutationsKeyPath=["userId","batchId"];var rn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Wr(n)]},e.key=function(t,n,r){return[t,Wr(n),r]},e}();rn.store="documentMutations",rn.PLACEHOLDER=new rn;var O8=function(e,t){this.path=e,this.readTime=t},x8=function(e,t){this.path=e,this.version=t},st=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};st.store="remoteDocuments",st.readTimeIndex="readTimeIndex",st.readTimeIndexPath="readTime",st.collectionReadTimeIndex="collectionReadTimeIndex",st.collectionReadTimeIndexPath=["parentPath","readTime"];var ui=function(e){this.byteSize=e};ui.store="remoteDocumentGlobal",ui.key="remoteDocumentGlobalKey";var jn=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};jn.store="targets",jn.keyPath="targetId",jn.queryTargetsIndexName="queryTargetsIndex",jn.queryTargetsKeyPath=["canonicalId","targetId"];var Kt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Kt.store="targetDocuments",Kt.keyPath=["targetId","path"],Kt.documentTargetsIndex="documentTargetsIndex",Kt.documentTargetsKeyPath=["path","targetId"];var Yn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Yn.key="targetGlobalKey",Yn.store="targetGlobal";var Ys=function(e,t){this.collectionId=e,this.parent=t};Ys.store="collectionParents",Ys.keyPath=["collectionId","parent"];var Bi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Bi.store="clientMetadata",Bi.keyPath="clientId";var rl=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};rl.store="bundles",rl.keyPath="bundleId";var il=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};il.store="namedQueries",il.keyPath="name";var D8=ve(ve([],ve(ve([],ve(ve([],ve(ve([],[Fo.store,We.store,rn.store,st.store,jn.store,Qn.store,Yn.store,Kt.store]),[Bi.store])),[ui.store])),[Ys.store])),[rl.store,il.store]),fF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hF=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),pn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},B=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),dF=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new pn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new gf(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=FI(i.target.error);r.ft.reject(new gf(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new gf(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(z("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new M8(n)},e}(),ol=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(ra())===12.2&&yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return z("SimpleDb","Removing database:",t),xs(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB=="undefined")return!1;if(e.gt())return!0;var t=ra(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process!="undefined"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(z("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new gf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new V(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new gf(t,h))},l.onupgradeneeded=function(c){z("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){z("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return R(this,void 0,void 0,function(){var s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var g,m,y,E,S;return N(this,function(w){switch(w.label){case 0:++a,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=w.sent(),g=dF.open(c.db,t,s?"readonly":"readwrite",r),m=i(g).catch(function(T){return g.abort(T),B.reject(T)}).toPromise(),y={},m.catch(function(){}),[4,g.dt];case 3:return[2,(y.value=(w.sent(),m),y)];case 4:return E=w.sent(),S=E.name!=="FirebaseError"&&a<3,z("SimpleDb","Transaction failed with error:",E.message,"Retrying:",S),c.close(),S?[3,5]:[2,{value:Promise.reject(E)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),L8=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return xs(this.Pt.delete())},e}(),gf=function(e){function t(n,r){var i=this;return(i=e.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return K(t,e),t}(V);function Aa(e){return e.name==="IndexedDbTransactionError"}var M8=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(z("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),xs(r)},e.prototype.add=function(t){return z("SimpleDb","ADD",this.store.name,t,t),xs(this.store.add(t))},e.prototype.get=function(t){var n=this;return xs(this.store.get(t)).next(function(r){return r===void 0&&(r=null),z("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return z("SimpleDb","DELETE",this.store.name,t),xs(this.store.delete(t))},e.prototype.count=function(){return z("SimpleDb","COUNT",this.store.name),xs(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.kt=function(t,n){z("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new B(function(r,i){n.onerror=function(s){var a=FI(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new B(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new L8(l),h=n(l.primaryKey,l.value,c);if(h instanceof B){var p=h.catch(function(g){return c.done(),B.reject(g)});r.push(p)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return B.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function xs(e){return new B(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=FI(r.target.error);n(i)}})}var wP=!1;function FI(e){var t=ol._t(ra());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new V("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return wP||(wP=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EP=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return K(t,e),t}(hF);function Wn(e,t){var n=H(e);return ol.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UI=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&h8(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&HE(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&HE(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(_e.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Me())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Yu(this.mutations,t.mutations,function(n,r){return aP(n,r)})&&Yu(this.baseMutations,t.baseMutations,function(n,r){return aP(n,r)})},e}(),F8=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){ae(t.mutations.length===r.length);for(var i=JM(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),um=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=_e.min()),a===void 0&&(a=_e.min()),l===void 0&&(l=kn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),pF=function(e){this.Lt=e};function QE(e,t){if(t.document)return oF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=te.fromSegments(t.noDocument.path),r=al(t.noDocument.readTime),i=Jt.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=te.fromSegments(t.unknownDocument.path);return r=al(t.unknownDocument.version),Jt.newUnknownDocument(s,r)}return Z()}function TP(e,t,n){var r=jI(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(g,m){return{name:Zf(g,m.key),fields:m.data.value.mapValue.fields,updateTime:Jf(g,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new st(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=sl(t.version);return a=t.hasCommittedMutations,new st(null,new O8(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),p=sl(t.version);return new st(new x8(h,p),null,null,!0,r,i)}return Z()}function jI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vF(e){var t=new qn(e[0],e[1]);return _e.fromTimestamp(t)}function sl(e){var t=e.toTimestamp();return new P8(t.seconds,t.nanoseconds)}function al(e){var t=new qn(e.seconds,e.nanoseconds);return _e.fromTimestamp(t)}function hu(e,t){for(var n=(t.baseMutations||[]).map(function(c){return gP(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return gP(e.Lt,c)}),l=qn.fromMillis(t.localWriteTimeMs);return new UI(t.batchId,l,n,a)}function Kc(e){var t,n,r=al(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?al(e.lastLimboFreeSnapshotVersion):_e.min();return e.query.documents!==void 0?(ae((n=e.query).documents.length===1),t=Sr(Rl(rF(n.documents[0])))):t=function(s){return Sr(uF(s))}(e.query),new um(t,e.targetId,0,e.lastListenSequenceNumber,r,i,kn.fromBase64String(e.resumeToken))}function gF(e,t){var n,r=sl(t.snapshotVersion),i=sl(t.lastLimboFreeSnapshotVersion);n=zv(t.target)?sF(e.Lt,t.target):aF(e.Lt,t.target);var s=t.resumeToken.toBase64();return new jn(t.targetId,Lh(t.target),r,s,t.sequenceNumber,i,n)}function VI(e){var t=uF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?jM(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U8=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return bP(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:al(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return bP(t).put({bundleId:(r=n).id,createTime:sl(Mt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return IP(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:VI(i.bundledQuery),readTime:al(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return IP(t).put(function(r){return{name:r.name,readTime:sl(Mt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function bP(e){return Wn(e,rl.store)}function IP(e){return Wn(e,il.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j8=function(){function e(){this.Bt=new BI}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),B.resolve()},e.prototype.getCollectionParents=function(t,n){return B.resolve(this.Bt.getEntries(n))},e}(),BI=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new kt(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new kt(Pe.comparator)).toArray()},e}(),V8=function(){function e(){this.qt=new BI}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Wr(s)};return SP(t).put(a)}return B.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[PM(n),""],!1,!0);return SP(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(Ui(c.parent))}return r})},e}();function SP(e){return Wn(e,Ys.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ii=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(e,t,n){var r=e.store(We.store),i=e.store(rn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.$t({range:a},function(E,S,w){return l++,w.delete()});s.push(c.next(function(){ae(l===1)}));for(var h=[],p=0,g=n.mutations;p<g.length;p++){var m=g[p],y=rn.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return B.waitFor(s).next(function(){return h})}function Gv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Z();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii.DEFAULT_COLLECTION_PERCENTILE=10,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ii.DEFAULT=new ii(41943040,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ii.DISABLED=new ii(-1,0,0);var B8=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return ae(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fo(t).$t({index:We.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=du(t),l=fo(t);return l.add({}).next(function(c){ae(typeof c=="number");for(var h=new UI(c,n,r,i),p=function(T,I,k){var P=k.baseMutations.map(function(O){return Kv(T.Lt,O)}),x=k.mutations.map(function(O){return Kv(T.Lt,O)});return new We(I,k.batchId,k.localWriteTime.toMillis(),P,x)}(s.R,s.userId,h),g=[],m=new kt(function(T,I){return be(T.canonicalString(),I.canonicalString())}),y=0,E=i;y<E.length;y++){var S=E[y],w=rn.key(s.userId,S.key.path,c);m=m.add(S.key.path.popLast()),g.push(l.put(p)),g.push(a.put(w,rn.PLACEHOLDER))}return m.forEach(function(T){g.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[c]=h.keys()}),B.waitFor(g).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return fo(t).get(n).next(function(i){return i?(ae(i.userId===r.userId),hu(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?B.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return fo(t).$t({index:We.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(ae(c.batchId>=i),a=hu(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return fo(t).$t({index:We.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fo(t).Nt(We.userMutationsIndex,r).next(function(i){return i.map(function(s){return hu(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=rn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return du(t).$t({range:s},function(l,c,h){var p=l[0],g=l[1],m=l[2],y=Ui(g);if(p===r.userId&&n.path.isEqual(y))return fo(t).get(m).next(function(E){if(!E)throw Z();ae(E.userId===r.userId),a.push(hu(r.R,E))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new kt(be),s=[];return n.forEach(function(a){var l=rn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=du(t).$t({range:c},function(p,g,m){var y=p[0],E=p[1],S=p[2],w=Ui(E);y===r.userId&&a.path.isEqual(w)?i=i.add(S):m.done()});s.push(h)}),B.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=rn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new kt(be);return du(t).$t({range:l},function(h,p,g){var m=h[0],y=h[1],E=h[2],S=Ui(y);m===r.userId&&i.isPrefixOf(S)?S.length===s&&(c=c.add(E)):g.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(fo(t).get(a).next(function(l){if(l===null)throw Z();ae(l.userId===r.userId),i.push(hu(r.R,l))}))}),B.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return mF(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),B.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return B.resolve();var i=IDBKeyRange.lowerBound(rn.prefixForUser(n.userId)),s=[];return du(t).$t({range:i},function(a,l,c){if(a[0]===n.userId){var h=Ui(a[1]);s.push(h)}else c.done()}).next(function(){ae(s.length===0)})})},e.prototype.containsKey=function(t,n){return yF(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return _F(t).get(this.userId).next(function(r){return r||new Fo(n.userId,-1,"")})},e}();function yF(e,t,n){var r=rn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return du(e).$t({range:s,Ft:!0},function(l,c,h){var p=l[0],g=l[1];l[2],p===t&&g===i&&(a=!0),h.done()}).next(function(){return a})}function fo(e){return Wn(e,We.store)}function du(e){return Wn(e,rn.store)}function _F(e){return Wn(e,Fo.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qv=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),$8=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new Qv(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return _e.fromTimestamp(new qn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return au(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return ae(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return au(t).$t(function(l,c){var h=Kc(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return B.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return au(t).$t(function(r,i){var s=Kc(i);n(s)})},e.prototype.Xt=function(t){return kP(t).get(Yn.key).next(function(n){return ae(n!==null),n})},e.prototype.Zt=function(t,n){return kP(t).put(Yn.key,n)},e.prototype.te=function(t,n){return au(t).put(gF(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Lh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return au(t).$t({range:i,index:jn.queryTargetsIndexName},function(a,l,c){var h=Kc(l);im(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=_o(t);return n.forEach(function(l){var c=Wr(l.path);s.push(a.put(new Kt(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),B.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=_o(t);return B.forEach(n,function(a){var l=Wr(a.path);return B.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=_o(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=_o(t),s=Me();return i.$t({range:r,Ft:!0},function(a,l,c){var h=Ui(a[1]),p=new te(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Wr(n.path),i=IDBKeyRange.bound([r],[PM(r)],!1,!0),s=0;return _o(t).$t({index:Kt.documentTargetsIndex,Ft:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return au(t).get(n).next(function(r){return r?Kc(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(e){return Wn(e,jn.store)}function kP(e){return Wn(e,Yn.store)}function _o(e){return Wn(e,Kt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(e){return R(this,void 0,void 0,function(){return N(this,function(t){if(e.code!==D.FAILED_PRECONDITION||e.message!==fF)throw e;return z("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=be(n,i);return a===0?be(r,s):a}var q8=function(){function e(t){this.ne=t,this.buffer=new kt(AP),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();AP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),z8=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;z("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return R(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Aa(i=s.sent())?(z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Na(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),W8=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return B.resolve(Jn.o);var i=new q8(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(CP)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),CP):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,p=this,g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),i=p.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),p.nthSequenceNumber(t,i)}).next(function(m){return r=m,l=Date.now(),p.removeTargets(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),$E()<=we.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-g)+"ms"),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),H8=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new W8(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return yp(t,r)},e.prototype.removeReference=function(t,n,r){return yp(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return yp(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return _F(r).Ot(function(a){return yF(r,a,i).next(function(l){return l&&(s=!0),B.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(p){if(!p)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),_o(t).delete([0,Wr(l.path)])})});s.push(h)}}).next(function(){return B.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return yp(t,n)},e.prototype.we=function(t,n){var r,i=_o(t),s=Jn.o;return i.$t({index:Kt.documentTargetsIndex},function(a,l){var c=a[0];a[1];var h=l.path,p=l.sequenceNumber;c===0?(s!==Jn.o&&n(new te(Ui(r)),s),s=p,r=h):s=Jn.o}).next(function(){s!==Jn.o&&n(new te(Ui(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function yp(e,t){return _o(e).put(function(n,r){return new Kt(0,Wr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pl=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Ca(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return OM(this.inner)},e}(),wF=function(){function e(){this.changes=new Pl(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:_e.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Jt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?B.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),K8=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return go(t).put(_p(n),r)},e.prototype.removeEntry=function(t,n){var r=go(t),i=_p(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return go(t).get(_p(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return go(t).get(_p(n)).next(function(i){return{document:r.ye(n,i),size:Gv(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=wr();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=wr(),s=new vn(te.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,Gv(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return B.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return go(t).$t({range:i},function(l,c,h){for(var p=te.fromSegments(l);a&&te.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=wr(),a=n.path.length+1,l={};if(r.isEqual(_e.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),p=jI(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=st.collectionReadTimeIndex}return go(t).$t(l,function(g,m,y){if(g.length===a){var E=QE(i.R,m);n.path.isPrefixOf(E.key.path)?Fh(n,E)&&(s=s.insert(E.key,E)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new G8(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return NP(t).get(ui.key).next(function(n){return ae(!!n),n})},e.prototype.me=function(t,n){return NP(t).put(ui.key,n)},e.prototype.ye=function(t,n){if(n){var r=QE(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(_e.min()))return r}return Jt.newInvalidDocument(t)},e}(),G8=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Pl(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return K(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new kt(function(l,c){return be(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var p=TP(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var g=Gv(p);s+=g-h,i.push(r.Ie.addEntry(n,l,p))}else if(s-=h,r.trackRemovals){var m=TP(r.Ie.R,Jt.newNoDocument(l,_e.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,m))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),B.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(wF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(e){return Wn(e,ui.store)}function go(e){return Wn(e,st.store)}function _p(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q8=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;ae(r<i&&r>=0&&i<=11);var a=new dF("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Qn.store)}(t),function(c){c.createObjectStore(Fo.store,{keyPath:Fo.keyPath}),c.createObjectStore(We.store,{keyPath:We.keyPath,autoIncrement:!0}).createIndex(We.userMutationsIndex,We.userMutationsKeyPath,{unique:!0}),c.createObjectStore(rn.store)}(t),RP(t),function(c){c.createObjectStore(st.store)}(t));var l=B.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Kt.store),c.deleteObjectStore(jn.store),c.deleteObjectStore(Yn.store)}(t),RP(t)),l=l.next(function(){return function(c){var h=c.store(Yn.store),p=new Yn(0,0,_e.min().toTimestamp(),0);return h.put(Yn.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(We.store).Nt().next(function(p){c.deleteObjectStore(We.store),c.createObjectStore(We.store,{keyPath:We.keyPath,autoIncrement:!0}).createIndex(We.userMutationsIndex,We.userMutationsKeyPath,{unique:!0});var g=h.store(We.store),m=p.map(function(y){return g.put(y)});return B.waitFor(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(Bi.store,{keyPath:Bi.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(ui.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(st.store);h.createIndex(st.readTimeIndex,st.readTimeIndexPath,{unique:!1}),h.createIndex(st.collectionReadTimeIndex,st.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(rl.store,{keyPath:rl.keyPath})})(t),function(c){c.createObjectStore(il.store,{keyPath:il.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(st.store).$t(function(r,i){n+=Gv(i)}).next(function(){var r=new ui(n);return t.store(ui.store).put(ui.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Fo.store),i=t.store(We.store);return r.Nt().next(function(s){return B.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(We.userMutationsIndex,l).next(function(c){return B.forEach(c,function(h){ae(h.userId===a.userId);var p=hu(n.R,h);return mF(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Kt.store),r=t.store(st.store);return t.store(Yn.store).get(Yn.key).next(function(i){var s=[];return r.$t(function(a,l){var c=new Pe(a),h=function(p){return[0,Wr(p)]}(c);s.push(n.get(h).next(function(p){return p?B.resolve():function(g){return n.put(new Kt(0,Wr(g),i.highestListenSequenceNumber))}(c)}))}).next(function(){return B.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Ys.store,{keyPath:Ys.keyPath});var r=n.store(Ys.store),i=new BI,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Wr(c)})}};return n.store(st.store).$t({Ft:!0},function(a,l){var c=new Pe(a);return s(c.popLast())}).next(function(){return n.store(rn.store).$t({Ft:!0},function(a,l){a[0];var c=a[1];a[2];var h=Ui(c);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(jn.store);return r.$t(function(i,s){var a=Kc(s),l=gF(n.R,a);return r.put(l)})},e}();function RP(e){e.createObjectStore(Kt.store,{keyPath:Kt.keyPath}).createIndex(Kt.documentTargetsIndex,Kt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(jn.store,{keyPath:jn.keyPath}).createIndex(jn.queryTargetsIndexName,jn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Yn.store)}var J_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Y8=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(g){return Promise.resolve()},!e.yt())throw new V(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new H8(this,i),this.Le=n+"main",this.R=new pF(c),this.Be=new ol(this.Le,11,new Q8(this.R)),this.qe=new $8(this.referenceDelegate,this.R),this.Ut=new V8,this.Ue=function(g,m){return new K8(g,m)}(this.R,this.Ut),this.Ke=new U8,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&yt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new V(D.FAILED_PRECONDITION,J_);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Jn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return R(n,void 0,void 0,function(){return N(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return R(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return R(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return wp(n).put(new Bi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Aa(n))return z("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Uc(t).get(Qn.key).next(function(r){return B.resolve(n.tn(r))})},e.prototype.en=function(t){return wp(t).delete(this.clientId)},e.prototype.nn=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=Wn(l,Bi.store);return c.Nt().next(function(h){var p=s.rn(h,18e5),g=h.filter(function(m){return p.indexOf(m)===-1});return B.forEach(g,function(m){return c.delete(m.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?B.resolve(!0):Uc(t).get(Qn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new V(D.FAILED_PRECONDITION,J_);return!1}}return!(!n.networkEnabled||!n.inForeground)||wp(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&z("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return R(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qn.store,Bi.store],function(r){var i=new EP(r,Jn.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return wp(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return B8.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;z("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,D8,function(l){return s=new EP(l,i.Ne?i.Ne.next():Jn.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw yt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new V(D.FAILED_PRECONDITION,fF);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Uc(t).get(Qn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new V(D.FAILED_PRECONDITION,J_)})},e.prototype.Ze=function(t){var n=new Qn(this.clientId,this.allowTabSynchronization,Date.now());return Uc(t).put(Qn.key,n)},e.yt=function(){return ol.yt()},e.prototype.Xe=function(t){var n=this,r=Uc(t);return r.get(Qn.key).next(function(i){return n.tn(i)?(z("IndexedDbPersistence","Releasing primary lease."),r.delete(Qn.key)):B.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(yt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),x6()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return z("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return yt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){yt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Uc(e){return Wn(e,Qn.store)}function wp(e){return Wn(e,Bi.store)}function $I(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var X8=function(e,t){this.progress=e,this.wn=t},EF=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):OI(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new te(n)).next(function(r){var i=KE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=KE();return this.Ut.getCollectionParents(t,s).next(function(l){return B.forEach(l,function(c){var h=function(p,g){return new Yi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(p){p.forEach(function(g,m){a=a.insert(g,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var g=p[h],m=0,y=g.mutations;m<y.length;m++){var E=y[m],S=E.key,w=i.get(S);w==null&&(w=Jt.newInvalidDocument(S),i=i.insert(S,w)),HE(E,w,g.localWriteTime),w.isFoundDocument()||(i=i.remove(S))}})}).next(function(){return i.forEach(function(l,c){Fh(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Me(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof rs&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.Ue.getEntries(t,i).next(function(g){return g.forEach(function(m,y){y.isFoundDocument()&&(p=p.insert(m,y))}),p})},e}(),J8=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Me(),i=Me(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),TF=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(_e.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(Vp(n)||Hv(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):($E()<=we.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),WE(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new kt(BM(t));return n.forEach(function(i,s){Fh(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return $E()<=we.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",WE(n)),this.Sn.getDocumentsMatchingQuery(t,n,_e.min())},e}(),Z8=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new vn(be),this.Fn=new Pl(function(s){return Lh(s)},im),this.$n=_e.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new EF(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(e,t,n,r){return new Z8(e,t,n,r)}function IF(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=H(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new EF(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var p=[],g=[],m=Me(),y=0,E=c;y<E.length;y++){var S=E[y];p.push(S.batchId);for(var w=0,T=S.mutations;w<T.length;w++){var I=T[w];m=m.add(I.key)}}for(var k=0,P=h;k<P.length;k++){var x=P[k];g.push(x.batchId);for(var O=0,F=x.mutations;O<F.length;O++){var L=F[O];m=m.add(L.key)}}return i.pn(l,m).next(function(M){return{Ln:M,removedBatchIds:p,addedBatchIds:g}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function eQ(e,t){var n=H(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var p=c.batch,g=p.keys(),m=B.resolve();return g.forEach(function(y){m=m.next(function(){return h.getEntry(l,y)}).next(function(E){var S=c.docVersions.get(y);ae(S!==null),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,c),E.isValidDocument()&&h.addEntry(E,c.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function SF(e){var t=H(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function tQ(e,t){var n=H(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var l=[];t.targetChanges.forEach(function(p,g){var m=i.get(g);if(m){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,g).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,g)}));var y=p.resumeToken;if(y.approximateByteSize()>0){var E=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(g,E),function(S,w,T){return ae(w.resumeToken.approximateByteSize()>0),S.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,E,p)&&l.push(n.qe.updateTargetData(s,E))}}});var c=wr();if(t.documentUpdates.forEach(function(p,g){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(CF(s,a,t.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(_e.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return B.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.kn=i,s})}function CF(e,t,n,r,i){var s=Me();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=wr();return n.forEach(function(c,h){var p=a.get(c),g=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(_e.min())?(t.removeEntry(c,g),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,g),l=l.insert(c,h)):z("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function nQ(e,t){var n=H(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function ul(e,t){var n=H(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,B.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new um(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function ll(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=H(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Aa(a=l.sent()))throw a;return z("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function Yv(e,t,n){var r=H(e),i=_e.min(),s=Me();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=H(l),g=p.Fn.get(h);return g!==void 0?B.resolve(p.kn.get(g)):p.qe.getTargetData(c,h)}(r,a,Sr(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:_e.min(),n?s:Me())}).next(function(l){return{documents:l,Bn:s}})})}function kF(e,t){var n=H(e),r=H(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function AF(e){var t=H(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=H(r),l=wr(),c=jI(s),h=go(i),p=IDBKeyRange.lowerBound(c,!0);return h.$t({index:st.readTimeIndex,range:p},function(g,m){var y=QE(a.R,m);l=l.insert(y.key,y),c=m.readTime}).next(function(){return{wn:l,readTime:vF(c)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function rQ(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,(t=H(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=go(i),a=_e.min();return s.$t({index:st.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=vF(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function iQ(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g,m,y;return N(this,function(E){switch(E.label){case 0:for(i=H(e),s=Me(),a=wr(),l=JM(),c=0,h=n;c<h.length;c++)p=h[c],g=t.qn(p.metadata.name),p.document&&(s=s.add(g)),a=a.insert(g,t.Un(p)),l=l.insert(g,t.Kn(p.metadata.readTime));return m=i.On.newChangeBuffer({trackRemovals:!0}),[4,ul(i,function(S){return Sr(Rl(Pe.fromString("__bundle__/docs/"+S)))}(r))];case 1:return y=E.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(S){return CF(S,m,a,_e.min(),l).next(function(w){return m.apply(S),w}).next(function(w){return i.qe.removeMatchingKeysForTargetId(S,y.targetId).next(function(){return i.qe.addMatchingKeys(S,s,y.targetId)}).next(function(){return i.Mn.En(S,w)}).next(function(){return w})})})]}})})}function oQ(e,t,n){return n===void 0&&(n=Me()),R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,ul(e,Sr(VI(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=H(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=Mt(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ke.saveNamedQuery(a,t);var c=r.withResumeToken(kn.EMPTY_BYTE_STRING,l);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sQ=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return B.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Mt(r.createTime)}),B.resolve()},e.prototype.getNamedQuery=function(t,n){return B.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:VI(r.bundledQuery),readTime:Mt(r.readTime)}}(n)),B.resolve()},e}(),qI=function(){function e(){this.Wn=new kt(Pt.Gn),this.zn=new kt(Pt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Pt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Pt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new te(new Pe([])),i=new Pt(r,t),s=new Pt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new te(new Pe([])),r=new Pt(n,t),i=new Pt(n,t+1),s=Me();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Pt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Pt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return te.comparator(t.key,n.key)||be(t.ns,n.ns)},e.Hn=function(t,n){return be(t.ns,n.ns)||te.comparator(t.key,n.key)},e}(),aQ=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new kt(Pt.Gn)}return e.prototype.checkEmpty=function(t){return B.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new UI(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new Pt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return B.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return B.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return B.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return B.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return B.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Pt(n,0),s=new Pt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),B.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new kt(be);return n.forEach(function(s){var a=new Pt(s,0),l=new Pt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),B.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));var a=new Pt(new te(s),0),l=new kt(be);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),B.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;ae(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return B.forEach(n.mutations,function(s){var a=new Pt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Pt(n,0),i=this.rs.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,B.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),uQ=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new vn(te.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return B.resolve(r?r.document.clone():Jt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=wr();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():Jt.newInvalidDocument(s))}),B.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=wr(),s=new te(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,p=h.document,g=h.readTime;if(!n.path.isPrefixOf(c.path))break;g.compareTo(r)<=0||Fh(n,p)&&(i=i.insert(p.key,p.clone()))}return B.resolve(i)},e.prototype.fs=function(t,n){return B.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new lQ(this)},e.prototype.getSize=function(t){return B.resolve(this.size)},e}(),lQ=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return K(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),B.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(wF),cQ=function(){function e(t){this.persistence=t,this.ds=new Pl(function(n){return Lh(n)},im),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.ws=0,this._s=new qI,this.targetCount=0,this.ys=Qv.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),B.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return B.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return B.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),B.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),B.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Qv(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,B.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),B.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,B.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),B.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return B.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return B.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),B.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),B.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),B.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return B.resolve(r)},e.prototype.containsKey=function(t,n){return B.resolve(this._s.containsKey(n))},e}(),fQ=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Jn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new cQ(this),this.Ut=new j8,this.Ue=function(i,s){return new uQ(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new pF(n),this.Ke=new sQ(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new aQ(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;z("MemoryPersistence","Starting transaction:",t);var s=new hQ(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return B.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),hQ=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return K(t,e),t}(hF),dQ=function(){function e(t){this.persistence=t,this.As=new qI,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Z()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),B.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),B.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),B.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.vs,function(i){var s=te.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return B.or([function(){return B.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),qt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(e,t){return"firestore_clients_"+e+"_"+t}function OP(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Z_(e,t){return"firestore_targets_"+e+"_"+t}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");var xP=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new V(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(yt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),ew=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new V(i.error.code,i.error.message)),s?new e(t,i.state,r):(yt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),DP=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=am(),a=0;i&&a<r.activeTargetIds.length;++a)i=LM(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(yt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),pQ=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(yt("SharedClientState","Failed to parse online state: "+t),null)},e}(),YE=function(){function e(){this.activeTargetIds=am()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),tw=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new vn(be),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=PP(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new YE),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,g,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(PP(this.persistenceKey,i)))&&(a=DP.Vs(i,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,p=this.$s;h<p.length;h++)g=p[h],this.ks(g);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Z_(this.persistenceKey,t));if(r){var i=ew.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Z_(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return z("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){z("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){z("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(z("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return R(n,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(g){var m=Jn.o;if(g!=null)try{var y=JSON.parse(g);ae(typeof y=="number"),m=y}catch(E){yt("SharedClientState","Failed to read sequence number from WebStorage",E)}return m}(r.newValue))!==Jn.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new xP(this.currentUser,t,n,r),s=OP(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=OP(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=Z_(this.persistenceKey,t),s=new ew(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return DP.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return xP.Vs(new qt(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return ew.Vs(i,n)},e.prototype.js=function(t){return pQ.Vs(t)},e.prototype.ii=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(z("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=am();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),NF=function(){function e(){this.li=new YE,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new YE,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),vQ=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),LP=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),gQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},mQ=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),yQ=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return K(t,e),t.prototype.Fi=function(n,r,i,s){return new Promise(function(a,l){var c=new Q5;c.listenOnce(H5.COMPLETE,function(){try{switch(c.getLastErrorCode()){case X_.NO_ERROR:var p=c.getResponseJson();z("Connection","XHR received:",JSON.stringify(p)),a(p);break;case X_.TIMEOUT:z("Connection",'RPC "'+n+'" timed out'),l(new V(D.DEADLINE_EXCEEDED,"Request time out"));break;case X_.HTTP_ERROR:var g=c.getStatus();if(z("Connection",'RPC "'+n+'" failed with status:',g,"response text:",c.getResponseText()),g>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var y=function(E){var S=E.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(S)>=0?S:D.UNKNOWN}(m.status);l(new V(y,m.message))}else l(new V(D.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new V(D.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{z("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=z5(),a=W5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new G5({})),this.ki(l.initMessageHeaders,r),vb()||GD()||R6()||P6()||O6()||gb()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");z("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,g=!1,m=new mQ({Ei:function(E){g?z("Connection","Not sending because WebChannel is closed:",E):(p||(z("Connection","Opening WebChannel transport."),h.open(),p=!0),z("Connection","WebChannel sending:",E),h.send(E))},Ti:function(){return h.close()}}),y=function(E,S,w){E.listen(S,function(T){try{w(T)}catch(I){setTimeout(function(){throw I},0)}})};return y(h,gp.EventType.OPEN,function(){g||z("Connection","WebChannel transport opened.")}),y(h,gp.EventType.CLOSE,function(){g||(g=!0,z("Connection","WebChannel transport closed"),m.Vi())}),y(h,gp.EventType.ERROR,function(E){g||(g=!0,Gf("Connection","WebChannel transport errored:",E),m.Vi(new V(D.UNAVAILABLE,"The operation could not be completed")))}),y(h,gp.EventType.MESSAGE,function(E){var S;if(!g){var w=E.data[0];ae(!!w);var T=w,I=T.error||((S=T[0])===null||S===void 0?void 0:S.error);if(I){z("Connection","WebChannel received error:",I);var k=I.status,P=function(O){var F=gt[O];if(F!==void 0)return XM(F)}(k),x=I.message;P===void 0&&(P=D.INTERNAL,x="Unknown error status: "+k+" with message "+I.message),g=!0,m.Vi(new V(P,x)),h.close()}else z("Connection","WebChannel received:",w),m.Si(w)}}),y(a,K5.STAT_EVENT,function(E){E.stat===JR.PROXY?z("Connection","Detected buffering proxy"):E.stat===JR.NOPROXY&&z("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);z("RestConnection","Sending: ",s,r);var a={};return this.ki(a,i),this.Fi(t,s,a,r).then(function(l){return z("RestConnection","Received: ",l),l},function(l){throw Gf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=gQ[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(){return typeof window!="undefined"?window:null}function qp(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(e){return new b8(e,!0)}var zI=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&z("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),PF=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new zI(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return R(this,void 0,void 0,function(){return N(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return R(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(yt(n.toString()),yt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new V(D.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return R(t,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return z("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),_Q=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return K(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Z()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(w,T){return w.I?(ae(T===void 0||typeof T=="string"),kn.fromBase64String(T||"")):(ae(T===void 0||T instanceof Uint8Array),kn.fromUint8Array(T||new Uint8Array))}(s,a.targetChange.resumeToken),g=(m=a.targetChange.cause)&&function(w){var T=w.code===void 0?D.UNKNOWN:XM(w.code);return new V(T,w.message||"")}(m);l=new eF(c,h,p,g||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=hi(s,c.document.name),p=Mt(c.document.updateTime);var m=new Xn({mapValue:{fields:c.document.fields}}),y=(g=Jt.newFoundDocument(h,p,m),c.targetIds||[]),E=c.removedTargetIds||[];l=new $p(y,E,g.key,g)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=hi(s,c.document),p=c.readTime?Mt(c.readTime):_e.min(),m=Jt.newNoDocument(h,p),g=c.removedTargetIds||[],l=new $p([],g,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=hi(s,c.document),p=c.removedTargetIds||[],l=new $p([],p,h,null);else{if(!("filter"in a))return Z();a.filter;var S=a.filter;S.targetId,c=S.count||0,h=new p8(c),p=S.targetId,l=new ZM(p,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return _e.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?Mt(a.readTime):_e.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=eh(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=zv(c)?{documents:sF(s,c)}:{query:aF(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=tF(s,a.resumeToken):a.snapshotVersion.compareTo(_e.min())>0&&(l.readTime=Jf(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Z()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=eh(this.R),r.removeTarget=n,this.cr(r)},t}(PF),wQ=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return K(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(ae(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(ae(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?Mt(c.updateTime):Mt(h);return p.isEqual(_e.min())&&(p=Mt(h)),new f8(p,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=Mt(n.commitTime);return this.listener.Tr(i,r)}return ae(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=eh(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return Kv(r.R,s)})};this.cr(i)},t}(PF),EQ=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return K(t,e),t.prototype.br=function(){if(this.Rr)throw new V(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new V(D.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new V(D.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),TQ=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(yt(n),this.Vr=!1):z("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),bQ=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return R(s,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return is(this)?(z("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return R(this,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return(h=H(c)).Or.add(4),[4,Ol(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,$h(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new TQ(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!is(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ol(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function lm(e,t){var n=H(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),KI(n)?HI(n):Dl(n).er()&&WI(n,t))}function th(e,t){var n=H(e),r=Dl(n);n.$r.delete(t),r.er()&&OF(n,t),n.$r.size===0&&(r.er()?r.ir():is(n)&&n.Br.set("Unknown"))}function WI(e,t){e.qr.U(t.targetId),Dl(e).mr(t)}function OF(e,t){e.qr.U(t),Dl(e).yr(t)}function HI(e){e.qr=new w8({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Dl(e).start(),e.Br.Sr()}function KI(e){return is(e)&&!Dl(e).tr()&&e.$r.size>0}function is(e){return H(e).Or.size===0}function xF(e){e.qr=void 0}function IQ(e){return R(this,void 0,void 0,function(){return N(this,function(t){return e.$r.forEach(function(n,r){WI(e,n)}),[2]})})}function SQ(e,t){return R(this,void 0,void 0,function(){return N(this,function(n){return xF(e),KI(e)?(e.Br.Nr(t),HI(e)):e.Br.set("Unknown"),[2]})})}function CQ(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof eF&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return R(this,void 0,void 0,function(){var h,p,g,m;return N(this,function(y){switch(y.label){case 0:h=c.cause,p=0,g=c.targetIds,y.label=1;case 1:return p<g.length?(m=g[p],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),z("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Xv(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof $p?e.qr.X(t):t instanceof ZM?e.qr.rt(t):e.qr.et(t),n.isEqual(_e.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,SF(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(p,g){if(p.resumeToken.approximateByteSize()>0){var m=l.$r.get(g);m&&l.$r.set(g,m.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach(function(p){var g=l.$r.get(p);if(g){l.$r.set(p,g.withResumeToken(kn.EMPTY_BYTE_STRING,g.snapshotVersion)),OF(l,p);var m=new um(g.target,p,1,g.sequenceNumber);WI(l,m)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return z("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Xv(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Xv(e,t,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!Aa(t))throw t;return e.Or.add(1),[4,Ol(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return SF(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return R(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return z("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,$h(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function DF(e,t){return t().catch(function(n){return Xv(e,n,t)})}function xl(e){return R(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:t=H(e),n=Xo(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return is(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,nQ(t.localStore,r)];case 3:return(i=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.Fr.push(c);var h=Xo(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,Xv(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return LF(t)&&MF(t),[2]}})})}function LF(e){return is(e)&&!Xo(e).tr()&&e.Fr.length>0}function MF(e){Xo(e).start()}function kQ(e){return R(this,void 0,void 0,function(){return N(this,function(t){return Xo(e).Ar(),[2]})})}function AQ(e){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){for(t=Xo(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function NQ(e,t,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),i=F8.from(r,t,n),[4,DF(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,xl(e)];case 2:return s.sent(),[2]}})})}function RQ(e,t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return t&&Xo(e).pr?[4,function(r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return YM(a=i.code)&&a!==D.ABORTED?(s=r.Fr.shift(),Xo(r).sr(),[4,DF(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,xl(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return LF(e)&&MF(e),[2]}})})}function XE(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=H(e),t?(n.Or.delete(2),[4,$h(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ol(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Dl(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=H(n);return s.br(),new _Q(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:IQ.bind(null,e),Ri:SQ.bind(null,e),_r:CQ.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),KI(e)?HI(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),xF(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Xo(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=H(n);return s.br(),new wQ(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:kQ.bind(null,e),Ri:RQ.bind(null,e),Ir:AQ.bind(null,e),Tr:NQ.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,xl(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(z("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var PQ=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ll(e,t){if(yt("AsyncQueue",t+": "+e),Aa(e))return new V(D.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FF=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||te.comparator(n.key,r.key)}:function(n,r){return te.comparator(n.key,r.key)},this.keyedMap=KE(),this.sortedSet=new vn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),MP=function(){function e(){this.Qr=new vn(te.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Z():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Jv=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,FF.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),OQ=function(){this.Wr=void 0,this.listeners=[]},xQ=function(){this.queries=new Pl(function(e){return VM(e)},Mh),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(n=H(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new OQ),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=Ll(l,"Initialization of query '"+WE(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&YI(n),[2]}})})}function QI(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){return n=H(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function DQ(e,t){for(var n=H(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].Hr(a)&&(r=!0);c.Wr=a}}r&&YI(n)}function LQ(e,t,n){var r=H(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function YI(e){e.Gr.forEach(function(t){t.next()})}var XI=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new Jv(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Jv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),MQ=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),FP=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return hi(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?oF(this.R,t.document,!1):Jt.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return Mt(t)},e}(),FQ=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=UF(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new FP(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var p=h[c],g=(n.get(p)||Me()).add(l);n.set(p,g)}}return n},e.prototype.complete=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,iQ(this.localStore,new FP(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,oQ(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new X8(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jF=function(e){this.key=e},VF=function(e){this.key=e},BF=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Me(),this.mutatedKeys=Me(),this.lo=BM(t),this.fo=new FF(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new MP,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=Vp(this.query)&&s.size===this.query.limit?s.last():null,p=Hv(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var E=s.get(m),S=Fh(r.query,y)?y:null,w=!!E&&r.mutatedKeys.has(E.key),T=!!S&&(S.hasLocalMutations||r.mutatedKeys.has(S.key)&&S.hasCommittedMutations),I=!1;E&&S?E.data.isEqual(S.data)?w!==T&&(i.track({type:3,doc:S}),I=!0):r.yo(E,S)||(i.track({type:2,doc:S}),I=!0,(h&&r.lo(S,h)>0||p&&r.lo(S,p)<0)&&(c=!0)):!E&&S?(i.track({type:0,doc:S}),I=!0):E&&!S&&(i.track({type:1,doc:E}),I=!0,(h||p)&&(c=!0)),I&&(S?(l=l.add(S),a=T?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Vp(this.query)||Hv(this.query))for(;l.size>this.query.limit;){var g=Vp(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,g){return function(m,y){var E=function(S){switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return E(m)-E(y)}(p.type,g.type)||i.lo(p.doc,g.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new Jv(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new MP,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Me(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new VF(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new jF(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Me();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Jv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),UQ=function(e,t,n){this.query=e,this.targetId=t,this.view=n},jQ=function(e){this.key=e,this.bo=!1},VQ=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Pl(function(l){return VM(l)},Mh),this.Vo=new Map,this.So=new Set,this.Do=new vn(te.comparator),this.Co=new Map,this.No=new qI,this.xo={},this.ko=new Map,this.Fo=Qv.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function BQ(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=n1(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,ul(n.localStore,Sr(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,JI(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&lm(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function JI(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return e.Oo=function(g,m,y){return function(E,S,w,T){return R(this,void 0,void 0,function(){var I,k,P;return N(this,function(x){switch(x.label){case 0:return I=S.view._o(w),I.Nn?[4,Yv(E.localStore,S.query,!1).then(function(O){var F=O.documents;return S.view._o(F,I)})]:[3,2];case 1:I=x.sent(),x.label=2;case 2:return k=T&&T.targetChanges.get(S.targetId),P=S.view.applyChanges(I,E.isPrimaryClient,k),[2,(JE(E,S.targetId,P.To),P.snapshot)]}})})}(e,g,m,y)},[4,Yv(e.localStore,t,!0)];case 1:return i=p.sent(),s=new BF(t,i.Bn),a=s._o(i.documents),l=LI.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),JE(e,n,c.To),h=new UQ(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function $Q(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=H(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!Mh(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ll(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),th(n.remoteStore,r.targetId),cl(n,r.targetId)}).catch(Na)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return cl(n,r.targetId),[4,ll(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function qQ(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=r1(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,g=H(c),m=qn.now(),y=h.reduce(function(E,S){return E.add(S.key)},Me());return g.persistence.runTransaction("Locally write mutations","readwrite",function(E){return g.Mn.pn(E,y).next(function(S){p=S;for(var w=[],T=0,I=h;T<I.length;T++){var k=I[T],P=d8(k,p.get(k.key));P!=null&&w.push(new rs(k.key,P,MM(P.value.mapValue),sn.exists(!0)))}return g._n.addMutationBatch(E,m,w,h)})}).then(function(E){return E.applyToLocalDocumentSet(p),{batchId:E.batchId,changes:p}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,p){var g=c.xo[c.currentUser.toKey()];g||(g=new vn(be)),g=g.insert(h,p),c.xo[c.currentUser.toKey()]=g}(r,i.batchId,n),[4,Xi(r,i.changes)];case 3:return l.sent(),[4,xl(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Ll(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function $F(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=H(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,tQ(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?ae(l.bo):s.removedDocuments.size>0&&(ae(l.bo),l.bo=!1))}),[4,Xi(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Na(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function UP(e,t,n){var r=H(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=H(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var g=0,m=p.listeners;g<m.length;g++)m[g].zr(a)&&(c=!0)}),c&&YI(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function zQ(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return(r=H(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new vn(te.comparator)).insert(s,Jt.newNoDocument(s,_e.min())),l=Me().add(s),c=new DI(_e.min(),new Map,new kt(be),a,l),[4,$F(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),t1(r),[3,4];case 2:return[4,ll(r.localStore,t,!1).then(function(){return cl(r,t,n)}).catch(Na)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function WQ(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=H(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,eQ(n.localStore,t)];case 2:return i=s.sent(),e1(n,r,null),ZI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Xi(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Na(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function HQ(e,t,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=H(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=H(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c._n.lookupMutationBatch(h,l).next(function(g){return ae(g!==null),p=g.keys(),c._n.removeMutationBatch(h,g)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,p)})})}(r.localStore,t)];case 2:return i=s.sent(),e1(r,t,n),ZI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Xi(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Na(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function KQ(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:is((n=H(e)).remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=H(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return s=l.sent(),a=Ll(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function ZI(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function e1(e,t,n){var r=H(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function cl(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||qF(e,a)})}function qF(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(th(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),t1(e))}function JE(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof jF?(e.No.addReference(s.key,t),GQ(e,s)):s instanceof VF?(z("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||qF(e,s.key)):Z()}}function GQ(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(z("SyncEngine","New document in limbo: "+n),e.So.add(r),t1(e))}function t1(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new te(Pe.fromString(t)),r=e.Fo.next();e.Co.set(r,new jQ(n)),e.Do=e.Do.insert(n,r),lm(e.remoteStore,new um(Sr(Rl(n.path)),r,2,Jn.o))}}function Xi(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r=H(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.Oo(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var g=J8.Pn(h.targetId,p);s.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return R(this,void 0,void 0,function(){var p,g,m,y,E,S,w,T,I;return N(this,function(k){switch(k.label){case 0:p=H(c),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return B.forEach(h,function(x){return B.forEach(x.bn,function(O){return p.persistence.referenceDelegate.addReference(P,x.targetId,O)}).next(function(){return B.forEach(x.vn,function(O){return p.persistence.referenceDelegate.removeReference(P,x.targetId,O)})})})})];case 2:return k.sent(),[3,4];case 3:if(!Aa(g=k.sent()))throw g;return z("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(m=0,y=h;m<y.length;m++)E=y[m],S=E.targetId,E.fromCache||(w=p.kn.get(S),T=w.snapshotVersion,I=w.withLastLimboFreeSnapshotVersion(T),p.kn=p.kn.insert(S,I));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function QQ(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=H(e)).currentUser.isEqual(t)?[3,3]:(z("SyncEngine","User change. New user:",t.toKey()),[4,IF(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(c){c.reject(new V(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Xi(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function YQ(e,t){var n=H(e),r=n.Co.get(t);if(r&&r.bo)return Me().add(r.key);var i=Me(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function XQ(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Yv((n=H(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&JE(n,t.targetId,i.To),i)]}})})}function JQ(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,AF((t=H(e)).localStore).then(function(r){return Xi(t,r)})]})})}function ZQ(e,t,n,r){return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=H(l),p=H(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return p.jt(g,c).next(function(m){return m?h.Mn.pn(g,m):B.resolve(null)})})}((i=H(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,xl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(e1(i,t,r||null),ZI(i,t),function(l,c){H(H(l)._n).Gt(c)}(i.localStore,t)):Z(),a.label=4;case 4:return[4,Xi(i,s)];case 5:return a.sent(),[3,7];case 6:z("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function eY(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return n1(n=H(e)),r1(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,jP(n,r.toArray())]);case 1:return i=p.sent(),n.$o=!0,[4,XE(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],lm(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(g,m){n.sharedClientState.isLocalQueryTarget(m)?c.push(m):h=h.then(function(){return cl(n,m),ll(n.localStore,m,!0)}),th(n.remoteStore,m)}),[4,h]);case 4:return p.sent(),[4,jP(n,c)];case 5:return p.sent(),function(g){var m=H(g);m.Co.forEach(function(y,E){th(m.remoteStore,E)}),m.No.ts(),m.Co=new Map,m.Do=new vn(te.comparator)}(n),n.$o=!1,[4,XE(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function jP(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,g,m,y,E,S,w;return N(this,function(T){switch(T.label){case 0:r=H(e),i=[],s=[],a=0,l=t,T.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.Vo.get(c))&&p.length!==0?[4,ul(r.localStore,Sr(p[0]))]:[3,7]):[3,13];case 2:h=T.sent(),g=0,m=p,T.label=3;case 3:return g<m.length?(y=m[g],E=r.Po.get(y),[4,XQ(r,E)]):[3,6];case 4:(S=T.sent()).snapshot&&s.push(S.snapshot),T.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,kF(r.localStore,c)];case 8:return w=T.sent(),[4,ul(r.localStore,w)];case 9:return h=T.sent(),[4,JI(r,zF(w),c,!1)];case 10:T.sent(),T.label=11;case 11:i.push(h),T.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function zF(e){return UM(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function tY(e){var t=H(e);return H(H(t.localStore).persistence).fn()}function nY(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return(i=H(e)).$o?(z("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,AF(i.localStore)];case 3:return s=l.sent(),a=DI.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Xi(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,ll(i.localStore,t,!0)];case 6:return l.sent(),cl(i,t,r),[3,8];case 7:Z(),l.label=8;case 8:return[2]}})})}function rY(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:if(!(r=n1(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(z("SyncEngine","Adding an already active target "+a),[3,5]):[4,kF(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,ul(r.localStore,l)];case 3:return c=y.sent(),[4,JI(r,zF(l),c.targetId,!1)];case 4:y.sent(),lm(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(E){return N(this,function(S){switch(S.label){case 0:return r.Vo.has(E)?[4,ll(r.localStore,E,!1).then(function(){th(r.remoteStore,E),cl(r,E)}).catch(Na)]:[3,2];case 1:S.sent(),S.label=2;case 2:return[2]}})},p=0,g=n,y.label=7;case 7:return p<g.length?(m=g[p],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function n1(e){var t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$F.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YQ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zQ.bind(null,t),t.vo._r=DQ.bind(null,t.eventManager),t.vo.Mo=LQ.bind(null,t.eventManager),t}function r1(e){var t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WQ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HQ.bind(null,t),t}function iY(e,t,n){var r=H(e);(function(i,s,a){return R(this,void 0,void 0,function(){var l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(E,S){var w=H(E),T=Mt(S.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",function(I){return w.Ke.getBundleMetadata(I,S.id)}).then(function(I){return!!I&&I.createTime.compareTo(T)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(E){return{taskState:"Success",documentsLoaded:E.totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}}(l)))];case 4:return a._updateProgress(UF(l)),c=new FQ(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(p=y.sent())&&a._updateProgress(p),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return g=y.sent(),[4,Xi(i,g.wn,void 0)];case 12:return y.sent(),[4,function(E,S){var w=H(E);return w.persistence.runTransaction("Save bundle","readwrite",function(T){return w.Ke.saveBundleMetadata(T,S)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(g.progress),[3,15];case 14:return Gf("SyncEngine","Loading bundle failed with "+(m=y.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var WF=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.R=Bh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return bF(this.persistence,new TF,t.initialUser,this.R)},e.prototype.qo=function(t){return new fQ(dQ.bs,this.R)},e.prototype.Bo=function(t){return new NF},e.prototype.terminate=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),HF=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return K(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,rQ(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,r1(this.Qo.syncEngine)];case 4:return i.sent(),[4,xl(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return bF(this.persistence,new TF,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new z8(r,n.asyncQueue)},t.prototype.qo=function(n){var r=$I(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?ii.withCacheSize(this.cacheSizeBytes):ii.DEFAULT;return new Y8(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,RF(),qp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new NF},t}(WF),oY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return K(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof tw?(this.sharedClientState.syncEngine={ui:ZQ.bind(null,r),ai:nY.bind(null,r),hi:rY.bind(null,r),fn:tY.bind(null,r),ci:JQ.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return R(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return[4,eY(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=RF();if(!tw.yt(r))throw new V(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=$I(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new tw(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(HF),ZE=function(){function e(){}return e.prototype.initialize=function(t,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return UP(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=QQ.bind(null,this.syncEngine),[4,XE(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new xQ},e.prototype.createDatastore=function(t){var n,r=Bh(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new yQ(n));return function(s,a,l){return new EQ(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return UP(l.syncEngine,c,0)},a=LP.yt()?new LP:new vQ,new bQ(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var p=new VQ(r,i,s,a,l,c);return h&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=H(t),z("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Ol(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return R(this,void 0,void 0,function(){var r;return N(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return R(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cm=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),sY=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new pn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return R(this,void 0,void 0,function(){return N(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new MQ(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),aY=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new V(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return R(this,void 0,void 0,function(){var l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:return l=H(s),c=eh(l.R)+"/documents",h={documents:a.map(function(E){return Zf(l.R,E)})},[4,l.$i("BatchGetDocuments",c,h)];case 1:return p=y.sent(),g=new Map,p.forEach(function(E){var S=function(w,T){return"found"in T?function(I,k){ae(!!k.found),k.found.name,k.found.updateTime;var P=hi(I,k.found.name),x=Mt(k.found.updateTime),O=new Xn({mapValue:{fields:k.found.fields}});return Jt.newFoundDocument(P,x,O)}(w,T):"missing"in T?function(I,k){ae(!!k.missing),ae(!!k.readTime);var P=hi(I,k.missing),x=Mt(k.readTime);return Jt.newNoDocument(P,x)}(w,T):Z()}(l.R,E);g.set(S.key.toString(),S)}),m=[],[2,(a.forEach(function(E){var S=g.get(E.toString());ae(!!S),m.push(S)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Vh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return R(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=te.fromPath(s);n.mutations.push(new xI(a,n.precondition(a)))}),[4,function(i,s){return R(this,void 0,void 0,function(){var a,l,c;return N(this,function(h){switch(h.label){case 0:return a=H(i),l=eh(a.R)+"/documents",c={writes:s.map(function(p){return Kv(a.R,p)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Z();n=_e.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new V(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?sn.updateTime(n):sn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(_e.min()))throw new V(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sn.updateTime(n)}return sn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),uY=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new zI(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return R(t,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new aY(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!ka(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!YM(n)}return!1},e}(),lY=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=qt.UNAUTHENTICATED,this.clientId=RM.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return R(i,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return z("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return N(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new V(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return R(t,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Ll(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(e,t){return R(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return R(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,IF(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function GF(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,i1(e)];case 1:return n=i.sent(),z("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return R(this,void 0,void 0,function(){var c,h;return N(this,function(p){switch(p.label){case 0:return(c=H(a)).asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials"),h=is(c),c.Or.add(3),[4,Ol(c)];case 1:return p.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),c.Or.delete(3),[4,$h(c)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function i1(e){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(z("FirestoreClient","Using default OfflineComponentProvider"),[4,KF(e,new WF)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function fm(e){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(z("FirestoreClient","Using default OnlineComponentProvider"),[4,GF(e,new ZE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function BP(e){return i1(e).then(function(t){return t.persistence})}function o1(e){return i1(e).then(function(t){return t.localStore})}function $P(e){return fm(e).then(function(t){return t.remoteStore})}function s1(e){return fm(e).then(function(t){return t.syncEngine})}function fl(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,fm(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=BQ.bind(null,t.syncEngine),n.onUnlisten=$Q.bind(null,t.syncEngine),n)]}})})}function qP(e,t,n){var r=this;n===void 0&&(n={});var i=new pn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,g){var m=new cm({next:function(E){c.enqueueAndForget(function(){return QI(l,y)});var S=E.docs.has(h);!S&&E.fromCache?g.reject(new V(D.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&p&&p.source==="server"?g.reject(new V(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:function(E){return g.reject(E)}}),y=new XI(Rl(h.path),m,{includeMetadataChanges:!0,so:!0});return GI(l,y)},[4,fl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function zP(e,t,n){var r=this;n===void 0&&(n={});var i=new pn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,g){var m=new cm({next:function(E){c.enqueueAndForget(function(){return QI(l,y)}),E.fromCache&&p.source==="server"?g.reject(new V(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:function(E){return g.reject(E)}}),y=new XI(h,m,{includeMetadataChanges:!0,so:!0});return GI(l,y)},[4,fl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var cY=function(e,t,n,r,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Zv=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),WP=new Map,QF=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},HP=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(qt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),fY=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),hY=function(){function e(t){var n=this;this.currentUser=qt.UNAUTHENTICATED,this.oc=new pn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){z("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(z("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(z("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(ae(typeof i.accessToken=="string"),new QF(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return R(r,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string"),new qt(t)},e}(),dY=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=qt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),pY=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new dY(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(qt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(e,t,n){if(!n)throw new V(D.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function u1(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new V(D.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function YF(e,t,n,r){if(t===!0&&r===!0)throw new V(D.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function KP(e){if(!te.isDocumentKey(e))throw new V(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function GP(e){if(te.isDocumentKey(e))throw new V(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function hm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Z()}function Ne(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new V(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=hm(e);throw new V(D.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function QP(e,t){if(t<=0)throw new V(D.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YP=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new V(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new V(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,YF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),nh=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YP({}),this._settingsFrozen=!1,t instanceof Zv?(this._databaseId=t,this._credentials=new HP):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new V(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zv(r.options.projectId)}(t),this._credentials=new hY(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new V(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new V(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YP(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new HP;switch(n.type){case"gapi":var r=n.client;return ae(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new pY(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new V(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=WP.get(t))&&(z("ComponentProvider","Removing Datastore"),WP.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),rt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Uo(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),zn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Uo=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Rl(i))||this)._path=i,s.type="collection",s}return K(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new rt(this.firestore,null,new te(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(zn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=de(e),a1("collection","path",t),e instanceof nh)return GP(n=Pe.fromString.apply(Pe,ve([t],r))),new Uo(e,null,n);if(!(e instanceof rt||e instanceof Uo))throw new V(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return GP(n=Pe.fromString.apply(Pe,ve([e.path],r)).child(Pe.fromString(t))),new Uo(e.firestore,null,n)}function zp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=de(e),arguments.length===1&&(t=RM.u()),a1("doc","path",t),e instanceof nh)return KP(n=Pe.fromString.apply(Pe,ve([t],r))),new rt(e,null,new te(n));if(!(e instanceof rt||e instanceof Uo))throw new V(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return KP(n=e._path.child(Pe.fromString.apply(Pe,ve([t],r)))),new rt(e.firestore,e instanceof Uo?e.converter:null,new te(n))}function JF(e,t){return e=de(e),t=de(t),(e instanceof rt||e instanceof Uo)&&(t instanceof rt||t instanceof Uo)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ZF(e,t){return e=de(e),t=de(t),e instanceof zn&&t instanceof zn&&e.firestore===t.firestore&&Mh(e._query,t._query)&&e.converter===t.converter}var vY=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new zI(this,"async_queue_retry"),this.Ic=function(){var r=qp();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new pn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return R(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Aa(t=r.sent()))throw t;return z("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,yt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=PQ.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Z()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function hl(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var gY=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new pn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),mY=-1,dt=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new vY,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return K(t,e),t.prototype._terminate=function(){return this._firestoreClient||eU(this),this._firestoreClient.terminate()},t}(nh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(e){return e._firestoreClient||eU(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function eU(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new cY(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new lY(e._credentials,e._queue,r)}function XP(e,t,n){var r=this,i=new pn;return e.asyncQueue.enqueue(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,KF(e,n)];case 1:return a.sent(),[4,GF(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function JP(e){if(e._initialized||e._terminated)throw new V(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new V(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ha=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(kn.fromBase64String(t))}catch(n){throw new V(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(kn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Ra=function(e){this._methodName=e},dm=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new V(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new V(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return be(this._lat,t._lat)||be(this._long,t._long)},e}(),yY=/^__.*__$/,_Y=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new rs(t,this.data,this.fieldMask,n,this.fieldTransforms):new jh(t,this.data,n,this.fieldTransforms)},e}(),tU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new rs(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var rU=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return eg(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(nU(this.Nc)&&yY.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),wY=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Bh(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new rU({Nc:t,methodName:n,qc:r,path:Kr.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Pa(e){var t=e._freezeSettings(),n=Bh(e._databaseId);return new wY(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pm(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);h1("Data must be an object, but it was:",a,r);var l,c,h=sU(r,a);if(s.merge)l=new Xu(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],g=0,m=s.mergeFields;g<m.length;g++){var y=eT(t,m[g],n);if(!a.contains(y))throw new V(D.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");uU(p,y)||p.push(y)}l=new Xu(p),c=a.fieldTransforms.filter(function(E){return l.covers(E.field)})}else l=null,c=a.fieldTransforms;return new _Y(new Xn(h),l,c)}var l1=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ra);function iU(e,t,n){return new rU({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var EY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype._toFieldTransform=function(n){return new Uh(n.path,new tl)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ra),TY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=iU(this,n,!0),i=this.Kc.map(function(a){return Oa(a,r)}),s=new ca(i);return new Uh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ra),bY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=iU(this,n,!0),i=this.Kc.map(function(a){return Oa(a,r)}),s=new fa(i);return new Uh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ra),IY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=new nl(n.R,zM(n.R,this.Qc));return new Uh(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ra);function c1(e,t,n,r){var i=e.Uc(1,t,n);h1("Data must be an object, but it was:",i,r);var s=[],a=Xn.empty();Ca(r,function(c,h){var p=d1(t,c,n);h=de(h);var g=i.Oc(p);if(h instanceof l1)s.push(p);else{var m=Oa(h,g);m!=null&&(s.push(p),a.set(p,m))}});var l=new Xu(s);return new tU(a,l,i.fieldTransforms)}function f1(e,t,n,r,i,s){var a=e.Uc(1,t,n),l=[eT(t,r,n)],c=[i];if(s.length%2!=0)throw new V(D.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(eT(t,s[h])),c.push(s[h+1]);for(var p=[],g=Xn.empty(),m=l.length-1;m>=0;--m)if(!uU(p,l[m])){var y=l[m],E=c[m];E=de(E);var S=a.Oc(y);if(E instanceof l1)p.push(y);else{var w=Oa(E,S);w!=null&&(p.push(y),g.set(y,w))}}var T=new Xu(p);return new tU(g,T,a.fieldTransforms)}function oU(e,t,n,r){return r===void 0&&(r=!1),Oa(n,e.Uc(r?4:3,t))}function Oa(e,t){if(aU(e=de(e)))return h1("Unsupported field value:",t,e),sU(e,t);if(e instanceof Ra)return function(n,r){if(!nU(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Oa(l[a],r.Mc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=de(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zM(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=qn.fromDate(n);return{timestampValue:Jf(r.R,i)}}if(n instanceof qn)return i=new qn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Jf(r.R,i)};if(n instanceof dm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ha)return{bytesValue:tF(r.R,n._byteString)};if(n instanceof rt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:MI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+hm(n))}(e,t)}function sU(e,t){var n={};return OM(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ca(e,function(r,i){var s=Oa(i,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function aU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qn||e instanceof dm||e instanceof ha||e instanceof rt||e instanceof Ra)}function h1(e,t,n){if(!aU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=hm(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function eT(e,t,n){if((t=de(t))instanceof di)return t._internalPath;if(typeof t=="string")return d1(e,t);throw eg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var SY=new RegExp("[~\\*/\\[\\]]");function d1(e,t,n){if(t.search(SY)>=0)throw eg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(di.bind.apply(di,ve([void 0],t.split("."))))()._internalPath}catch{throw eg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function eg(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new V(D.INVALID_ARGUMENT,(l+=". ")+e+c)}function uU(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rh=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new rt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new CY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(tg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),CY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(rh);function tg(e,t){return typeof t=="string"?d1(e,t):t instanceof di?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zs=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),$i=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return K(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(tg("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(rh),mf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}($i),wo=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new zs(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new mf(r._firestore,r._userDataWriter,i.key,i,new zs(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new mf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new zs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new mf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new zs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:kY(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function kY(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function lU(e,t){return e instanceof $i&&t instanceof $i?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof wo&&t instanceof wo&&e._firestore===t._firestore&&ZF(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(e){if(Hv(e)&&e.explicitOrderBy.length===0)throw new V(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qh=function(){};function ho(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var AY=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return K(t,e),t.prototype._apply=function(n){var r=Pa(n.firestore),i=function(s,a,l,c,h,p,g){var m;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new V(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){rO(g,p);for(var y=[],E=0,S=g;E<S.length;E++){var w=S[E];y.push(nO(c,s,w))}m={arrayValue:{values:y}}}else m=nO(c,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||rO(g,p),m=oU(l,"where",g,p==="in"||p==="not-in");var T=Zn.create(h,p,m);return function(I,k){if(k.g()){var P=PI(I);if(P!==null&&!P.isEqual(k.field))throw new V(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+k.field.toString()+"'");var x=RI(I);x!==null&&hU(I,k.field,x)}var O=function(F,L){for(var M=0,A=F.filters;M<A.length;M++){var ge=A[M];if(L.indexOf(ge.op)>=0)return ge.op}return null}(I,function(F){switch(F){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(k.op));if(O!==null)throw O===k.op?new V(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+k.op.toString()+"' filter."):new V(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+k.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,T),T}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new zn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new Yi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(qh),NY=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return K(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new V(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new V(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Du(s,a);return function(c,h){if(RI(c)===null){var p=PI(c);p!==null&&hU(c,p,h.field)}}(i,l),l}(n._query,this.jc,this.zc);return new zn(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new Yi(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(qh),ZP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return K(t,e),t.prototype._apply=function(n){return new zn(n.firestore,n.converter,jM(n._query,this.Hc,this.Jc))},t}(qh),eO=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return K(t,e),t.prototype._apply=function(n){var r=fU(n,this.type,this.Yc,this.Xc);return new zn(n.firestore,n.converter,function(i,s){return new Yi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(qh),tO=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return K(t,e),t.prototype._apply=function(n){var r=fU(n,this.type,this.Yc,this.Xc);return new zn(n.firestore,n.converter,function(i,s){return new Yi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(qh);function fU(e,t,n,r){if(n[0]=de(n[0]),n[0]instanceof rh)return function(s,a,l,c,h){if(!c)throw new V(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],g=0,m=el(s);g<m.length;g++){var y=m[g];if(y.field.isKeyField())p.push(qv(a,c.key));else{var E=c.data.field(y.field);if(kI(E))throw new V(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){var S=y.field.canonicalString();throw new V(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+S+"' (used as the orderBy) does not exist.")}p.push(E)}}return new Xf(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Pa(e.firestore);return function(s,a,l,c,h,p){var g=s.explicitOrderBy;if(h.length>g.length)throw new V(D.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var E=h[y];if(g[y].field.isKeyField()){if(typeof E!="string")throw new V(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof E);if(!OI(s)&&E.indexOf("/")!==-1)throw new V(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+E+"' contains a slash.");var S=s.path.child(Pe.fromString(E));if(!te.isDocumentKey(S))throw new V(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+S+"' is not because it contains an odd number of segments.");var w=new te(S);m.push(qv(a,w))}else{var T=oU(l,c,E);m.push(T)}}return new Xf(m,p)}(e._query,e.firestore._databaseId,i,t,n,r)}function nO(e,t,n){if(typeof(n=de(n))=="string"){if(n==="")throw new V(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!OI(t)&&n.indexOf("/")!==-1)throw new V(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Pe.fromString(n));if(!te.isDocumentKey(r))throw new V(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return qv(e,new te(r))}if(n instanceof rt)return qv(e,n._key);throw new V(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+hm(n)+".")}function rO(e,t){if(!Array.isArray(e)||e.length===0)throw new V(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new V(D.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function hU(e,t,n){if(!n.isEqual(t))throw new V(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p1=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),la(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ju(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Z()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Ca(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new dm(mt(t.latitude),mt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=DM(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qf(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Yo(t);return new qn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Pe.fromString(t);ae(cF(r));var i=new Zv(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||yt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var RY=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new ha(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new rt(this.firestore,null,r)},t}(p1),PY=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pa(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Eo(t,this._firestore),s=vm(i.converter,n,r),a=pm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,sn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Eo(t,this._firestore);return a=typeof(n=de(n))=="string"||n instanceof di?f1(this._dataReader,"WriteBatch.update",l._key,n,r,i):c1(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,sn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Eo(t,this._firestore);return this._mutations=this._mutations.concat(new Vh(n._key,sn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new V(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(e,t){if((e=de(e)).firestore!==t)throw new V(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xs=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new ha(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new rt(this.firestore,null,r)},t}(p1);function iO(e,t,n){e=Ne(e,rt);var r=Ne(e.firestore,dt),i=vm(e.converter,t,n);return zh(r,[pm(Pa(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,sn.none())])}function oO(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ne(e,rt);var s=Ne(e.firestore,dt),a=Pa(s);return zh(s,[(typeof(t=de(t))=="string"||t instanceof di?f1(a,"updateDoc",e._key,t,n,r):c1(a,"updateDoc",e._key,t)).toMutation(e._key,sn.exists(!0))])}function dU(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=de(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||hl(i[l])||(a=i[l],l++);var c,h,p,g={includeMetadataChanges:a.includeMetadataChanges};if(hl(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof rt)h=Ne(e.firestore,dt),p=Rl(e._key.path),c={next:function(S){i[l]&&i[l](tT(h,e,S))},error:i[l+1],complete:i[l+2]};else{var y=Ne(e,zn);h=Ne(y.firestore,dt),p=y._query;var E=new Xs(h);c={next:function(S){i[l]&&i[l](new wo(h,E,y,S))},error:i[l+1],complete:i[l+2]},cU(e._query)}return function(S,w,T,I){var k=this,P=new cm(I),x=new XI(w,P,T);return S.asyncQueue.enqueueAndForget(function(){return R(k,void 0,void 0,function(){var O;return N(this,function(F){switch(F.label){case 0:return O=GI,[4,fl(S)];case 1:return[2,O.apply(void 0,[F.sent(),x])]}})})}),function(){P.Wo(),S.asyncQueue.enqueueAndForget(function(){return R(k,void 0,void 0,function(){var O;return N(this,function(F){switch(F.label){case 0:return O=QI,[4,fl(S)];case 1:return[2,O.apply(void 0,[F.sent(),x])]}})})})}}(Dt(h),p,g,c)}function zh(e,t){return function(n,r){var i=this,s=new pn;return n.asyncQueue.enqueueAndForget(function(){return R(i,void 0,void 0,function(){var a;return N(this,function(l){switch(l.label){case 0:return a=qQ,[4,s1(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Dt(e),t)}function tT(e,t,n){var r=n.docs.get(t._key),i=new Xs(e);return new $i(e,i,t._key,r,new zs(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return K(t,e),t.prototype.get=function(n){var r=this,i=Eo(n,this._firestore),s=new Xs(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new $i(r._firestore,s,i._key,a._document,new zs(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Pa(t)}return e.prototype.get=function(t){var n=this,r=Eo(t,this._firestore),i=new RY(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Z();var a=s[0];if(a.isFoundDocument())return new rh(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new rh(n._firestore,i,r._key,null,r.converter);throw Z()})},e.prototype.set=function(t,n,r){var i=Eo(t,this._firestore),s=vm(i.converter,n,r),a=pm(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=Eo(t,this._firestore);return a=typeof(n=de(n))=="string"||n instanceof di?f1(this._dataReader,"Transaction.update",l._key,n,r,i):c1(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Eo(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){if(typeof Uint8Array=="undefined")throw new V(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function aO(){if(typeof atob=="undefined")throw new V(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pU=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return aO(),new e(ha.fromBase64String(t))},e.fromUint8Array=function(t){return sO(),new e(ha.fromUint8Array(t))},e.prototype.toBase64=function(){return aO(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return sO(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),xY=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){JP(r=Ne(r,dt));var s=Dt(r),a=r._freezeSettings(),l=new ZE;return XP(s,l,new HF(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){JP(n=Ne(n,dt));var r=Dt(n),i=n._freezeSettings(),s=new ZE;return XP(r,s,new oY(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new V(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new pn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return R(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return ol.yt()?(c=l+"main",[4,ol.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}($I(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),v1=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Zv||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Gf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){var c;l===void 0&&(l={});var h=(i=Ne(i,nh))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&Gf("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:s+":"+a,ssl:!1})),l.mockUserToken){var p,g;if(typeof l.mockUserToken=="string")p=l.mockUserToken,g=qt.MOCK_USER;else{p=pb(l.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new V(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new qt(m)}i._credentials=new fY(new QF(p,g))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,BP(t)];case 1:return r=s.sent(),[4,$P(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=H(a);return l.Or.delete(0),$h(l)}(i))]}})})})}(Dt(Ne(this._delegate,dt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,BP(t)];case 1:return r=s.sent(),[4,$P(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return R(this,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return(l=H(a)).Or.add(0),[4,Ol(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(Dt(Ne(this._delegate,dt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&YF("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new pn;return t.asyncQueue.enqueueAndForget(function(){return R(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return i=KQ,[4,s1(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Dt(Ne(this._delegate,dt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new cm(s);return i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,g){H(p).Gr.add(g),g.next()},[4,fl(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,g){H(p).Gr.delete(g)},[4,fl(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(Dt(n=Ne(n,dt)),hl(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new V(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ng(this,XF(this._delegate,t))}catch(n){throw wn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Js(this,zp(this._delegate,t))}catch(n){throw wn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Wh(this,function(n,r){if(n=Ne(n,nh),a1("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new V(D.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new zn(n,null,function(i){return new Yi(Pe.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw wn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new pn;return s.asyncQueue.enqueueAndForget(function(){return R(l,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return[4,function(g){return fm(g).then(function(m){return m.datastore})}(s)];case 1:return h=p.sent(),new uY(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(Dt(r),function(s){return i(new OY(r,s))})}(this._delegate,function(r){return t(new vU(n,r))})},e.prototype.batch=function(){var t=this;return Dt(this._delegate),new gU(new PY(this._delegate,function(n){return zh(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new V(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new V(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),gm=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new pU(new ha(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Js.eu(r,this.firestore,null)},t}(p1);function DY(e){var t;t=e,zr.setLogLevel(t)}var vU=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new gm(t)}return e.prototype.get=function(t){var n=this,r=Ws(t);return this._delegate.get(r).then(function(i){return new ih(n._firestore,new $i(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Ws(t);return r?(u1("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Ws(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,ve([l,n,r],s)),this},e.prototype.delete=function(t){var n=Ws(t);return this._delegate.delete(n),this},e}(),gU=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Ws(t);return r?(u1("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Ws(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,ve([l,n,r],s)),this},e.prototype.delete=function(t){var n=Ws(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),mm=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new mf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new oh(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new gm(t),n),i.set(n,s)),s},e}();mm.su=new WeakMap;var Js=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new gm(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new V(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new rt(n._delegate,r,new te(t)))},e.eu=function(t,n,r){return new e(n,new rt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ng(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ng(this.firestore,XF(this._delegate,t))}catch(n){throw wn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=de(t))instanceof rt&&JF(this._delegate,t)},e.prototype.set=function(t,n){n=u1("DocumentReference.set",n);try{return n?iO(this._delegate,t,n):iO(this._delegate,t)}catch(r){throw wn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?oO(this._delegate,t):oO.apply(void 0,ve([this._delegate,t,n],r))}catch(s){throw wn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return zh(Ne((t=this._delegate).firestore,dt),[new Vh(t._key,sn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=mU(n),s=yU(n,function(a){return new ih(t.firestore,new $i(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return dU(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ne(r,rt);var i=Ne(r.firestore,dt),s=Dt(i),a=new Xs(i);return function(l,c){var h=this,p=new pn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var g;return N(this,function(m){switch(m.label){case 0:return g=function(y,E,S){return R(this,void 0,void 0,function(){var w,T;return N(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,function(k,P){var x=H(k);return x.persistence.runTransaction("read document","readonly",function(O){return x.Mn.mn(O,P)})}(y,E)];case 1:return(T=I.sent()).isFoundDocument()?S.resolve(T):T.isNoDocument()?S.resolve(null):S.reject(new V(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return w=I.sent(),T=Ll(w,"Failed to get document '"+E+" from cache"),S.reject(T),[3,3];case 3:return[2]}})})},[4,o1(l)];case 1:return[2,g.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._key).then(function(l){return new $i(i,a,r._key,l,new zs(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ne(r,rt);var i=Ne(r.firestore,dt);return qP(Dt(i),r._key,{source:"server"}).then(function(s){return tT(i,r,s)})}(this._delegate):function(r){r=Ne(r,rt);var i=Ne(r.firestore,dt);return qP(Dt(i),r._key).then(function(s){return tT(i,r,s)})}(this._delegate)).then(function(r){return new ih(n.firestore,new $i(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(mm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function wn(e,t,n){return e.message=e.message.replace(t,n),e}function mU(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!hl(r))return r}return{}}function yU(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=hl(e[0])?e[0]:hl(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var ih=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Js(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return lU(this._delegate,t._delegate)},e}(),oh=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(ih),Wh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new gm(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,ho(this._delegate,function(i,s,a){var l=s,c=tg("where",i);return new AY(c,l,a)}(t,n,r)))}catch(i){throw wn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ho(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=tg("orderBy",r);return new NY(a,s)}(t,n)))}catch(r){throw wn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ho(this._delegate,function(n){return QP("limit",n),new ZP("limit",n,"F")}(t)))}catch(n){throw wn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ho(this._delegate,function(n){return QP("limitToLast",n),new ZP("limitToLast",n,"L")}(t)))}catch(n){throw wn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ho(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new eO("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw wn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ho(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new eO("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw wn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ho(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new tO("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw wn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ho(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new tO("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw wn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ZF(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ne(r,zn);var i=Ne(r.firestore,dt),s=Dt(i),a=new Xs(i);return function(l,c){var h=this,p=new pn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var g;return N(this,function(m){switch(m.label){case 0:return g=function(y,E,S){return R(this,void 0,void 0,function(){var w,T,I,k,P;return N(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,Yv(y,E,!0)];case 1:return P=x.sent(),w=new BF(E,P.Bn),T=w._o(P.documents),I=w.applyChanges(T,!1),S.resolve(I.snapshot),[3,3];case 2:return k=x.sent(),P=Ll(k,"Failed to execute query '"+E+" against cache"),S.reject(P),[3,3];case 3:return[2]}})})},[4,o1(l)];case 1:return[2,g.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._query).then(function(l){return new wo(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ne(r,zn);var i=Ne(r.firestore,dt),s=Dt(i),a=new Xs(i);return zP(s,r._query,{source:"server"}).then(function(l){return new wo(i,a,r,l)})}(this._delegate):function(r){r=Ne(r,zn);var i=Ne(r.firestore,dt),s=Dt(i),a=new Xs(i);return cU(r._query),zP(s,r._query).then(function(l){return new wo(i,a,r,l)})}(this._delegate)).then(function(r){return new nT(n.firestore,new wo(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=mU(n),s=yU(n,function(a){return new nT(t.firestore,new wo(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return dU(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(mm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),LY=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new oh(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),nT=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Wh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new oh(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new LY(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new oh(r._firestore,i))})},e.prototype.isEqual=function(t){return lU(this._delegate,t._delegate)},e}(),ng=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return K(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Js(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Js(this.firestore,n===void 0?zp(this._delegate):zp(this._delegate,n))}catch(r){throw wn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Ne(i.firestore,dt),l=zp(i),c=vm(i.converter,s);return zh(a,[pm(Pa(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,sn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new Js(r.firestore,i)})},t.prototype.isEqual=function(n){return JF(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(mm.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Wh);function Ws(e){return Ne(e,rt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MY=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(di.bind.apply(di,ve([void 0],t)))}return e.documentId=function(){return new e(Kr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=de(t))instanceof di&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),FY=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new EY("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new l1("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new TY("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new bY("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new IY("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(e){return function(t,n){var r=Dt(t=Ne(t,dt)),i=new gY;return function(s,a,l,c){var h=this,p=function(g,m){return function(y,E){return new sY(y,E)}(function(y,E){if(y instanceof Uint8Array)return VP(y,E);if(y instanceof ArrayBuffer)return VP(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof g=="string"?new TextEncoder().encode(g):g),m)}(l,Bh(a));s.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var g;return N(this,function(m){switch(m.label){case 0:return g=iY,[4,s1(s)];case 1:return g.apply(void 0,[m.sent(),p,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function jY(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return R(a,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return l=function(h,p){var g=H(h);return g.persistence.runTransaction("Get named query","readonly",function(m){return g.Ke.getNamedQuery(m,p)})},[4,o1(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(Dt(t=Ne(t,dt)),n).then(function(i){return i?new zn(t,null,i.query):null})).then(function(i){return i?new Wh(r,i):null})}var VY={Firestore:v1,GeoPoint:dm,Timestamp:qn,Blob:pU,Transaction:vU,WriteBatch:gU,DocumentReference:Js,DocumentSnapshot:ih,Query:Wh,QueryDocumentSnapshot:oh,QuerySnapshot:nT,CollectionReference:ng,FieldPath:MY,FieldValue:FY,setLogLevel:DY,CACHE_SIZE_UNLIMITED:mY};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BY(e){(function(t,n){t.INTERNAL.registerComponent(new dn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},VY)))})(e,function(t,n){return new v1(t,new dt(t,n),new xY)}),e.registerVersion("@firebase/firestore","2.4.1")}BY(ee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Y(e){e.prototype.loadBundle=UY,e.prototype.namedQuery=jY}$Y(v1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lu=function(e){K(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function qY(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function zY(e,t,n){var r=qY(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!uO[l])return new Lu("internal","internal");r=uO[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Lu(r,i,s)}var WY=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HY="type.googleapis.com/google.protobuf.Int64Value",KY="type.googleapis.com/google.protobuf.UInt64Value";function lO(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var GY=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return lO(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case HY:case KY:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?lO(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Lu("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var cO=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new GY,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new WY(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g,m,y,E,S;return N(this,function(w){switch(w.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=w.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=QY(c),p=h.timer,g=h.promise,[4,Promise.race([fO(p,this.postJSON(i,s,a)),g,fO(p,this.cancelAllRequests)])];case 2:if(m=w.sent(),!m)throw new Lu("cancelled","Firebase Functions instance was deleted.");if(y=zY(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Lu("internal","Response is not valid JSON object.");if(E=m.json.data,typeof E=="undefined"&&(E=m.json.result),typeof E=="undefined")throw new Lu("internal","Response is missing data field.");return S=this.serializer.decode(E),[2,{data:S}]}})})},e}();function fO(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YY="functions";function XY(e,t){var n={Functions:cO};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new cO(l,c,p,h,a,t)}e.INTERNAL.registerComponent(new dn(YY,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var JY="@firebase/functions",ZY="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */XY(ee,fetch.bind(self));ee.registerVersion(JY,ZY);function e9(e){return Array.prototype.slice.call(e)}function _U(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function ym(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),_U(r).then(s,a)});return i.request=r,i}function t9(e,t,n){var r=ym(e,t,n);return r.then(function(i){if(!!i)return new sh(i,r.request)})}function Ml(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function g1(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return ym(this[t],i,arguments)})})}function _m(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function wU(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return t9(this[t],i,arguments)})})}function xa(e){this._index=e}Ml(xa,"_index",["name","keyPath","multiEntry","unique"]);g1(xa,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);wU(xa,"_index",IDBIndex,["openCursor","openKeyCursor"]);function sh(e,t){this._cursor=e,this._request=t}Ml(sh,"_cursor",["direction","key","primaryKey","value"]);g1(sh,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(sh.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),_U(t._request).then(function(r){if(!!r)return new sh(r,t._request)})})})});function Ti(e){this._store=e}Ti.prototype.createIndex=function(){return new xa(this._store.createIndex.apply(this._store,arguments))};Ti.prototype.index=function(){return new xa(this._store.index.apply(this._store,arguments))};Ml(Ti,"_store",["name","keyPath","indexNames","autoIncrement"]);g1(Ti,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);wU(Ti,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);_m(Ti,"_store",IDBObjectStore,["deleteIndex"]);function Hh(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Hh.prototype.objectStore=function(){return new Ti(this._tx.objectStore.apply(this._tx,arguments))};Ml(Hh,"_tx",["objectStoreNames","mode"]);_m(Hh,"_tx",IDBTransaction,["abort"]);function wm(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Hh(n)}wm.prototype.createObjectStore=function(){return new Ti(this._db.createObjectStore.apply(this._db,arguments))};Ml(wm,"_db",["name","version","objectStoreNames"]);_m(wm,"_db",IDBDatabase,["deleteObjectStore","close"]);function Em(e){this._db=e}Em.prototype.transaction=function(){return new Hh(this._db.transaction.apply(this._db,arguments))};Ml(Em,"_db",["name","version","objectStoreNames"]);_m(Em,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Ti,xa].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=e9(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[xa,Ti].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function m1(e,t,n){var r=ym(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new wm(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Em(s)})}function nw(e){return ym(indexedDB,"deleteDatabase",[e])}var n9="@firebase/installations",EU="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TU=1e4,bU="w:"+EU,IU="FIS_v2",r9="https://firebaseinstallations.googleapis.com/v1",i9=60*60*1e3,o9="installations",s9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var po,a9=(po={},po["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',po["not-registered"]="Firebase Installation is not registered.",po["installation-not-found"]="Firebase Installation not found.",po["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',po["app-offline"]="Could not process request. Application offline.",po["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",po),Hi=new Qi(o9,s9,a9);function SU(e){return e instanceof Tl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(e){var t=e.projectId;return r9+"/projects/"+t+"/installations"}function CU(e){return{token:e.token,requestStatus:2,expiresIn:u9(e.expiresIn),creationTime:Date.now()}}function _1(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Hi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function kU(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function AU(e,t){var n=t.refreshToken,r=kU(e);return r.append("Authorization",l9(n)),r}function w1(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function u9(e){return Number(e.replace("s","000"))}function l9(e){return IU+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(e,t){var n=t.fid;return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return r=y1(e),i=kU(e),s={fid:n,authVersion:IU,appId:e.appId,sdkVersion:bU},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,w1(function(){return fetch(r,a)})];case 1:return l=p.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=p.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:CU(c.authToken)},[2,h];case 3:return[4,_1("Create Installation",l)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(e){var t=btoa(String.fromCharCode.apply(String,ve([],Ht(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h9=/^[cdef][\w-]{21}$/,rT="";function d9(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=p9(e);return h9.test(n)?n:rT}catch{return rT}}function p9(e){var t=f9(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dl=new Map;function RU(e,t){var n=Fl(e);PU(n,t),m9(n,t)}function v9(e,t){OU();var n=Fl(e),r=dl.get(n);r||(r=new Set,dl.set(n,r)),r.add(t)}function g9(e,t){var n=Fl(e),r=dl.get(n);!r||(r.delete(t),r.size===0&&dl.delete(n),xU())}function PU(e,t){var n,r,i=dl.get(e);if(!!i)try{for(var s=Ft(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function m9(e,t){var n=OU();n&&n.postMessage({key:e,fid:t}),xU()}var Hs=null;function OU(){return!Hs&&"BroadcastChannel"in self&&(Hs=new BroadcastChannel("[Firebase] FID Change"),Hs.onmessage=function(e){PU(e.data.key,e.data.fid)}),Hs}function xU(){dl.size===0&&Hs&&(Hs.close(),Hs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y9="firebase-installations-database",_9=1,da="firebase-installations-store",rw=null;function E1(){return rw||(rw=m1(y9,_9,function(e){switch(e.oldVersion){case 0:e.createObjectStore(da)}})),rw}function rg(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return n=Fl(e),[4,E1()];case 1:return r=l.sent(),i=r.transaction(da,"readwrite"),s=i.objectStore(da),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&RU(e,t.fid),[2,t]}})})}function T1(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=Fl(e),[4,E1()];case 1:return n=i.sent(),r=n.transaction(da,"readwrite"),[4,r.objectStore(da).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Kh(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=Fl(e),[4,E1()];case 1:return r=c.sent(),i=r.transaction(da,"readwrite"),s=i.objectStore(da),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&RU(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Kh(e,function(s){var a=w9(s),l=E9(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==rT?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function w9(e){var t=e||{fid:d9(),registrationStatus:0};return DU(t)}function E9(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Hi.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=T9(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:b9(e)}:{installationEntry:t}}function T9(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,c9(e,t)];case 1:return n=i.sent(),[2,rg(e,n)];case 2:return r=i.sent(),SU(r)&&r.customData.serverCode===409?[4,T1(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,rg(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function b9(e){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,hO(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,NU(100)];case 3:return s.sent(),[4,hO(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,b1(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function hO(e){return Kh(e,function(t){if(!t)throw Hi.create("installation-not-found");return DU(t)})}function DU(e){return I9(e)?{fid:e.fid,registrationStatus:0}:e}function I9(e){return e.registrationStatus===1&&e.registrationTime+TU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g;return N(this,function(m){switch(m.label){case 0:return i=C9(n,t),s=AU(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:bU}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,w1(function(){return fetch(i,c)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=m.sent(),g=CU(p),[2,g];case 3:return[4,_1("Generate Auth Token",h)];case 4:throw m.sent()}})})}function C9(e,t){var n=t.fid;return y1(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,Kh(e.appConfig,function(l){if(!LU(l))throw Hi.create("not-registered");var c=l.authToken;if(!t&&N9(c))return l;if(c.requestStatus===1)return n=k9(e,t),l;if(!navigator.onLine)throw Hi.create("app-offline");var h=P9(l);return n=A9(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function k9(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,dO(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,NU(100)];case 3:return i.sent(),[4,dO(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,I1(e,t)]:[2,r]}})})}function dO(e){return Kh(e,function(t){if(!LU(t))throw Hi.create("not-registered");var n=t.authToken;return O9(n)?ie(ie({},t),{authToken:{requestStatus:0}}):t})}function A9(e,t){return R(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,S9(e,t)];case 1:return n=s.sent(),i=ie(ie({},t),{authToken:n}),[4,rg(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),SU(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,T1(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ie(ie({},t),{authToken:{requestStatus:0}}),[4,rg(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function LU(e){return e!==void 0&&e.registrationStatus===2}function N9(e){return e.requestStatus===2&&!R9(e)}function R9(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+i9}function P9(e){var t={requestStatus:1,requestTime:Date.now()};return ie(ie({},e),{authToken:t})}function O9(e){return e.requestStatus===1&&e.requestTime+TU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,b1(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):I1(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,L9(e.appConfig)];case 1:return r.sent(),[4,I1(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function L9(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,b1(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=F9(e,t),r=AU(e,t),i={method:"DELETE",headers:r},[4,w1(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,_1("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function F9(e,t){var n=t.fid;return y1(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,Kh(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Hi.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Hi.create("app-offline");case 3:return[4,M9(t,n)];case 4:return r.sent(),[4,T1(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(e,t){var n=e.appConfig;return v9(n,t),function(){g9(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(e){var t,n;if(!e||!e.options)throw iw("App Configuration");if(!e.name)throw iw("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Ft(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw iw(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function iw(e){return Hi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(e){var t="installations";e.INTERNAL.registerComponent(new dn(t,function(n){var r=n.getProvider("app").getImmediate(),i=V9(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return x9(a)},getToken:function(c){return D9(a,c)},delete:function(){return U9(a)},onIdChange:function(c){return j9(a,c)}};return l},"PUBLIC")),e.registerVersion(n9,EU)}B9(ee);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,$9=(bt={},bt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',bt["only-available-in-window"]="This method is available in a Window context.",bt["only-available-in-sw"]="This method is available in a service worker context.",bt["permission-default"]="The notification permission was not granted and dismissed instead.",bt["permission-blocked"]="The notification permission was not granted and blocked instead.",bt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",bt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",bt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",bt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",bt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",bt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",bt["token-update-no-token"]="FCM returned no token when updating the user to push.",bt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",bt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",bt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",bt["invalid-vapid-key"]="The public VAPID key must be a string.",bt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",bt),Le=new Qi("messaging","Messaging",$9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q9="/firebase-messaging-sw.js",z9="/firebase-cloud-messaging-push-scope",ig="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",W9="https://fcmregistrations.googleapis.com/v1",MU="FCM_MSG",H9="FirebaseMessaging: ",K9="google.c.a.e",FU="google.c.a.c_id",G9="google.c.a.ts",Q9="google.c.a.c_l",Y9=1e3,X9=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var pa;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(pa||(pa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,ve([],Ht(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function J9(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ow="fcm_token_details_db",Z9=5,pO="fcm_token_object_Store";function e7(e){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(ow))return[2,null];a.label=2;case 2:return r=null,[4,m1(ow,Z9,function(l){return R(s,void 0,void 0,function(){var c,h,p,p,p,g;return N(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(pO)?(c=l.transaction.objectStore(pO),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,c.clear()];case 2:if(m.sent(),!h)return[2];if(l.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(g=p.createTime)!==null&&g!==void 0?g:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Pi(p.vapidKey)}}}else l.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Pi(p.auth),p256dh:Pi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Pi(p.vapidKey)}}):l.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Pi(p.auth),p256dh:Pi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Pi(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,nw(ow)];case 4:return a.sent(),[4,nw("fcm_vapid_details_db")];case 5:return a.sent(),[4,nw("undefined")];case 6:return a.sent(),[2,t7(r)?r:null]}})})}function t7(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n7="firebase-messaging-database",r7=1,va="firebase-messaging-store",sw=null;function S1(){return sw||(sw=m1(n7,r7,function(e){switch(e.oldVersion){case 0:e.createObjectStore(va)}})),sw}function og(e){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return t=k1(e),[4,S1()];case 1:return n=s.sent(),[4,n.transaction(va).objectStore(va).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,e7(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,C1(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function C1(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=k1(e),[4,S1()];case 1:return r=s.sent(),i=r.transaction(va,"readwrite"),[4,i.objectStore(va).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function i7(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=k1(e),[4,S1()];case 1:return n=i.sent(),r=n.transaction(va,"readwrite"),[4,r.objectStore(va).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function k1(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,N1(e)];case 1:n=h.sent(),r=jU(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(A1(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Le.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Le.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw Le.create("token-subscribe-no-token");return[2,s.token]}})})}function s7(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,N1(e)];case 1:n=h.sent(),r=jU(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(A1(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Le.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Le.create("token-update-failed",{errorInfo:c});if(!s.token)throw Le.create("token-update-no-token");return[2,s.token]}})})}function UU(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,N1(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(A1(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,Le.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Le.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function A1(e){var t=e.projectId;return W9+"/projects/"+t+"/registrations"}function N1(e){var t=e.appConfig,n=e.installations;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function jU(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==ig&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a7=7*24*60*60*1e3;function iT(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Le.create("permission-blocked");return[4,l7(t,n)];case 1:return r=l.sent(),[4,og(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Pi(r.getKey("auth")),p256dh:Pi(r.getKey("p256dh"))},i?[3,3]:[2,vO(e,s)];case 3:if(c7(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,UU(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,vO(e,s)];case 8:return Date.now()>=i.createTime+a7?[2,u7({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function yf(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,og(e)];case 1:return n=i.sent(),n?[4,UU(e,n.token)]:[3,4];case 2:return i.sent(),[4,i7(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function u7(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,s7(t,e)];case 1:return r=a.sent(),i=ie(ie({},e),{token:r,createTime:Date.now()}),[4,C1(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,yf(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function vO(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,o7(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,C1(e,r)];case 2:return i.sent(),[2,r.token]}})})}function l7(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:J9(t)})]}})})}function c7(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return h7(t,e),d7(t,e),p7(t,e),t}function h7(e,t){if(!!t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function d7(e,t){!t.data||(e.data=t.data)}function p7(e,t){if(!!t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(e){return typeof e=="object"&&!!e&&FU in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v7=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Le.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,og(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:ig,i.label=2;case 2:return[2,iT(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return yf(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Le.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Le.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Le.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Le.create("only-available-in-window")},e.prototype.onMessage=function(){throw Le.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Le.create("only-available-in-window")},e.prototype.onPush=function(t){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=m7(t),n?[4,BU()]:(console.debug(H9+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),_7(r)?[2,w7(r,n)]:(i=!1,n.notification?[4,E7(g7(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=f7(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,gO(Y9)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,yf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,og(this.firebaseDependencies)];case 3:return s=a.sent(),[4,yf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,iT(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:ig)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[MU],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=T7(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,y7(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,gO(X9)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=pa.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function g7(e){var t,n=ie({},e.notification);return n.data=(t={},t[MU]=e,t),n}function m7(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function y7(e){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,BU()];case 1:t=c.sent();try{for(n=Ft(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function _7(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function w7(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=pa.PUSH_RECEIVED;try{for(var i=Ft(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function BU(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function E7(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function T7(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(VU(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b7=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===pa.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(S7(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,VU(r)&&r[K9]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Le.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,iT(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=ig),[2]})})},e.prototype.updateSwReg=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&!!this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Le.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(q9,{scope:z9})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Le.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,yf(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Le.create("permission-blocked"):Le.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Le.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Le.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Le.create("invalid-sw-registration");if(this.swRegistration)throw Le.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Le.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Le.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=I7(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[FU],message_name:n[Q9],message_time:n[G9],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function I7(e){switch(e){case pa.NOTIFICATION_CLICKED:return"notification_open";case pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function S7(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(e){var t,n;if(!e||!e.options)throw aw("App Configuration Object");if(!e.name)throw aw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=Ft(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw aw(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function aw(e){return Le.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k7="messaging";function A7(e){var t=e.getProvider("app").getImmediate(),n=C7(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!$U())throw Le.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new v7(s):new b7(s)}var N7={isSupported:$U};ee.INTERNAL.registerComponent(new dn(k7,A7,"PUBLIC").setServiceProps(N7));function $U(){return self&&"ServiceWorkerGlobalScope"in self?P7():R7()}function R7(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function P7(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qU="firebasestorage.googleapis.com",zU="storageBucket",O7=2*60*1e3,x7=10*60*1e3,wt=function(e){K(t,e);function t(n,r){var i=e.call(this,uw(n),"Firebase Storage: "+r+" ("+uw(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return uw(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Tl);function uw(e){return"storage/"+e}function R1(){var e="An unknown error occurred, please check the error payload for server response.";return new wt("unknown",e)}function D7(e){return new wt("object-not-found","Object '"+e+"' does not exist.")}function L7(e){return new wt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function M7(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt("unauthenticated",e)}function F7(){return new wt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function U7(e){return new wt("unauthorized","User does not have permission to access '"+e+"'.")}function j7(){return new wt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function WU(){return new wt("canceled","User canceled the upload/download.")}function V7(e){return new wt("invalid-url","Invalid URL '"+e+"'.")}function B7(e){return new wt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function $7(){return new wt("no-default-bucket","No default bucket found. Did you set the '"+zU+"' property when initializing the app?")}function HU(){return new wt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function q7(){return new wt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function z7(){return new wt("no-download-url","The given file does not have any download URLs.")}function Mu(e){return new wt("invalid-argument",e)}function KU(){return new wt("app-deleted","The Firebase app was deleted.")}function GU(e){return new wt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _f(e,t){return new wt("invalid-format","String does not match format '"+e+"': "+t)}function Ep(e){throw new wt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},lw=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function QU(e,t){switch(e){case gr.RAW:return new lw(YU(t));case gr.BASE64:case gr.BASE64URL:return new lw(XU(e,t));case gr.DATA_URL:return new lw(K7(t),G7(t))}throw R1()}function YU(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function H7(e){var t;try{t=decodeURIComponent(e)}catch{throw _f(gr.DATA_URL,"Malformed data URL.")}return YU(t)}function XU(e,t){switch(e){case gr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw _f(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case gr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw _f(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=W7(t)}catch{throw _f(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var JU=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw _f(gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=Q7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function K7(e){var t=new JU(e);return t.base64?XU(gr.BASE64,t.rest):H7(t.rest)}function G7(e){var t=new JU(e);return t.contentType}function Q7(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y7={STATE_CHANGED:"state_changed"},En={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cw(e){switch(e){case"running":case"pausing":case"canceling":return En.RUNNING;case"paused":return En.PAUSED;case"success":return En.SUCCESS;case"canceled":return En.CANCELED;case"error":return En.ERROR;default:return En.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zs;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Zs||(Zs={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X7=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Zs.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Zs.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Zs.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw Ep("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Ep("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Ep("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Ep("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function J7(){return new X7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z7=function(){function e(){}return e.prototype.createConnection=function(){return J7()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw B7(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(M){M.path_=decodeURIComponent(M.path)}for(var p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+g+"/"+p+"/b/"+i+"/o"+m,"i"),E={bucket:1,path:3},S=n===qU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",T=new RegExp("^https?://"+S+"/"+i+"/"+w,"i"),I={bucket:1,path:2},k=[{regex:l,indices:c,postModify:s},{regex:y,indices:E,postModify:h},{regex:T,indices:I,postModify:h}],P=0;P<k.length;P++){var x=k[P],O=x.regex.exec(t);if(O){var F=O[x.indices.bucket],L=O[x.indices.path];L||(L=""),r=new e(F,L),x.postModify(r);break}}if(r==null)throw V7(t);return r},e}(),eX=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];c||(c=!0,t.apply(null,E))}function p(E){i=setTimeout(function(){i=null,e(g,l())},E)}function g(E){for(var S=[],w=1;w<arguments.length;w++)S[w-1]=arguments[w];if(!c){if(E){h.call.apply(h,ve([null,E],S));return}var T=l()||s;if(T){h.call.apply(h,ve([null,E],S));return}r<64&&(r*=2);var I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,p(I)}}var m=!1;function y(E){m||(m=!0,!c&&(i!==null?(E||(a=2),clearTimeout(i),p(0)):E||(a=1)))}return p(0),setTimeout(function(){s=!0,y(!0)},n),y}function nX(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(e){return e!==void 0}function iX(e){return typeof e=="function"}function oX(e){return typeof e=="object"&&!Array.isArray(e)}function Tm(e){return typeof e=="string"||e instanceof String}function mO(e){return P1()&&e instanceof Blob}function P1(){return typeof Blob!="undefined"}function oT(e,t,n,r){if(r<t)throw Mu("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Mu("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function ZU(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sX=function(){function e(t,n,r,i,s,a,l,c,h,p,g){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=g,this.promise_=new Promise(function(y,E){m.resolve_=y,m.reject_=E,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new Tp(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var c=a.getErrorCode()===Zs.NO_ERROR,h=a.getStatus();if(!c||t.isRetryStatusCode_(h)){var p=a.getErrorCode()===Zs.ABORT;i(!1,new Tp(!1,null,p));return}var g=t.successCodes_.indexOf(h)!==-1;i(!0,new Tp(g,a))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());rX(h)?a(h):a()}catch(g){l(g)}else if(c!==null){var p=R1();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?KU():WU();l(p)}else{var p=j7();l(p)}}this.canceled_?r(!1,new Tp(!1,null,!0)):this.backoffId_=tX(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&nX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),Tp=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function aX(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function uX(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function lX(e,t){t&&(e["X-Firebase-GMPID"]=t)}function cX(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function fX(e,t,n,r,i,s){var a=ZU(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return lX(c,t),aX(c,n),uX(c,s),cX(c,r),new sX(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function dX(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=hX();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(P1())return new Blob(e);throw new wt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function pX(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O1=function(){function e(t,n){var r=0,i="";mO(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(mO(this.data_)){var r=this.data_,i=pX(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(P1()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(dX.apply(null,r))}else{var i=t.map(function(c){return Tm(c)?QU(gr.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(e){var t;try{t=JSON.parse(e)}catch{return null}return oX(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function gX(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function e4(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(e,t){return t}var yn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||mX}return e}(),bp=null;function yX(e){return!Tm(e)||e.length<2?e:e4(e)}function bm(){if(bp)return bp;var e=[];e.push(new yn("bucket")),e.push(new yn("generation")),e.push(new yn("metageneration")),e.push(new yn("name","fullPath",!0));function t(s,a){return yX(a)}var n=new yn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new yn("size");return i.xform=r,e.push(i),e.push(new yn("timeCreated")),e.push(new yn("updated")),e.push(new yn("md5Hash",null,!0)),e.push(new yn("cacheControl",null,!0)),e.push(new yn("contentDisposition",null,!0)),e.push(new yn("contentEncoding",null,!0)),e.push(new yn("contentLanguage",null,!0)),e.push(new yn("contentType",null,!0)),e.push(new yn("metadata","customMetadata",!0)),bp=e,bp}function _X(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new mr(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function wX(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return _X(r,e),r}function t4(e,t,n){var r=x1(t);if(r===null)return null;var i=r;return wX(e,i,n)}function EX(e,t,n){var r=x1(t);if(r===null||!Tm(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,p=e.fullPath,g="/b/"+s(h)+"/o/"+s(p),m=os(g,n),y=ZU({alt:"media",token:c});return m+y});return l[0]}function D1(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yO="prefixes",_O="items";function TX(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[yO])for(var i=0,s=n[yO];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new mr(t,l));r.prefixes.push(c)}if(n[_O])for(var h=0,p=n[_O];h<p.length;h++){var g=p[h],c=e._makeStorageReference(new mr(t,g.name));r.items.push(c)}return r}function bX(e,t,n){var r=x1(n);if(r===null)return null;var i=r;return TX(e,t,i)}var Ji=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(e){if(!e)throw R1()}function Im(e,t){function n(r,i){var s=t4(e,i,t);return pi(s!==null),s}return n}function IX(e,t){function n(r,i){var s=bX(e,t,i);return pi(s!==null),s}return n}function SX(e,t){function n(r,i){var s=t4(e,i,t);return pi(s!==null),EX(s,i,e.host)}return n}function Ul(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=F7():i=M7():n.getStatus()===402?i=L7(e.bucket):n.getStatus()===403?i=U7(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function Sm(e){var t=Ul(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=D7(e.path)),s.serverResponse=i.serverResponse,s}return n}function n4(e,t,n){var r=t.fullServerUrl(),i=os(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new Ji(i,s,Im(e,n),a);return l.errorHandler=Sm(t),l}function CX(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=os(a,e.host),c="GET",h=e.maxOperationRetryTime,p=new Ji(l,c,IX(e,t.bucket),h);return p.urlParams=s,p.errorHandler=Ul(t),p}function kX(e,t,n){var r=t.fullServerUrl(),i=os(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new Ji(i,s,SX(e,n),a);return l.errorHandler=Sm(t),l}function AX(e,t,n,r){var i=t.fullServerUrl(),s=os(i,e.host),a="PATCH",l=D1(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new Ji(s,a,Im(e,r),h);return p.headers=c,p.body=l,p.errorHandler=Sm(t),p}function NX(e,t){var n=t.fullServerUrl(),r=os(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new Ji(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=Sm(t),l}function RX(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function r4(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=RX(null,t)),r}function PX(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var k="",P=0;P<2;P++)k=k+Math.random().toString().slice(2);return k}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=r4(t,r,i),p=D1(h,n),g="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=O1.getBlob(g,r,m);if(y===null)throw HU();var E={name:h.fullPath},S=os(s,e.host),w="POST",T=e.maxUploadRetryTime,I=new Ji(S,w,Im(e,n),T);return I.urlParams=E,I.headers=a,I.body=y.uploadData(),I.errorHandler=Ul(t),I}var sg=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function L1(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{pi(!1)}var r=t||["active"];return pi(!!n&&r.indexOf(n)!==-1),n}function OX(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=r4(t,r,i),l={name:a.fullPath},c=os(s,e.host),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},g=D1(a,n),m=e.maxUploadRetryTime;function y(S){L1(S);var w;try{w=S.getResponseHeader("X-Goog-Upload-URL")}catch{pi(!1)}return pi(Tm(w)),w}var E=new Ji(c,h,y,m);return E.urlParams=l,E.headers=p,E.body=g,E.errorHandler=Ul(t),E}function xX(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=L1(h,["active","final"]),g=null;try{g=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{pi(!1)}g||pi(!1);var m=Number(g);return pi(!isNaN(m)),new sg(m,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new Ji(n,a,s,l);return c.headers=i,c.errorHandler=Ul(t),c}var wO=256*1024;function DX(e,t,n,r,i,s,a,l){var c=new sg(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw q7();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var g=c.current,m=g+p,y=p===h?"upload, finalize":"upload",E={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+c.current},S=r.slice(g,m);if(S===null)throw HU();function w(P,x){var O=L1(P,["active","final"]),F=c.current+p,L=r.size(),M;return O==="final"?M=Im(t,s)(P,x):M=null,new sg(F,L,O==="final",M)}var T="POST",I=t.maxUploadRetryTime,k=new Ji(n,T,w,I);return k.headers=E,k.body=S.uploadData(),k.progressCallback=l||null,k.errorHandler=Ul(e),k}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LX=function(){function e(t,n,r){var i=iX(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i4=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=bm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=OX(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=xX(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=wO*this._chunkMultiplier,r=new sg(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=DX(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=wO*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=n4(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=PX(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=WU(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=cw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new LX(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(cw(this._state)){case En.SUCCESS:uu(this._resolve.bind(null,this.snapshot))();break;case En.CANCELED:case En.ERROR:var n=this._reject;uu(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=cw(this._state);switch(n){case En.RUNNING:case En.PAUSED:t.next&&uu(t.next.bind(t,this.snapshot))();break;case En.SUCCESS:t.complete&&uu(t.complete.bind(t))();break;case En.CANCELED:case En.ERROR:t.error&&uu(t.error.bind(t,this._error))();break;default:t.error&&uu(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cm=function(){function e(t,n){this._service=t,n instanceof mr?this._location=n:this._location=mr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new mr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return e4(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=vX(this._location.path);if(t===null)return null;var n=new mr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw GU(t)},e}();function MX(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new i4(e,new O1(t),n)}function FX(e){var t={prefixes:[],items:[]};return o4(e,t).then(function(){return t})}function o4(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,s4(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,o4(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function s4(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&oT("options.maxResults",1,1e3,t.maxResults),n=t||{},r=CX(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function UX(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=n4(e.storage,e._location,bm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function jX(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=AX(e.storage,e._location,t,bm()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function VX(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=kX(e.storage,e._location,bm()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw z7();return r})]}})})}function BX(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=NX(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function a4(e,t){var n=gX(e._location.path,t),r=new mr(e._location.bucket,n);return new Cm(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(e){return/^[A-Za-z]+:\/\//.test(e)}function $X(e,t){return new Cm(e,t)}function u4(e,t){if(e instanceof km){var n=e;if(n._bucket==null)throw $7();var r=new Cm(n,n._bucket);return t!=null?u4(r,t):r}else return t!==void 0?a4(e,t):e}function qX(e,t){if(t&&sT(t)){if(e instanceof km)return $X(e,t);throw Mu("To use ref(service, url), the first argument must be a Storage instance.")}else return u4(e,t)}function EO(e,t){var n=t==null?void 0:t[zU];return n==null?null:mr.makeFromBucketSpec(n,e)}function zX(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:pb(i,e.app.options.projectId))}var km=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=qU,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=O7,this._maxUploadRetryTime=x7,this._requests=new Set,s!=null?this._bucket=mr.makeFromBucketSpec(s,this._host):this._bucket=EO(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=mr.makeFromBucketSpec(this._url,t):this._bucket=EO(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){oT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){oT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Cm(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new eX(KU());var s=fX(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(e,t,n){return e=de(e),MX(e,t,n)}function HX(e){return e=de(e),UX(e)}function KX(e,t){return e=de(e),jX(e,t)}function GX(e,t){return e=de(e),s4(e,t)}function QX(e){return e=de(e),FX(e)}function YX(e){return e=de(e),VX(e)}function XX(e){return e=de(e),BX(e)}function TO(e,t){return e=de(e),qX(e,t)}function JX(e,t){return a4(e,t)}function ZX(e,t,n,r){r===void 0&&(r={}),zX(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ip=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bO=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Ip(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Ip(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Ip(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new Ip(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),IO=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new ah(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new ah(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ah=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=JX(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new bO(WX(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=gr.RAW),this._throwIfRoot("putString");var i=QU(n,t),s=ie({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new bO(new i4(this._delegate,new O1(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return QX(this._delegate).then(function(n){return new IO(n,t.storage)})},e.prototype.list=function(t){var n=this;return GX(this._delegate,t||void 0).then(function(r){return new IO(r,n.storage)})},e.prototype.getMetadata=function(){return HX(this._delegate)},e.prototype.updateMetadata=function(t){return KX(this._delegate,t)},e.prototype.getDownloadURL=function(){return YX(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),XX(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw GU(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eJ=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(sT(t))throw Mu("ref() expected a child path but got a URL, use refFromURL instead.");return new ah(TO(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!sT(t))throw Mu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{mr.makeFromUrl(t,this._delegate.host)}catch{throw Mu("refFromUrl() expected a valid full URL but got an invalid one.")}return new ah(TO(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),ZX(this._delegate,t,n,r)},e}(),tJ="@firebase/storage",nJ="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rJ="storage";function iJ(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new eJ(r,new km(r,i,s,new Z7,n,ee.SDK_VERSION));return a}function oJ(e){var t={TaskState:En,TaskEvent:Y7,StringFormat:gr,Storage:km,Reference:ah};e.INTERNAL.registerComponent(new dn(rJ,iJ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(tJ,nJ)}oJ(ee);var sJ="@firebase/performance",l4="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c4=l4,aJ="FB-PERF-TRACE-START",uJ="FB-PERF-TRACE-STOP",aT="FB-PERF-TRACE-MEASURE",f4="_wt_",h4="_fp",d4="_fcp",p4="_fid",v4="@firebase/performance/config",g4="@firebase/performance/configexpire",lJ="performance",m4="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,cJ=(Bt={},Bt["trace started"]="Trace {$traceName} was started before.",Bt["trace stopped"]="Trace {$traceName} is not running.",Bt["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Bt["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Bt["no window"]="Window is not available.",Bt["no app id"]="App id is not available.",Bt["no project id"]="Project id is not available.",Bt["no api key"]="Api key is not available.",Bt["invalid cc log"]="Attempted to queue invalid cc event",Bt["FB not default"]="Performance can only start when Firebase app instance is the default one.",Bt["RC response not ok"]="RC response is not ok",Bt["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Bt["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Bt["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Bt["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Bt),nn=new Qi(lJ,m4,cJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki=new Ea(m4);Ki.logLevel=we.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fw,y4,cn=function(){function e(t){if(this.window=t,!t)throw nn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Ki.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):gh()?!0:(Ki.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(!!this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return fw===void 0&&(fw=new e(y4)),fw},e}();function fJ(e){y4=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(e,t){var n=e.length-t.length;if(n<0||n>1)throw nn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hw,Ct=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=SO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=SO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw nn.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw nn.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw nn.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return hw===void 0&&(hw=new e),hw},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _4;function hJ(){var e=Ct.getInstance().installationsService.getId();return e.then(function(t){_4=t}),e}function M1(){return _4}function dJ(){var e=Ct.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fu;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Fu||(Fu={}));var pJ=["firebase_","google_","ga_"],vJ=new RegExp("^[a-zA-Z]\\w*$"),gJ=40,mJ=100;function yJ(){var e=cn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function w4(){var e=cn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Fu.VISIBLE;case"hidden":return Fu.HIDDEN;default:return Fu.UNKNOWN}}function _J(){var e=cn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function wJ(e){if(e.length===0||e.length>gJ)return!1;var t=pJ.some(function(n){return e.startsWith(n)});return!t&&!!e.match(vJ)}function EJ(e){return e.length!==0&&e.length<=mJ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TJ="0.0.1",bJ={loggingEnabled:!0},IJ="FIREBASE_INSTALLATIONS_AUTH";function SJ(e){var t=CJ();return t?(CO(t),Promise.resolve()):NJ(e).then(CO).then(function(n){return kJ(n)},function(){})}function CJ(){var e=cn.getInstance().localStorage;if(!!e){var t=e.getItem(g4);if(!(!t||!RJ(t))){var n=e.getItem(v4);if(!!n)try{var r=JSON.parse(n);return r}catch{return}}}}function kJ(e){var t=cn.getInstance().localStorage;!e||!t||(t.setItem(v4,JSON.stringify(e)),t.setItem(g4,String(Date.now()+Ct.getInstance().configTimeToLive*60*60*1e3)))}var AJ="Could not fetch config, will use default configs";function NJ(e){return dJ().then(function(t){var n=Ct.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Ct.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:IJ+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Ct.getInstance().getAppId(),app_version:c4,sdk_version:TJ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw nn.create("RC response not ok")})}).catch(function(){Ki.info(AJ)})}function CO(e){if(!e)return e;var t=Ct.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=bJ.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=kO(t.tracesSamplingRate),t.logNetworkAfterSampling=kO(t.networkRequestsSamplingRate),e}function RJ(e){return Number(e)>Date.now()}function kO(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F1=1,dw;function E4(){return F1=2,dw=dw||OJ(),dw}function PJ(){return F1===3}function OJ(){return xJ().then(function(){return hJ()}).then(function(e){return SJ(e)}).then(function(){return AO()},function(){return AO()})}function xJ(){var e=cn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function AO(){F1=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U1=10*1e3,DJ=5.5*1e3,T4=3,LJ=1e3,ag=T4,jo=[],NO=!1;function MJ(){NO||(Am(DJ),NO=!0)}function Am(e){setTimeout(function(){if(ag!==0){if(!jo.length)return Am(U1);FJ()}},e)}function FJ(){var e=jo.splice(0,LJ),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ct.getInstance().logSource,log_event:t};UJ(n,e).catch(function(){jo=ve(ve([],e),jo),ag--,Ki.info("Tries left: "+ag+"."),Am(U1)})}function UJ(e,t){return jJ(e).then(function(n){return n.ok||Ki.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=U1;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(jo=ve(ve([],t),jo),Ki.info("Retry transport request later.")),ag=T4,Am(i)})}function jJ(e){var t=Ct.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function VJ(e){if(!e.eventTime||!e.message)throw nn.create("invalid cc log");jo=ve(ve([],jo),[e])}function BJ(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);VJ({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pw;function b4(e,t){pw||(pw=BJ(qJ)),pw(e,t)}function Sp(e){var t=Ct.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||!cn.getInstance().requiredApisAvailable()||e.isAuto&&w4()!==Fu.VISIBLE||(PJ()?vw(e):E4().then(function(){return vw(e)},function(){return vw(e)}))}function vw(e){if(!!M1()){var t=Ct.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return b4(e,1)},0)}}function $J(e){var t=Ct.getInstance();if(!!t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return b4(e,0)},0)}}function qJ(e,t){return t===0?zJ(e):WJ(e)}function zJ(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:I4(),network_request_metric:t};return JSON.stringify(n)}function WJ(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:I4(),trace_metric:t};return JSON.stringify(r)}function I4(){return{google_app_id:Ct.getInstance().getAppId(),app_instance_id:M1(),web_app_info:{sdk_version:c4,page_url:cn.getInstance().getUrl(),service_worker_status:yJ(),visibility_state:w4(),effective_connection_type:_J()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HJ=100,KJ="_",GJ=[h4,d4,p4];function QJ(e,t){return e.length===0||e.length>HJ?!1:t&&t.startsWith(f4)&&GJ.indexOf(e)>-1||!e.startsWith(KJ)}function YJ(e){var t=Math.floor(e);return t<e&&Ki.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wf=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=cn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=aJ+"-"+this.randomId+"-"+this.name,this.traceStopMark=uJ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||aT+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw nn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw nn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Sp(this)},e.prototype.record=function(t,n,r){if(t<=0)throw nn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw nn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=ie({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Sp(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(QJ(t,this.name))this.counters[t]=YJ(n);else throw nn.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=wJ(t),i=EJ(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw nn.create("invalid attribute name",{attributeName:t});if(!i)throw nn.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return ie({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=cn.getInstance().getUrl();if(!!i){var s=new e(f4+i,!0),a=Math.floor(cn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(g){return g.name===l});h&&h.startTime&&s.putMetric(h4,Math.floor(h.startTime*1e3));var p=n.find(function(g){return g.name===c});p&&p.startTime&&s.putMetric(d4,Math.floor(p.startTime*1e3)),r&&s.putMetric(p4,Math.floor(r*1e3))}Sp(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);Sp(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=cn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};$J(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XJ=5e3;function PO(){!M1()||(setTimeout(function(){return ZJ()},0),setTimeout(function(){return JJ()},0),setTimeout(function(){return eZ()},0))}function JJ(){for(var e=cn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];RO(i)}e.setupObserver("resource",RO)}function ZJ(){var e=cn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){wf.createOobTrace(t,n),r=void 0},XJ);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),wf.createOobTrace(t,n,i))})}else wf.createOobTrace(t,n)}function eZ(){for(var e=cn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];OO(i)}e.setupObserver("measure",OO)}function OO(e){var t=e.name;t.substring(0,aT.length)!==aT&&wf.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tZ=function(){function e(t){this.app=t,cn.getInstance().requiredApisAvailable()&&mb().then(function(n){n&&(MJ(),E4().then(PO,PO))}).catch(function(n){Ki.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new wf(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Ct.getInstance().instrumentationEnabled},set:function(t){Ct.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Ct.getInstance().dataCollectionEnabled},set:function(t){Ct.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nZ="[DEFAULT]";function rZ(e){var t=function(n,r){if(n.name!==nZ)throw nn.create("FB not default");if(typeof window=="undefined")throw nn.create("no window");return fJ(window),Ct.getInstance().firebaseAppInstance=n,Ct.getInstance().installationsService=r,new tZ(n)};e.INTERNAL.registerComponent(new dn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(sJ,l4)}rZ(ee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iZ="firebase_id",oZ="origin",sZ=60*1e3,aZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",S4="https://www.googletagmanager.com/gtag/js",fn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(fn||(fn={}));var uT;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(uT||(uT={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uZ(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return i&&i.global?(e(fn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=ie(ie({},r),{send_to:s}),e(fn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function lZ(e,t,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(fn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(fn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function cZ(e,t,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(fn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(fn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function fZ(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(fn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(fn.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function hZ(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt=new Ea("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(e,t){var n=document.createElement("script");n.src=S4+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function pZ(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function vZ(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,l,c,h;return N(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=p.sent(),c=l.find(function(g){return g.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return h=p.sent(),Wt.error(h),[3,8];case 8:return e(fn.CONFIG,i,s),[2]}})})}function gZ(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a,l,c,h,p,g,m,y;return N(this,function(E){switch(E.label){case 0:return E.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=E.sent(),c=function(S){var w=l.find(function(I){return I.measurementId===S}),T=w&&t[w.appId];if(T)s.push(T);else return s=[],"break"},h=0,p=a;h<p.length&&(g=p[h],m=c(g),m!=="break");h++);E.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return E.sent(),e(fn.EVENT,r,i||{}),[3,5];case 4:return y=E.sent(),Wt.error(y),[3,5];case 5:return[2]}})})}function mZ(e,t,n,r){function i(s,a,l){return R(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==fn.EVENT?[3,2]:[4,gZ(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==fn.CONFIG?[3,4]:[4,vZ(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(fn.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),Wt.error(c),[3,7];case 7:return[2]}})})}return i}function yZ(e,t,n,r,i){var s=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=mZ(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function _Z(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(S4))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr,wZ=(Fr={},Fr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Fr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Fr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Fr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Fr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Fr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Fr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Fr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Fr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Fr),Er=new Qi("analytics","Analytics",wZ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EZ=30,TZ=1e3,bZ=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=TZ),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),C4=new bZ;function IZ(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function SZ(e){var t;return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:IZ(r)},s=aZ.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Er.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function CZ(e,t,n){return t===void 0&&(t=C4),R(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return N(this,function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Er.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Er.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new NZ,setTimeout(function(){return R(h,void 0,void 0,function(){return N(this,function(g){return c.abort(),[2]})})},n!==void 0?n:sZ),[2,k4({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function k4(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=C4),R(this,void 0,void 0,function(){var a,l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,kZ(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return Wt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,SZ(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(p=y.sent(),!AZ(p)){if(r.deleteThrottleMetadata(a),l)return Wt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:l}];throw p}return g=Number(p.customData.httpStatus)===503?uE(s,r.intervalMillis,EZ):uE(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+g,backoffCount:s+1},r.setThrottleMetadata(a,m),Wt.debug("Calling attemptFetch again in "+g+" millis"),[2,k4(e,m,n,r)];case 7:return[2]}})})}function kZ(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Er.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function AZ(e){if(!(e instanceof Tl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var NZ=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RZ(){return R(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return gh()?[3,1]:(Wt.warn(Er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,mb()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Wt.warn(Er.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function PZ(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:return a=CZ(e),a.then(function(E){n[E.measurementId]=E.appId,e.options.measurementId&&E.measurementId!==e.options.measurementId&&Wt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+E.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(E){return Wt.error(E)}),t.push(a),l=RZ().then(function(E){if(E)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],p=c[1],_Z()||dZ(s,h.measurementId),i("js",new Date),g=(m={},m[oZ]="firebase",m.update=!0,m),p!=null&&(g[iZ]=p),i(fn.CONFIG,h.measurementId,g),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri={},xO=[],DO={},Wp="dataLayer",A4="gtag",LO,jc,lT=!1;function OZ(e){if(lT)throw Er.create("already-initialized");e.dataLayerName&&(Wp=e.dataLayerName),e.gtagName&&(A4=e.gtagName)}function xZ(){var e=[];if(gb()&&e.push("This is a browser extension environment."),YD()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Er.create("invalid-analytics-context",{errorInfo:t});Wt.warn(n.message)}}function DZ(e,t){xZ();var n=e.options.appId;if(!n)throw Er.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Wt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Er.create("no-api-key");if(Ri[n]!=null)throw Er.create("already-exists",{id:n});if(!lT){pZ(Wp);var r=yZ(Ri,xO,DO,Wp,A4),i=r.wrappedGtag,s=r.gtagCore;jc=i,LO=s,lT=!0}Ri[n]=PZ(e,xO,DO,t,LO,Wp);var a={app:e,logEvent:function(l,c,h){uZ(jc,Ri[n],l,c,h).catch(function(p){return Wt.error(p)})},setCurrentScreen:function(l,c){lZ(jc,Ri[n],l,c).catch(function(h){return Wt.error(h)})},setUserId:function(l,c){cZ(jc,Ri[n],l,c).catch(function(h){return Wt.error(h)})},setUserProperties:function(l,c){fZ(jc,Ri[n],l,c).catch(function(h){return Wt.error(h)})},setAnalyticsCollectionEnabled:function(l){hZ(Ri[n],l).catch(function(c){return Wt.error(c)})},INTERNAL:{delete:function(){return delete Ri[n],Promise.resolve()}}};return a}var LZ="@firebase/analytics",MZ="0.6.18",MO="analytics";function FZ(e){e.INTERNAL.registerComponent(new dn(MO,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return DZ(r,i)},"PUBLIC").setServiceProps({settings:OZ,EventName:uT,isSupported:UZ})),e.INTERNAL.registerComponent(new dn("analytics-internal",t,"PRIVATE")),e.registerVersion(LZ,MZ);function t(n){try{var r=n.getProvider(MO).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Er.create("interop-component-reg-failed",{reason:i})}}}FZ(ee);function UZ(){return R(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(gb())return[2,!1];if(!YD())return[2,!1];if(!gh())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,mb()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jZ=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n,VZ=(_n={},_n["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",_n["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",_n["registration-api-key"]="Undefined API key. Check Firebase app initialization.",_n["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",_n["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",_n["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",_n["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",_n["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",_n["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",_n["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',_n["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',_n["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",_n["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",_n),yr=new Qi("remoteconfig","Remote Config",VZ);function BZ(e,t){return e instanceof Tl&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Z(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qZ=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,g,m,y,E,S,w,T,I,k,P;return N(this,function(x){switch(x.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=x.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:$Z()},h={method:"POST",headers:l,body:JSON.stringify(c)},p=fetch(a,h),g=new Promise(function(O,F){t.signal.addEventListener(function(){var L=new Error("The operation was aborted.");L.name="AbortError",F(L)})}),x.label=2;case 2:return x.trys.push([2,5,,6]),[4,Promise.race([p,g])];case 3:return x.sent(),[4,p];case 4:return m=x.sent(),[3,6];case 5:throw y=x.sent(),E="fetch-client-network",y.name==="AbortError"&&(E="fetch-timeout"),yr.create(E,{originalErrorMessage:y.message});case 6:if(S=m.status,w=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];k=void 0,x.label=7;case 7:return x.trys.push([7,9,,10]),[4,m.json()];case 8:return k=x.sent(),[3,10];case 9:throw P=x.sent(),yr.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:T=k.entries,I=k.state,x.label=11;case 11:if(I==="INSTANCE_STATE_UNSPECIFIED"?S=500:I==="NO_CHANGE"?S=304:(I==="NO_TEMPLATE"||I==="EMPTY_CONFIG")&&(T={}),S!==304&&S!==200)throw yr.create("fetch-status",{httpStatus:S});return[2,{status:S,eTag:w,config:T}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zZ=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WZ=!1,HZ="",FO=0,KZ=["1","true","t","yes","y","on"],gw=function(){function e(t,n){n===void 0&&(n=HZ),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?WZ:KZ.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return FO;var t=Number(this._value);return isNaN(t)&&(t=FO),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GZ=60*1e3,QZ=12*60*60*1e3,YZ=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:GZ,minimumFetchIntervalMillis:QZ},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=we.DEBUG;break;case"silent":this._logger.logLevel=we.SILENT;break;default:this._logger.logLevel=we.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return R(this,void 0,void 0,function(){var t,n,r,i=this;return N(this,function(s){switch(s.label){case 0:t=new zZ,setTimeout(function(){return R(i,void 0,void 0,function(){return N(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=BZ(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return XZ(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new gw("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new gw("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new gw("static"))},e}();function XZ(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(ie(ie({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(e,t){var n=e.target.error||void 0;return yr.create(t,{originalErrorMessage:n&&n.message})}var Ps="app_namespace_store",JZ="firebase_remote_config",ZZ=1;function eee(){return new Promise(function(e,t){var n=indexedDB.open(JZ,ZZ);n.onerror=function(r){t(Hp(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ps,{keyPath:"compositeKey"})}}})}var tee=function(){function e(t,n,r,i){i===void 0&&(i=eee()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Ps],"readonly"),c=l.objectStore(Ps),h=r.createCompositeKey(t);try{var p=c.get(h);p.onerror=function(g){a(Hp(g,"storage-get"))},p.onsuccess=function(g){var m=g.target.result;s(m?m.value:void 0)}}catch(g){a(yr.create("storage-get",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.set=function(t,n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([Ps],"readwrite"),h=c.objectStore(Ps),p=i.createCompositeKey(t);try{var g=h.put({compositeKey:p,value:n});g.onerror=function(m){l(Hp(m,"storage-set"))},g.onsuccess=function(){a()}}catch(m){l(yr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Ps],"readwrite"),c=l.objectStore(Ps),h=r.createCompositeKey(t);try{var p=c.delete(h);p.onerror=function(g){a(Hp(g,"storage-delete"))},p.onsuccess=function(){s()}}catch(g){a(yr.create("storage-delete",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nee=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ree(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(yr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function iee(e){if(!(e instanceof Tl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var oee=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return R(this,void 0,void 0,function(){var s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,ree(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!iee(a))throw a;return l={throttleEndTimeMillis:Date.now()+uE(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),UO="@firebase/remote-config",see="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aee(e){e.INTERNAL.registerComponent(new dn("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(UO,see);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window=="undefined")throw yr.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,p=l.appId;if(!c)throw yr.create("registration-project-id");if(!h)throw yr.create("registration-api-key");if(!p)throw yr.create("registration-app-id");i=i||"firebase";var g=new tee(p,s.name,i),m=new nee(g),y=new Ea(UO);y.logLevel=we.ERROR;var E=new qZ(a,e.SDK_VERSION,i,c,h,p),S=new oee(E,g),w=new jZ(S,g,m,y),T=new YZ(s,w,m,g,y);return T.ensureInitialized(),T}}aee(ee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur,uee=(Ur={},Ur["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Ur["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Ur["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ur["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ur["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ur["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ur["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ur["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ur["recaptcha-error"]="ReCAPTCHA error.",Ur),er=new Qi("appCheck","AppCheck",uee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N4=new Map,lee={activated:!1,tokenObservers:[]},cee={enabled:!1};function An(e){return N4.get(e)||lee}function vi(e,t){N4.set(e,t)}function j1(){return cee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R4="https://content-firebaseappcheck.googleapis.com/v1beta",fee="exchangeRecaptchaToken",hee="exchangeDebugToken",jO={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dee=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Lt,[4,pee(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Lt,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function pee(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){return self.grecaptcha}function P4(e){if(!An(e).activated)throw er.create("use-before-activation",{appName:e.name})}function vee(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function gee(e){return Ig.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(e,t){var n=e.url,r=e.body;return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,g,m,y;return N(this,function(E){switch(E.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},E.label=1;case 1:return E.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=E.sent(),[3,4];case 3:throw c=E.sent(),er.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(l.status!==200)throw er.create("fetch-status-error",{httpStatus:l.status});E.label=5;case 5:return E.trys.push([5,7,,8]),[4,l.json()];case 6:return h=E.sent(),[3,8];case 7:throw p=E.sent(),er.create("fetch-parse-error",{originalErrorMessage:p.message});case 8:if(g=h.ttl.match(/^([\d.]+)(s)$/),!g||!g[2]||isNaN(Number(g[1])))throw er.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return m=Number(g[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+m,issuedAtTimeMillis:y}]}})})}function mee(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:R4+"/projects/"+r+"/apps/"+i+":"+fee+"?key="+s,body:{recaptcha_token:t}}}function yee(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:R4+"/projects/"+r+"/apps/"+i+":"+hee+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _ee="firebase-app-check-database",wee=1,uh="firebase-app-check-store",x4="debug-token",Cp=null;function D4(){return Cp||(Cp=new Promise(function(e,t){try{var n=indexedDB.open(_ee,wee);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(er.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(uh,{keyPath:"compositeKey"})}}}catch(r){t(er.create("storage-open",{originalErrorMessage:r.message}))}}),Cp)}function Eee(e){return M4(F4(e))}function Tee(e,t){return L4(F4(e),t)}function bee(e){return L4(x4,e)}function Iee(){return M4(x4)}function L4(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,D4()];case 1:return n=a.sent(),r=n.transaction(uh,"readwrite"),i=r.objectStore(uh),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(l,c){s.onsuccess=function(h){l()},r.onerror=function(h){var p;c(er.create("storage-set",{originalErrorMessage:(p=h.target.error)===null||p===void 0?void 0:p.message}))}})]}})})}function M4(e){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,D4()];case 1:return t=s.sent(),n=t.transaction(uh,"readonly"),r=n.objectStore(uh),i=r.get(e),[2,new Promise(function(a,l){i.onsuccess=function(c){var h=c.target.result;a(h?h.value:void 0)},n.onerror=function(c){var h;l(er.create("storage-get",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function F4(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nm=new Ea("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function See(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!gh())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Eee(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),Nm.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function BO(e,t){return gh()?Tee(e,t).catch(function(n){Nm.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function Cee(){return R(this,void 0,void 0,function(){var e,t;return N(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Iee()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=vee(),bee(t).catch(function(r){return Nm.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(){var e=j1();return e.enabled}function Aee(){return R(this,void 0,void 0,function(){var e;return N(this,function(t){if(e=j1(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function Nee(){var e=D6();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=j1();t.enabled=!0;var n=new Lt;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Cee())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ree={error:"UNKNOWN_ERROR"};function ug(e,t,n){return n===void 0&&(n=!1),R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,g,m;return N(this,function(y){switch(y.label){case 0:return P4(e),r=An(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&lh(a)&&(i=a,vi(e,ie(ie({},r),{token:i})),$O(e,{token:i.token})),y.label=2;case 2:return!n&&i&&lh(i)?[2,{token:i.token}]:kee()?(c=O4,h=yee,p=[e],[4,Aee()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,p.concat([y.sent()])),t])];case 4:return l=y.sent(),[4,BO(e,l)];case 5:return y.sent(),vi(e,ie(ie({},r),{token:l})),[2,{token:l.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return g=y.sent(),Nm.error(g),s=g,[3,9];case 9:return i?[3,10]:(m=Oee(s),[3,12]);case 10:return m={token:i.token},vi(e,ie(ie({},r),{token:i})),[4,BO(e,i)];case 11:y.sent(),y.label=12;case 12:return $O(e,m),[2,m]}})})}function U4(e,t,n,r,i){var s=An(e),a={next:r,error:i,type:n},l=ie(ie({},s),{tokenObservers:ve(ve([],s.tokenObservers),[a])});if(!l.tokenRefresher){var c=Pee(e,t);l.tokenRefresher=c}if(!l.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&l.tokenRefresher.start(),s.token&&lh(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(p){p&&lh(p)&&r({token:p.token})}).catch(function(){});vi(e,l)}function V1(e,t){var n=An(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),vi(e,ie(ie({},n),{tokenObservers:r}))}function Pee(e,t){var n=this;return new dee(function(){return R(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=An(e),r.token?[3,2]:[4,ug(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,ug(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=An(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},jO.RETRIAL_MIN_WAIT,jO.RETRIAL_MAX_WAIT)}function $O(e,t){for(var n=An(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function lh(e){return e.expireTimeMillis-Date.now()>0}function Oee(e){return{token:gee(Ree),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xee="https://www.google.com/recaptcha/api.js";function Dee(e,t){var n=An(e),r=new Lt;vi(e,ie(ie({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=VO();return a?a.ready(function(){qO(e,t,a,i),r.resolve(a)}):Mee(function(){var l=VO();if(!l)throw new Error("no recaptcha");l.ready(function(){qO(e,t,l,i),r.resolve(l)})}),r.promise}function Lee(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return P4(e),t=An(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=An(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function qO(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=An(e);vi(e,ie(ie({},s),{reCAPTCHAState:ie(ie({},s.reCAPTCHAState),{widgetId:i})}))}function Mee(e){var t=document.createElement("script");t.src=""+xee,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cT=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw er.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Lee(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),er.create("recaptcha-error");case 4:return[2,O4(mee(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,Dee(t,this._siteKey).catch(function(){})},e}(),fT=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:if(!this._app)throw er.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=U6(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,ie(ie({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fee(e,t,n,r){var i=An(e);if(i.activated)throw er.create("already-activated",{appName:e.name});var s=ie(ie({},i),{activated:!0});s.cachedTokenPromise=See(e).then(function(a){return a&&lh(a)&&vi(e,ie(ie({},An(e)),{token:a})),a}),typeof t=="string"?s.provider=new cT(t):t instanceof cT||t instanceof fT?s.provider=t:s.provider=new fT({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,vi(e,s),s.provider.initialize(e,n)}function Uee(e,t){var n=An(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),vi(e,ie(ie({},n),{isTokenAutoRefreshEnabled:t}))}function jee(e,t,n){return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,ug(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function Vee(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),U4(e,t,"EXTERNAL",s,a),function(){return V1(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bee(e,t){return{app:e,activate:function(n,r){return Fee(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return Uee(e,n)},getToken:function(n){return jee(e,t,n)},onTokenChanged:function(n,r,i){return Vee(e,t,n,r)},INTERNAL:{delete:function(){for(var n=An(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];V1(e,s.next)}return Promise.resolve()}}}}function $ee(e,t){return{getToken:function(n){return ug(e,t,n)},addTokenListener:function(n){return U4(e,t,"INTERNAL",n)},removeTokenListener:function(n){return V1(e,n)}}}var qee="@firebase/app-check",zee="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wee="appCheck",zO="app-check-internal";function Hee(e){e.INTERNAL.registerComponent(new dn(Wee,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return Bee(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:cT,CustomProvider:fT}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(zO);i.initialize()})),e.INTERNAL.registerComponent(new dn(zO,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return $ee(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(qee,zee)}Hee(ee);Nee();var Kee="firebase",j4="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ee.registerVersion(Kee,j4,"app");ee.SDK_VERSION=j4;var Gee="firebase",Qee="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ee.registerVersion(Gee,Qee);var Rm={exports:{}},Gh={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yee=G.exports,V4=60103;Gh.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var WO=Symbol.for;V4=WO("react.element"),Gh.Fragment=WO("react.fragment")}var Xee=Yee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jee=Object.prototype.hasOwnProperty,Zee={key:!0,ref:!0,__self:!0,__source:!0};function B4(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Jee.call(t,r)&&!Zee.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:V4,type:e,key:s,ref:a,props:i,_owner:Xee.current}}Gh.jsx=B4;Gh.jsxs=B4;Rm.exports=Gh;const ete=Rm.exports.jsx,bte=Rm.exports.jsxs,tte=Rm.exports.Fragment;function $4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=$4(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Co(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=$4(t))&&(r&&(r+=" "),r+=n);return r}function tr(){return tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tr.apply(this,arguments)}function q4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Pm(e){return typeof e=="number"&&!isNaN(e)}function Vc(e){return typeof e=="boolean"}function ga(e){return typeof e=="string"}function an(e){return typeof e=="function"}function Kp(e){return ga(e)||an(e)?e:null}function mw(e){return e===0||e}function nte(e,t){return e===!1||Pm(e)&&e>0?e:t}var z4=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function yw(e){return G.exports.isValidElement(e)||ga(e)||an(e)||Pm(e)}var W4={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Zi={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function rte(e,t,n){n===void 0&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame(function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame(function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function ite(e){var t=e.enter,n=e.exit,r=e.appendPosition,i=r===void 0?!1:r,s=e.collapse,a=s===void 0?!0:s,l=e.collapseDuration,c=l===void 0?300:l;return function(p){var g=p.children,m=p.position,y=p.preventExitTransition,E=p.done,S=p.nodeRef,w=p.isIn,T=i?t+"--"+m:t,I=i?n+"--"+m:n,k=G.exports.useRef(),P=G.exports.useRef(0);G.exports.useLayoutEffect(function(){x()},[]),G.exports.useEffect(function(){w||(y?L():F())},[w]);function x(){var M=S.current;k.current=M.className,M.className+=" "+T,M.addEventListener("animationend",O),M.addEventListener("animationcancel",O)}function O(M){if(M.target===S.current){var A=S.current;A.dispatchEvent(new Event("d")),A.removeEventListener("animationend",O),A.removeEventListener("animationcancel",O),P.current===0&&(A.className=k.current)}}function F(){P.current=1;var M=S.current;M.className+=" "+I,M.addEventListener("animationend",L)}function L(){var M=S.current;M.removeEventListener("animationend",L),a?rte(M,E,c):E()}return ete(tte,{children:g})}}var Hr={list:new Map,emitQueue:new Map,on:function(t,n){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(n),this},off:function(t,n){if(n){var r=this.list.get(t).filter(function(i){return i!==n});return this.list.set(t,r),this}return this.list.delete(t),this},cancelEmit:function(t){var n=this.emitQueue.get(t);return n&&(n.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit:function(t){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];this.list.has(t)&&this.list.get(t).forEach(function(a){var l=setTimeout(function(){a.apply(void 0,i)},0);n.emitQueue.has(t)||n.emitQueue.set(t,[]),n.emitQueue.get(t).push(l)})}},ote=["delay","staleId"];function ste(e){var t=G.exports.useReducer(function(T){return T+1},0),n=t[1],r=G.exports.useState([]),i=r[0],s=r[1],a=G.exports.useRef(null),l=G.exports.useRef(new Map).current,c=function(I){return i.indexOf(I)!==-1},h=G.exports.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(I){return l.get(I)}}).current;G.exports.useEffect(function(){return h.containerId=e.containerId,Hr.cancelEmit(3).on(0,E).on(1,function(T){return a.current&&g(T)}).on(5,p).emit(2,h),function(){return Hr.emit(3,h)}},[]),G.exports.useEffect(function(){h.isToastActive=c,h.displayedToast=i.length,Hr.emit(4,i.length,e.containerId)},[i]),G.exports.useEffect(function(){h.props=e});function p(T){var I=T.containerId,k=h.props.limit;k&&(!I||h.containerId===I)&&(h.count-=h.queue.length,h.queue=[])}function g(T){s(function(I){return mw(T)?I.filter(function(k){return k!==T}):[]})}function m(){var T=h.queue.shift(),I=T.toastContent,k=T.toastProps,P=T.staleId;S(I,k,P)}function y(T){return!a.current||h.props.enableMultiContainer&&T.containerId!==h.props.containerId||l.has(T.toastId)&&T.updateId==null}function E(T,I){var k=I.delay,P=I.staleId,x=q4(I,ote);if(!(!yw(T)||y(x))){var O=x.toastId,F=x.updateId,L=x.data,M=h.props,A=function(){return g(O)},ge=F==null;ge&&h.count++;var pe={toastId:O,updateId:F,isLoading:x.isLoading,theme:x.theme||M.theme,icon:x.icon!=null?x.icon:M.icon,isIn:!1,key:x.key||h.toastKey++,type:x.type,closeToast:A,closeButton:x.closeButton,rtl:M.rtl,position:x.position||M.position,transition:x.transition||M.transition,className:Kp(x.className||M.toastClassName),bodyClassName:Kp(x.bodyClassName||M.bodyClassName),style:x.style||M.toastStyle,bodyStyle:x.bodyStyle||M.bodyStyle,onClick:x.onClick||M.onClick,pauseOnHover:Vc(x.pauseOnHover)?x.pauseOnHover:M.pauseOnHover,pauseOnFocusLoss:Vc(x.pauseOnFocusLoss)?x.pauseOnFocusLoss:M.pauseOnFocusLoss,draggable:Vc(x.draggable)?x.draggable:M.draggable,draggablePercent:x.draggablePercent||M.draggablePercent,draggableDirection:x.draggableDirection||M.draggableDirection,closeOnClick:Vc(x.closeOnClick)?x.closeOnClick:M.closeOnClick,progressClassName:Kp(x.progressClassName||M.progressClassName),progressStyle:x.progressStyle||M.progressStyle,autoClose:x.isLoading?!1:nte(x.autoClose,M.autoClose),hideProgressBar:Vc(x.hideProgressBar)?x.hideProgressBar:M.hideProgressBar,progress:x.progress,role:x.role||M.role,deleteToast:function(){l.delete(O);var it=h.queue.length;if(h.count=mw(O)?h.count-1:h.count-h.displayedToast,h.count<0&&(h.count=0),it>0){var Ze=mw(O)?1:h.props.limit;if(it===1||Ze===1)h.displayedToast++,m();else{var Rn=Ze>it?it:Ze;h.displayedToast=Rn;for(var et=0;et<Rn;et++)m()}}else n()}};an(x.onOpen)&&(pe.onOpen=x.onOpen),an(x.onClose)&&(pe.onClose=x.onClose),pe.closeButton=M.closeButton,x.closeButton===!1||yw(x.closeButton)?pe.closeButton=x.closeButton:x.closeButton===!0&&(pe.closeButton=yw(M.closeButton)?M.closeButton:!0);var ke=T;G.exports.isValidElement(T)&&!ga(T.type)?ke=G.exports.cloneElement(T,{closeToast:A,toastProps:pe,data:L}):an(T)&&(ke=T({closeToast:A,toastProps:pe,data:L})),M.limit&&M.limit>0&&h.count>M.limit&&ge?h.queue.push({toastContent:ke,toastProps:pe,staleId:P}):Pm(k)&&k>0?setTimeout(function(){S(ke,pe,P)},k):S(ke,pe,P)}}function S(T,I,k){var P=I.toastId;k&&l.delete(k),l.set(P,{content:T,props:I}),s(function(x){return[].concat(x,[P]).filter(function(O){return O!==k})})}function w(T){var I=new Map,k=Array.from(l.values());return e.newestOnTop&&k.reverse(),k.forEach(function(P){var x=P.props.position;I.has(x)||I.set(x,[]),I.get(x).push(P)}),Array.from(I,function(P){return T(P[0],P[1])})}return{getToastToRender:w,containerRef:a,isToastActive:c}}function HO(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function KO(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function ate(e){var t=G.exports.useState(!1),n=t[0],r=t[1],i=G.exports.useState(!1),s=i[0],a=i[1],l=G.exports.useRef(null),c=G.exports.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,h=G.exports.useRef(e),p=e.autoClose,g=e.pauseOnHover,m=e.closeToast,y=e.onClick,E=e.closeOnClick;G.exports.useEffect(function(){h.current=e}),G.exports.useEffect(function(){return l.current&&l.current.addEventListener("d",T,{once:!0}),an(e.onOpen)&&e.onOpen(G.exports.isValidElement(e.children)&&e.children.props),function(){var A=h.current;an(A.onClose)&&A.onClose(G.exports.isValidElement(A.children)&&A.children.props)}},[]),G.exports.useEffect(function(){return e.pauseOnFocusLoss&&k(),function(){e.pauseOnFocusLoss&&P()}},[e.pauseOnFocusLoss]);function S(A){if(e.draggable){x();var ge=l.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=ge.getBoundingClientRect(),ge.style.transition="",c.x=HO(A.nativeEvent),c.y=KO(A.nativeEvent),e.draggableDirection==="x"?(c.start=c.x,c.removalDistance=ge.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=ge.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent/100))}}function w(){if(c.boundingRect){var A=c.boundingRect,ge=A.top,pe=A.bottom,ke=A.left,lt=A.right;e.pauseOnHover&&c.x>=ke&&c.x<=lt&&c.y>=ge&&c.y<=pe?I():T()}}function T(){r(!0)}function I(){r(!1)}function k(){document.hasFocus()||I(),window.addEventListener("focus",T),window.addEventListener("blur",I)}function P(){window.removeEventListener("focus",T),window.removeEventListener("blur",I)}function x(){c.didMove=!1,document.addEventListener("mousemove",F),document.addEventListener("mouseup",L),document.addEventListener("touchmove",F),document.addEventListener("touchend",L)}function O(){document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",L),document.removeEventListener("touchmove",F),document.removeEventListener("touchend",L)}function F(A){var ge=l.current;c.canDrag&&ge&&(c.didMove=!0,n&&I(),c.x=HO(A),c.y=KO(A),e.draggableDirection==="x"?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),ge.style.transform="translate"+e.draggableDirection+"("+c.delta+"px)",ge.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function L(){O();var A=l.current;if(c.canDrag&&c.didMove&&A){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),e.closeToast();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.transform="translate"+e.draggableDirection+"(0)",A.style.opacity="1"}}var M={onMouseDown:S,onTouchStart:S,onMouseUp:w,onTouchEnd:w};return p&&g&&(M.onMouseEnter=I,M.onMouseLeave=T),E&&(M.onClick=function(A){y&&y(A),c.canCloseOnClick&&m()}),{playToast:T,pauseToast:I,isRunning:n,preventExitTransition:s,toastRef:l,eventHandlers:M}}function H4(e){var t=e.closeToast,n=e.theme,r=e.ariaLabel,i=r===void 0?"close":r;return G.exports.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:function(a){a.stopPropagation(),t(a)},"aria-label":i},G.exports.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},G.exports.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function K4(e){var t,n,r=e.delay,i=e.isRunning,s=e.closeToast,a=e.type,l=e.hide,c=e.className,h=e.style,p=e.controlledProgress,g=e.progress,m=e.rtl,y=e.isIn,E=e.theme,S=tr({},h,{animationDuration:r+"ms",animationPlayState:i?"running":"paused",opacity:l?0:1});p&&(S.transform="scaleX("+g+")");var w=Co("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+E,"Toastify__progress-bar--"+a,(t={},t["Toastify__progress-bar--rtl"]=m,t)),T=an(c)?c({rtl:m,type:a,defaultClassName:w}):Co(w,c),I=(n={},n[p&&g>=1?"onTransitionEnd":"onAnimationEnd"]=p&&g<1?null:function(){y&&s()},n);return G.exports.createElement("div",Object.assign({role:"progressbar","aria-hidden":l?"true":"false","aria-label":"notification timer",className:T,style:S},I))}K4.defaultProps={type:Zi.DEFAULT,hide:!1};var ute=["theme","type"],Om=function(t){var n=t.theme,r=t.type,i=q4(t,ute);return G.exports.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};function lte(e){return G.exports.createElement(Om,Object.assign({},e),G.exports.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function cte(e){return G.exports.createElement(Om,Object.assign({},e),G.exports.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function fte(e){return G.exports.createElement(Om,Object.assign({},e),G.exports.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function hte(e){return G.exports.createElement(Om,Object.assign({},e),G.exports.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function dte(){return G.exports.createElement("div",{className:"Toastify__spinner"})}var GO={info:cte,warning:lte,success:fte,error:hte,spinner:dte},pte=function(t){var n,r,i=ate(t),s=i.isRunning,a=i.preventExitTransition,l=i.toastRef,c=i.eventHandlers,h=t.closeButton,p=t.children,g=t.autoClose,m=t.onClick,y=t.type,E=t.hideProgressBar,S=t.closeToast,w=t.transition,T=t.position,I=t.className,k=t.style,P=t.bodyClassName,x=t.bodyStyle,O=t.progressClassName,F=t.progressStyle,L=t.updateId,M=t.role,A=t.progress,ge=t.rtl,pe=t.toastId,ke=t.deleteToast,lt=t.isIn,it=t.isLoading,Ze=t.icon,Rn=t.theme,et=Co("Toastify__toast","Toastify__toast-theme--"+Rn,"Toastify__toast--"+y,(n={},n["Toastify__toast--rtl"]=ge,n)),bi=an(I)?I({rtl:ge,position:T,type:y,defaultClassName:et}):Co(et,I),ar=!!A,W=GO[y],re={theme:Rn,type:y},se=W&&W(re);Ze===!1?se=void 0:an(Ze)?se=Ze(re):G.exports.isValidElement(Ze)?se=G.exports.cloneElement(Ze,re):ga(Ze)?se=Ze:it&&(se=GO.spinner());function je(qe){if(!!qe){var Pn={closeToast:S,type:y,theme:Rn};if(an(qe))return qe(Pn);if(G.exports.isValidElement(qe))return G.exports.cloneElement(qe,Pn)}}return G.exports.createElement(w,{isIn:lt,done:ke,position:T,preventExitTransition:a,nodeRef:l},G.exports.createElement("div",Object.assign({id:pe,onClick:m,className:bi},c,{style:k,ref:l}),G.exports.createElement("div",Object.assign({},lt&&{role:M},{className:an(P)?P({type:y}):Co("Toastify__toast-body",P),style:x}),se&&G.exports.createElement("div",{className:Co("Toastify__toast-icon",(r={},r["Toastify--animate-icon Toastify__zoom-enter"]=!it,r))},se),G.exports.createElement("div",null,p)),je(h),(g||ar)&&G.exports.createElement(K4,Object.assign({},L&&!ar?{key:"pb-"+L}:{},{rtl:ge,theme:Rn,delay:g,isRunning:s,isIn:lt,closeToast:S,hide:E,type:y,style:F,className:O,controlledProgress:ar,progress:A}))))},vte=ite({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),G4=function(t){var n=ste(t),r=n.getToastToRender,i=n.containerRef,s=n.isToastActive,a=t.className,l=t.style,c=t.rtl,h=t.containerId;function p(g){var m,y=Co("Toastify__toast-container","Toastify__toast-container--"+g,(m={},m["Toastify__toast-container--rtl"]=c,m));return an(a)?a({position:g,rtl:c,defaultClassName:y}):Co(y,Kp(a))}return G.exports.createElement("div",{ref:i,className:"Toastify",id:h},r(function(g,m){var y=m.length?tr({},l):tr({},l,{pointerEvents:"none"});return G.exports.createElement("div",{className:p(g),style:y,key:"container-"+g},m.map(function(E){var S=E.content,w=E.props;return G.exports.createElement(pte,Object.assign({},w,{isIn:s(w.toastId),key:"toast-"+w.key,closeButton:w.closeButton===!0?H4:w.closeButton}),S)}))}))};G4.defaultProps={position:W4.TOP_RIGHT,transition:vte,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:H4,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var Uu=new Map,hT,Ef,Q4,dT=[],pT=!1;function gte(e,t){var n=t.containerId,r=Uu.get(n||hT);return r?r.getToast(e):null}function Y4(){return Math.random().toString(36).substring(2,9)}function mte(e){return e&&(ga(e.toastId)||Pm(e.toastId))?e.toastId:Y4()}function Qh(e,t){return Uu.size>0?Hr.emit(0,e,t):(dT.push({content:e,options:t}),pT&&z4&&(pT=!1,Ef=document.createElement("div"),document.body.appendChild(Ef),wT.exports.render(G.exports.createElement(G4,Object.assign({},Q4)),Ef))),t.toastId}function xm(e,t){return tr({},t,{type:t&&t.type||e,toastId:mte(t)})}function Dm(e){return function(t,n){return Qh(t,xm(e,n))}}function Xe(e,t){return Qh(e,xm(Zi.DEFAULT,t))}Xe.loading=function(e,t){return Qh(e,xm(Zi.DEFAULT,tr({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))};function yte(e,t,n){var r=t.pending,i=t.error,s=t.success,a;r&&(a=ga(r)?Xe.loading(r,n):Xe.loading(r.render,tr({},n,r)));var l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=function(g,m,y){if(m==null){Xe.dismiss(a);return}var E=tr({type:g},l,n,{data:y}),S=ga(m)?{render:m}:m;return a?Xe.update(a,tr({},E,S)):Xe(S.render,tr({},E,S)),y},h=an(e)?e():e;return h.then(function(p){return c("success",s,p)}).catch(function(p){return c("error",i,p)}),h}Xe.promise=yte;Xe.success=Dm(Zi.SUCCESS);Xe.info=Dm(Zi.INFO);Xe.error=Dm(Zi.ERROR);Xe.warning=Dm(Zi.WARNING);Xe.warn=Xe.warning;Xe.dark=function(e,t){return Qh(e,xm(Zi.DEFAULT,tr({theme:"dark"},t)))};Xe.dismiss=function(e){return Hr.emit(1,e)};Xe.clearWaitingQueue=function(e){return e===void 0&&(e={}),Hr.emit(5,e)};Xe.isActive=function(e){var t=!1;return Uu.forEach(function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t};Xe.update=function(e,t){t===void 0&&(t={}),setTimeout(function(){var n=gte(e,t);if(n){var r=n.props,i=n.content,s=tr({},r,t,{toastId:t.toastId||e,updateId:Y4()});s.toastId!==e&&(s.staleId=e);var a=s.render||i;delete s.render,Qh(a,s)}},0)};Xe.done=function(e){Xe.update(e,{progress:1})};Xe.onChange=function(e){return an(e)&&Hr.on(4,e),function(){an(e)&&Hr.off(4,e)}};Xe.configure=function(e){e===void 0&&(e={}),pT=!0,Q4=e};Xe.POSITION=W4;Xe.TYPE=Zi;Hr.on(2,function(e){hT=e.containerId||e,Uu.set(hT,e),dT.forEach(function(t){Hr.emit(0,t.content,t.options)}),dT=[]}).on(3,function(e){Uu.delete(e.containerId||e),Uu.size===0&&Hr.off(0).off(1).off(5),z4&&Ef&&document.body.removeChild(Ef)});export{Tte as B,tte as F,Ete as R,G4 as T,bte as a,u6 as b,wte as c,_te as d,ee as f,ete as j,G as r,Xe as t};
